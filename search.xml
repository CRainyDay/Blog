<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>JSDOM基础查询</title>
      <link href="/test/JSDOM1-1.html"/>
      <url>/test/JSDOM1-1.html</url>
      
        <content type="html"><![CDATA[<p>JS的DOM基础查询</p><a id="more"></a><h1 id="一-获取元素节点"><a href="#一-获取元素节点" class="headerlink" title="一.获取元素节点"></a>一.获取元素节点</h1><p>元素节点, 即HTML标签对象</p><p>DOM对象的方法:</p><table><thead><tr><th>方法</th><th style="text-align:left">描述</th></tr></thead><tbody><tr><td>getElementById()</td><td style="text-align:left">返回对拥有指定 id 的第一个对象的引用</td></tr><tr><td>getElementsByName()</td><td style="text-align:left">返回带有指定name属性的对象集合</td></tr><tr><td>getElementsByTagName()</td><td style="text-align:left">返回带有指定标签名的对象集合</td></tr><tr><td>write()</td><td style="text-align:left">向文档写 HTML 表达式 或 JavaScript 代码</td></tr><tr><td>writeln()</td><td style="text-align:left">等同于 write() 方法, 不同的是在每个表达式之后写一个换行符</td></tr></tbody></table><p>通过例子, 看一下获取元素节点的三个DOM方法</p><p>样式表:</p><div><div class="fold_hider"><div class="close hider_title">点击显/隐内容</div></div><div class="fold"><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">@<span class="keyword">CHARSET</span> <span class="string">"UTF-8"</span>;</span><br><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line"><span class="attribute">width</span>: <span class="number">800px</span>;</span><br><span class="line"><span class="attribute">margin-left</span>: auto;</span><br><span class="line"><span class="attribute">margin-right</span>: auto;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">button</span> &#123;</span><br><span class="line"><span class="attribute">width</span>: <span class="number">300px</span>;</span><br><span class="line"><span class="attribute">margin-bottom</span>: <span class="number">10px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#btnList</span> &#123;</span><br><span class="line"><span class="attribute">float</span>:left;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#total</span>&#123;</span><br><span class="line"><span class="attribute">width</span>: <span class="number">450px</span>;</span><br><span class="line"><span class="attribute">float</span>:left;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">ul</span>&#123;</span><br><span class="line"><span class="attribute">list-style-type</span>: none;</span><br><span class="line"><span class="attribute">margin</span>: <span class="number">0px</span>;</span><br><span class="line"><span class="attribute">padding</span>: <span class="number">0px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.inner</span> <span class="selector-tag">li</span>&#123;</span><br><span class="line"><span class="attribute">border-style</span>: solid;</span><br><span class="line"><span class="attribute">border-width</span>: <span class="number">1px</span>;</span><br><span class="line"><span class="attribute">padding</span>: <span class="number">5px</span>;</span><br><span class="line"><span class="attribute">margin</span>: <span class="number">5px</span>;</span><br><span class="line"><span class="attribute">background-color</span>: <span class="number">#99ff99</span>;</span><br><span class="line"><span class="attribute">float</span>:left;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.inner</span>&#123;</span><br><span class="line"><span class="attribute">width</span>:<span class="number">400px</span>;</span><br><span class="line"><span class="attribute">border-style</span>: solid;</span><br><span class="line"><span class="attribute">border-width</span>: <span class="number">1px</span>;</span><br><span class="line"><span class="attribute">margin-bottom</span>: <span class="number">10px</span>;</span><br><span class="line"><span class="attribute">padding</span>: <span class="number">10px</span>;</span><br><span class="line"><span class="attribute">float</span>: left;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></div><p>html的body:</p><div><div class="fold_hider"><div class="close hider_title">点击显/隐内容</div></div><div class="fold"><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"total"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"inner"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">p</span>&gt;</span>你喜欢哪个城市?<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">ul</span> <span class="attr">id</span>=<span class="string">"city"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span> <span class="attr">id</span>=<span class="string">"bj"</span>&gt;</span>北京<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span>上海<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span>东京<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span>首尔<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">br</span> /&gt;</span><span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">p</span>&gt;</span>你喜欢哪款单机游戏?<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">ul</span> <span class="attr">id</span>=<span class="string">"game"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span> <span class="attr">id</span>=<span class="string">"rl"</span>&gt;</span>红警<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span>实况<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span>极品飞车<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span>魔兽<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">br</span> /&gt;</span><span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">p</span>&gt;</span>你手机的操作系统是?<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">ul</span> <span class="attr">id</span>=<span class="string">"phone"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span>IOS<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span> <span class="attr">id</span>=<span class="string">"android"</span>&gt;</span>Android<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span>Windows Phone<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"inner"</span>&gt;</span></span><br><span class="line">            gender:</span><br><span class="line">            <span class="tag">&lt;<span class="name">input</span> <span class="attr">class</span>=<span class="string">"hello"</span> <span class="attr">type</span>=<span class="string">"radio"</span> <span class="attr">name</span>=<span class="string">"gender"</span> <span class="attr">value</span>=<span class="string">"male"</span> /&gt;</span> Male</span><br><span class="line">            <span class="tag">&lt;<span class="name">input</span> <span class="attr">class</span>=<span class="string">"hello"</span> <span class="attr">type</span>=<span class="string">"radio"</span> <span class="attr">name</span>=<span class="string">"gender"</span> <span class="attr">value</span>=<span class="string">"female"</span> /&gt;</span> Female</span><br><span class="line">            <span class="tag">&lt;<span class="name">br</span> /&gt;</span><span class="tag">&lt;<span class="name">br</span> /&gt;</span> name:</span><br><span class="line">            <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"name"</span> <span class="attr">id</span>=<span class="string">"username"</span> <span class="attr">value</span>=<span class="string">"abcde"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"btnList"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"btn01"</span>&gt;</span>查找#bj节点<span class="tag">&lt;/<span class="name">button</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"btn02"</span>&gt;</span>查找所有li节点<span class="tag">&lt;/<span class="name">button</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"btn03"</span>&gt;</span>查找name=gender的所有节点<span class="tag">&lt;/<span class="name">button</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure></div></div><p>JS实现按钮的功能:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">//为id为btn01的按钮绑定一个单击响应函数</span></span><br><span class="line">    <span class="keyword">var</span> btn01 = <span class="built_in">document</span>.getElementById(<span class="string">"btn01"</span>);</span><br><span class="line">    btn01.onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="comment">//查找id为bj的节点</span></span><br><span class="line">        <span class="keyword">var</span> bj = <span class="built_in">document</span>.getElementById(<span class="string">"bj"</span>);</span><br><span class="line">        <span class="comment">//innerHTML 通过这个属性可以获取到元素内部的html代码</span></span><br><span class="line">        alert(bj.innerHTML);</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="comment">//为id为btn02的按钮绑定一个单击响应函数</span></span><br><span class="line">    <span class="keyword">var</span> btn02 = <span class="built_in">document</span>.getElementById(<span class="string">"btn02"</span>);</span><br><span class="line">    btn02.onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="comment">//查找所有li节点</span></span><br><span class="line">        <span class="comment">//getElementsByTagName()可以根据标签名来获取一组元素节点对象</span></span><br><span class="line">        <span class="comment">//这个方法会给我们返回一个类数组对象,所有查询到的元素都会封装到对象中</span></span><br><span class="line">        <span class="comment">//即使查询到的元素只有一个,也会封装到数组中返回</span></span><br><span class="line">        <span class="keyword">var</span> lis = <span class="built_in">document</span>.getElementsByTagName(<span class="string">"li"</span>);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; lis.length; i++) &#123;</span><br><span class="line">            alert(lis[i].innerHTML);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="comment">//为id为btn03的按钮绑定一个单击响应函数</span></span><br><span class="line">    <span class="keyword">var</span> btn03 = <span class="built_in">document</span>.getElementById(<span class="string">"btn03"</span>);</span><br><span class="line">    btn03.onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="comment">//查找name属性,值为gender的所有节点</span></span><br><span class="line">        <span class="keyword">var</span> inputs = <span class="built_in">document</span>.getElementsByName(<span class="string">"gender"</span>);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; inputs.length; i++) &#123;</span><br><span class="line">            <span class="comment">/* innerHTML用于获取元素内部的HTML代码的</span></span><br><span class="line"><span class="comment"> * 对于自结束标签,这个属性没有意义</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">            <span class="comment">/* 如果需要读取自结束标签的属性</span></span><br><span class="line"><span class="comment"> * 直接使用 元素.属性名</span></span><br><span class="line"><span class="comment"> * 例: 元素.id 元素.name 元素.value</span></span><br><span class="line"><span class="comment"> * 注意: class属性不能采用这种方式</span></span><br><span class="line"><span class="comment"> * 读取class属性时需要使用 元素.className</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">            <span class="keyword">var</span> str = <span class="string">"class=\""</span>+inputs[i].className+</span><br><span class="line">                <span class="string">"\" type=\""</span>+inputs[i].type+<span class="string">"\" name=\""</span>+</span><br><span class="line">                inputs[i].name+<span class="string">"\" value=\""</span>+inputs[i].value+<span class="string">"\""</span>;</span><br><span class="line">            alert(str);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> JS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JSDOM简介</title>
      <link href="/test/JSDOM1-0.html"/>
      <url>/test/JSDOM1-0.html</url>
      
        <content type="html"><![CDATA[<p>JS中的宿主对象, JSDOM</p><a id="more"></a><h1 id="一-DOM简介"><a href="#一-DOM简介" class="headerlink" title="一.DOM简介"></a>一.DOM简介</h1><h2 id="1-什么是DOM"><a href="#1-什么是DOM" class="headerlink" title="1.什么是DOM"></a>1.什么是DOM</h2><blockquote><ul><li>DOM, 即Document Object Model 文档对象模型</li><li>JS中通过操作DOM来对HTML文档进行操作.只要了解DOM就可以随心所欲的操作WEB页面</li><li>文档: 表示的是整个HTML网页文档</li><li>对象: 表示将页面中的每一个部分(包括那些HTML标签)都转换为了对象.</li><li>模型: 表示对象(即HTML中的节点)之间的关系, 这样方便我们获取、操作对象.</li></ul></blockquote><p><img src="imgs\JS\DOMTree.png" alt="DOMTree"></p><h2 id="2-节点"><a href="#2-节点" class="headerlink" title="2.节点"></a>2.节点</h2><ul><li><p>节点(也即对象): Node——构成html文档最基本的单元, 网页中的每个部分都可以称为一个节点</p></li><li><p>常用节点分为四类:</p></li><li>——①文档节点: 整个HTML文档(即document对象)</li><li>——②元素节点: HTML文档中的html标签</li><li>——③属性节点: 元素的属性</li><li>——④文本节点: HTML标签中的文本内容</li><li>节点的类型不同, 它们的属性也可能不同</li></ul><p><img src="imgs\JS\Node.png" alt="Node"></p><h3 id="节点的属性"><a href="#节点的属性" class="headerlink" title="节点的属性"></a>节点的属性</h3><table><thead><tr><th></th><th>nodeName</th><th>nodeType</th><th>nodeValue</th></tr></thead><tbody><tr><td>文档节点</td><td>#document</td><td>9</td><td>null</td></tr><tr><td>元素节点</td><td>标签名</td><td>1</td><td>null</td></tr><tr><td>属性节点</td><td>属性名</td><td>2</td><td>属性值</td></tr><tr><td>文本节点</td><td>#text</td><td>3</td><td><font style="color:red;font-weight:bold;">文本内容</font></td></tr></tbody></table><h3 id="练习-JS操纵网页中的按钮"><a href="#练习-JS操纵网页中的按钮" class="headerlink" title="练习: JS操纵网页中的按钮"></a>练习: JS操纵网页中的按钮</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"btn"</span>&gt;</span>我是一个按钮<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(<span class="built_in">document</span>);<span class="comment">//object HTMLDocument</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//获取button对象</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> btn = <span class="built_in">document</span>.getElementById(<span class="string">"btn"</span>);</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(btn);<span class="comment">//object HTMLButtonElement</span></span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(btn.innerHTML);<span class="comment">//我是一个按钮</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">//修改按钮的文字</span></span></span><br><span class="line"><span class="javascript">        btn.innerHTML = <span class="string">"I'm a button"</span>;</span></span><br><span class="line"><span class="undefined">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure><h1 id="二-事件"><a href="#二-事件" class="headerlink" title="二.事件"></a>二.事件</h1><ul><li>事件, 即文档或浏览器窗口发生的一些特定的交互瞬间, 用户和浏览器之间的交互行为</li><li>比如: 点击按钮、鼠标移动、关闭浏览器窗口……</li><li>我们往往比较关注对事件的处理, 即响应事件</li></ul><h2 id="1-事件句柄"><a href="#1-事件句柄" class="headerlink" title="1.事件句柄"></a>1.事件句柄</h2><table><thead><tr><th>属性</th><th>此事件发生在何时</th></tr></thead><tbody><tr><td>onabort</td><td>图像的加载被中断</td></tr><tr><td>onblur</td><td>元素失去焦点</td></tr><tr><td>onchange</td><td>域的内容被改变</td></tr><tr><td>onclick</td><td>当用户点击某个对象时调用的事件句柄</td></tr><tr><td>ondblclick</td><td>当用户双击某个对象时调用的事件句柄</td></tr><tr><td>onerror</td><td>在加载文档或图像时发生错误</td></tr><tr><td>onfocus</td><td>元素获得焦点</td></tr><tr><td>onkeydown</td><td>某个键盘按键被按下</td></tr><tr><td>onkeypress</td><td>某个键盘按键被按下并松开</td></tr><tr><td>onkeyup</td><td>某个键盘按键被松开</td></tr><tr><td>onload</td><td>一张页面或一幅图像完成加载</td></tr><tr><td>onmousedown</td><td>鼠标按钮被按下</td></tr><tr><td>onmousemove</td><td>鼠标被移动</td></tr><tr><td>onmouseout</td><td>鼠标从某元素移开</td></tr><tr><td>onmouseover</td><td>鼠标移到某元素之上</td></tr><tr><td>onmouseup</td><td>鼠标按键被松开</td></tr><tr><td>onreset</td><td>重置按钮被点击</td></tr><tr><td>onresize</td><td>窗口或框架被重新调整大小</td></tr><tr><td>onselect</td><td>文本被选中</td></tr><tr><td>onsubmit</td><td>确认按钮被点击</td></tr><tr><td>onunload</td><td>用户退出页面</td></tr></tbody></table><h2 id="2-设置事件属性"><a href="#2-设置事件属性" class="headerlink" title="2.设置事件属性"></a>2.设置事件属性</h2><p>我们可以在事件对应的属性中设置一些JS代码, 当该事件被触发时, 这些代码将会执行</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--鼠标被移动时触发--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"btn"</span> <span class="attr">onmousemove</span>=<span class="string">"alert('讨厌,移到我上面干嘛~~~')"</span>&gt;</span>我是一个按钮<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure><font style="color:red;font-weight:bold;font-size:1.2em;">注意: 这种响应方式, 结构与行为发生耦合, 不方便维护, 我们一般不这样使用.</font><h2 id="3-绑定响应函数"><a href="#3-绑定响应函数" class="headerlink" title="3.绑定响应函数"></a>3.绑定响应函数</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--双击某个对象时触发--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"btn"</span>&gt;</span>我是一个按钮<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> btn = <span class="built_in">document</span>.getElementById(<span class="string">"btn"</span>);</span></span><br><span class="line"><span class="javascript">        btn.ondblclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">            alert(<span class="string">'讨厌,点我两下干嘛~~~'</span>);</span></span><br><span class="line"><span class="undefined">        &#125;;</span></span><br><span class="line"><span class="undefined">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure><p>或</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--单击某个对象时触发--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"btn"</span> <span class="attr">onclick</span>=<span class="string">"showMsg();"</span>&gt;</span>我是一个按钮<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> showMsg = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">            alert(<span class="string">'讨厌,点我干嘛~~~'</span>);</span></span><br><span class="line"><span class="undefined">        &#125;;</span></span><br><span class="line"><span class="undefined">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure><h1 id="三-文档的加载"><a href="#三-文档的加载" class="headerlink" title="三.文档的加载"></a>三.文档的加载</h1><p>&emsp;&emsp;注意到, 我们上面的代码中, script标签都写在button标签之后, 为什么呢?</p><p>这与页面的加载顺序有关, 页面是顺序加载(自上往下)的, 假如把script标签写在button标签之前, 这时在script里获取button对象时获取不到button对象, 因为它还没被加载, 再为一个null添加一个事件就会报错.</p><p>故我们需要在该DOM对象加载之后再获取它, 要么把script标签放到要获取的DOM对象之后, 要么将获取及操作该DOM对象的JS代码放在window.onload事件的响应函数中.</p><h2 id="1-onload事件"><a href="#1-onload事件" class="headerlink" title="1.onload事件"></a>1.onload事件</h2><p>  onload 事件会在页面或图像加载完成后立即发生, 该事件支持的JS对象: image, layer, window</p><p>先弹出消息对话框, 点击确定后, 再加载出按钮:</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span>JSDOM<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">            alert(<span class="string">"hello"</span>);</span></span><br><span class="line"><span class="undefined">        </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"btn"</span>&gt;</span>我是一个按钮<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>先加载出按钮, 再弹出消息对话框:</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>JSDOM<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript"><span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">alert(<span class="string">"hello"</span>);</span></span><br><span class="line"><span class="undefined">&#125;;</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"btn"</span>&gt;</span>我是一个按钮<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>个人觉得script标签写在DOM对象加载之后更好一些, 这样的话, 加载性能好点, 用户体验好. 但是现在的网速和浏览器内核已经很好了, 其实写在哪里没什么太大的差别.</p>]]></content>
      
      
      <categories>
          
          <category> JS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JS正则</title>
      <link href="/test/JS2-5.html"/>
      <url>/test/JS2-5.html</url>
      
        <content type="html"><![CDATA[<p>JS中的正则</p><a id="more"></a><h1 id="一-正则表达式简介"><a href="#一-正则表达式简介" class="headerlink" title="一.正则表达式简介"></a>一.正则表达式简介</h1><blockquote><p>百度百科:正则表达式, 又称规则表达式. (英语: Regular Expression, 在代码中常简写为regex、regexp或RE), 计算机科学的一个概念. 正则表达式通常被用来检索、替换那些符合某个模式(规则)的文本.</p><p>正则表达式用于定义一些字符串的规则, 计算机根据正则表达式, 来检查是否符合规则, 获取、提取字符串中符合规则的内容.</p></blockquote><h2 id="1-创建RegExp对象"><a href="#1-创建RegExp对象" class="headerlink" title="1.创建RegExp对象"></a>1.创建RegExp对象</h2><p>正则表达式对象即RegExp对象, JS内置的对象.</p><p>RegExp对象的test()方法, 检索字符串中指定的值, 返回 true 或 false</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//语法:</span></span><br><span class="line"><span class="comment">//var 变量名 = new RegExp("正则表达式","匹配模式");</span></span><br><span class="line"><span class="comment">//匹配模式:i 忽略大小写;g 全局匹配;m 多行匹配;</span></span><br><span class="line"><span class="keyword">var</span> reg = <span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="string">"a"</span>,<span class="string">"i"</span>);</span><br><span class="line"><span class="keyword">var</span> str = <span class="string">"ABCD"</span>;</span><br><span class="line"><span class="keyword">var</span> result = reg.test(str);<span class="comment">//检查字符串中是否含A</span></span><br><span class="line"><span class="built_in">console</span>.log(result);<span class="comment">//true</span></span><br></pre></td></tr></table></figure><h2 id="2-字面量创建RegExp对象"><a href="#2-字面量创建RegExp对象" class="headerlink" title="2.字面量创建RegExp对象"></a>2.字面量创建RegExp对象</h2><p>字面量的方式创建更加简单, 使用构造函数创建更加灵活(可以传参数).</p><font style="font-size:1.2em;"><center>语法: var 变量名 = /正则表达式/匹配模式;</center></font><font style="font-size:1.2em;color:red;">注意: 语法中没有引号</font><table><thead><tr><th>表达式</th><th>描述</th></tr></thead><tbody><tr><td>[abc]</td><td>查找方括号之间的任何字符</td></tr><tr><td>[^abc]</td><td>查找任何不在方括号之间的字符</td></tr><tr><td>[0-9]</td><td>查找任何从 0 至 9 的数字</td></tr><tr><td>[a-z]</td><td>查找任何从小写 a 到小写 z 的字符</td></tr><tr><td>[A-Z]</td><td>查找任何从大写 A 到大写 Z 的字符</td></tr><tr><td>[A-z]</td><td>查找任何从大写 A 到小写 z 的字符</td></tr><tr><td>[adgk]</td><td>查找给定集合内的任何字符</td></tr><tr><td>[^adgk]</td><td>查找给定集合外的任何字符</td></tr><tr><td>(red blue green)</td><td>查找任何指定的选项</td></tr></tbody></table><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/a/i</span>;<span class="comment">//等价于:var reg = new RegExp("a","i");</span></span><br><span class="line"><span class="comment">//1.创建一个正则表达式检查一个字符串中是否含有a或b</span></span><br><span class="line">reg = <span class="regexp">/a|b/</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//2.创建一个正则表达式检查一个字符串中是否含有字母</span></span><br><span class="line">reg = <span class="regexp">/[A-z]/</span>;<span class="comment">//中括号表示或的意思</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//3.检查一个字符串中是否含有abc或adc或aec</span></span><br><span class="line">reg = <span class="regexp">/a[bde]c/</span>;<span class="comment">//以a开头,c结尾,中间为b或d或e</span></span><br><span class="line"></span><br><span class="line">reg = <span class="regexp">/[^0-9]/</span>;<span class="comment">//检查除了数字之外的内容</span></span><br><span class="line">reg = <span class="regexp">/(abc)/</span>;<span class="comment">//abc连续出现</span></span><br><span class="line">reg = <span class="regexp">/(a|b|c)/</span>;<span class="comment">//出现过a或b或c</span></span><br></pre></td></tr></table></figure><h1 id="二-字符串与正则相关的方法"><a href="#二-字符串与正则相关的方法" class="headerlink" title="二.字符串与正则相关的方法"></a>二.字符串与正则相关的方法</h1><h2 id="1-split"><a href="#1-split" class="headerlink" title="1.split"></a>1.split</h2><ul><li>根据参数将字符串拆分为字符数组</li><li>参数可以是正则表达式</li><li>正则不需要设置全局匹配, split默认将所有符合条件的拆分</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">"1a2b3c4d5e6f7g8"</span>;</span><br><span class="line"><span class="keyword">var</span> arr = str.split(<span class="regexp">/[A-z]/</span>);<span class="comment">//根据任意字母拆分</span></span><br><span class="line"><span class="built_in">console</span>.log(arr);<span class="comment">//1,2,3,4,5,6,7,8</span></span><br></pre></td></tr></table></figure><h2 id="2-search"><a href="#2-search" class="headerlink" title="2.search"></a>2.search</h2><ul><li>检索与正则表达式相匹配的值</li><li>如果可以搜索到指定内容, 则返回第一次出现过的位置, 没搜索到返回-1</li><li>它能接受一个正则表达式作为参数, 然后根据正则表达式检索字符串</li><li>search正则查找时不能设置全局匹配</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//功能和indexOf()类似</span></span><br><span class="line"><span class="keyword">var</span> str = <span class="string">"hello abc hello adc hello aec"</span>;</span><br><span class="line"><span class="comment">//搜索字符串中是否含有abc或adc或aec</span></span><br><span class="line"><span class="keyword">var</span> result = str.search(<span class="regexp">/a[bde]c/</span>);</span><br><span class="line"><span class="built_in">console</span>.log(result);<span class="comment">//6</span></span><br></pre></td></tr></table></figure><h2 id="3-match"><a href="#3-match" class="headerlink" title="3.match"></a>3.match</h2><ul><li>可以根据正则表达式, 从一个字符串中将符合条件的内容提取出来</li><li>默认情况下, match只会找第一个符合条件的内容, 找到后停止检索, 我们可以将正则表达式设置为全局匹配模式, 这样match会找到所有符合条件的内容</li><li>可以为正则表达式设置多个匹配模式, 且顺序无所谓</li><li>match会将匹配到的内容封装到一个数组中返回, 即使只查询到一个结果.</li><li>可以将一个没有规则的长串中, 有规则的内容提取出来, 很实用</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">"1A2B3C4d5e6f7g8"</span>;</span><br><span class="line"><span class="keyword">var</span> result = str.match(<span class="regexp">/[a-z]/gi</span>);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Array</span>.isArray(result));<span class="comment">//true;</span></span><br><span class="line"><span class="built_in">console</span>.log(result);<span class="comment">//A,B,C,d,e,f,g</span></span><br><span class="line"><span class="built_in">console</span>.log(result[<span class="number">0</span>]);<span class="comment">//A</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//筛选出所有的QQ号</span></span><br><span class="line"><span class="keyword">var</span> str = <span class="string">"826720408abhfe826720407"</span>+</span><br><span class="line">    <span class="string">"freaf826720405C826720"</span>+</span><br><span class="line">    <span class="string">"404d826720405e8267204"</span>+</span><br><span class="line">    <span class="string">"00f826720409g826720401"</span>;</span><br><span class="line"><span class="keyword">var</span> result = str.match(<span class="regexp">/[0-9]&#123;8,10&#125;/g</span>);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Array</span>.isArray(result));<span class="comment">//true;</span></span><br><span class="line"><span class="built_in">console</span>.log(result);</span><br></pre></td></tr></table></figure><h2 id="4-replace"><a href="#4-replace" class="headerlink" title="4.replace"></a>4.replace</h2><ul><li>将字符串中指定的内容替换为新的内容, 不影响原字符串</li><li>参数:①被替换的内容, 可以接受一个正则表达式作为参数</li><li>②新的内容</li><li>默认只会替换一个,可以为正则表达式设置全局匹配模式替换所有内容</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">"1A2B3C4d5e6f7g8"</span>;</span><br><span class="line"><span class="comment">//将所有字母替换为""</span></span><br><span class="line"><span class="keyword">var</span> result = str.replace(<span class="regexp">/[a-z]/gi</span>,<span class="string">""</span>);</span><br><span class="line"><span class="built_in">console</span>.log(result);<span class="comment">//12345678</span></span><br></pre></td></tr></table></figure><h1 id="三-正则表达式语法补充"><a href="#三-正则表达式语法补充" class="headerlink" title="三.正则表达式语法补充"></a>三.正则表达式语法补充</h1><h2 id="1-量词"><a href="#1-量词" class="headerlink" title="1.量词"></a>1.量词</h2><ul><li>量词: 可以设置一个内容出现的次数, 它只对它前面的一个内容起作用</li></ul><table><thead><tr><th style="text-align:left">量词</th><th>描述</th></tr></thead><tbody><tr><td style="text-align:left">n+</td><td>匹配任何包含至少一个 n 的字符串, 相当于n{1, }</td></tr><tr><td style="text-align:left">n*</td><td>匹配任何包含零个或多个 n 的字符串, 相当于n{0, }</td></tr><tr><td style="text-align:left">n?</td><td>匹配任何包含零个或一个 n 的字符串, 相当于n{0,1}</td></tr><tr><td style="text-align:left">n{x}</td><td>匹配包含 x 个 n 的序列的字符串</td></tr><tr><td style="text-align:left">n{x,y}</td><td>匹配包含 x ~ y 个 n 的序列的字符串</td></tr><tr><td style="text-align:left">n{x, }</td><td>匹配包含至少 x 个 n 的序列的字符串</td></tr><tr><td style="text-align:left">n$</td><td>匹配任何结尾为 n 的字符串</td></tr><tr><td style="text-align:left">^n</td><td>匹配任何开头为 n 的字符串</td></tr><tr><td style="text-align:left">?=n</td><td>匹配任何其后紧接指定字符串 n 的字符串</td></tr><tr><td style="text-align:left">?!n</td><td>匹配任何其后没有紧接指定字符串 n 的字符串</td></tr></tbody></table><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/a&#123;3&#125;/</span>;</span><br><span class="line"><span class="built_in">console</span>.log(reg.test(<span class="string">"xaaax"</span>));<span class="comment">//只有字符串中连续出现3个a时为true</span></span><br><span class="line">reg = <span class="regexp">/(ab)&#123;3&#125;/</span>;</span><br><span class="line"><span class="built_in">console</span>.log(reg.test(<span class="string">"xabababx"</span>));<span class="comment">//只有字符串中连续出现3个ab时为true</span></span><br><span class="line">reg = <span class="regexp">/ab&#123;3,5&#125;c/</span>;</span><br><span class="line"><span class="built_in">console</span>.log(reg.test(<span class="string">"xabbbbcx"</span>));<span class="comment">//只有字符串中a和c之间有3~5个b时为true</span></span><br><span class="line">reg = <span class="regexp">/ab&#123;3,&#125;c/</span>;</span><br><span class="line"><span class="built_in">console</span>.log(reg.test(<span class="string">"xabbbcx"</span>));<span class="comment">//只有字符串中a和c之间有2个以上b时为true</span></span><br><span class="line"></span><br><span class="line">reg = <span class="regexp">/^a$/</span>;</span><br><span class="line"><span class="built_in">console</span>.log(reg.test(<span class="string">"a"</span>));<span class="comment">//只有字符串为"a"时,结果为true</span></span><br><span class="line">reg = <span class="regexp">/^a|a$/</span>;</span><br><span class="line"><span class="built_in">console</span>.log(reg.test(<span class="string">"abc"</span>));<span class="comment">//字符串以a开头或以a结尾时为true</span></span><br></pre></td></tr></table></figure><font style="color:red;font-size:1.2em;font-weight:blod;">注意: 在正则表达式中同时使用了 ^ 和 $ 量词, 则要求字符串必须完全符合正则表达式.</font><h3 id="练习-手机号的正则表达式"><a href="#练习-手机号的正则表达式" class="headerlink" title="练习: 手机号的正则表达式"></a>练习: 手机号的正则表达式</h3><p>匹配手机号的正则表达式: <font style="color:red;font-size:1.2em;font-weight:bold;">/^1[3-9][0-9]{9}$/</font></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*手机号的规则:</span></span><br><span class="line"><span class="comment"> *1. 以1开头</span></span><br><span class="line"><span class="comment"> *2. 第二位为3-9任意数字</span></span><br><span class="line"><span class="comment"> *3. 第三位之后为任意数字9个</span></span><br><span class="line"><span class="comment"> * ^ 和 $ 量词是必须的</span></span><br><span class="line"><span class="comment"> * ^1 [3-9] [0-9]&#123;9&#125;$</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> phoneNumReg = <span class="regexp">/^1[3-9][0-9]&#123;9&#125;$/</span>;</span><br><span class="line"><span class="built_in">console</span>.log(phoneNumReg.test(<span class="string">"15555555555"</span>));<span class="comment">//true</span></span><br></pre></td></tr></table></figure><h2 id="2-元字符"><a href="#2-元字符" class="headerlink" title="2.元字符"></a>2.元字符</h2><table><thead><tr><th>元字符</th><th>描述</th></tr></thead><tbody><tr><td>.</td><td>查找单个字符, 除了换行和行结束符</td></tr><tr><td>\w</td><td>查找单词字符(字母、数字、下划线)</td></tr><tr><td>\W</td><td>查找非单词字符</td></tr><tr><td>\d</td><td>查找数字</td></tr><tr><td>\D</td><td>查找非数字字符</td></tr><tr><td>\s</td><td>查找空白字符</td></tr><tr><td>\S</td><td>查找非空白字符</td></tr><tr><td>\b</td><td>匹配单词边界</td></tr><tr><td>\B</td><td>匹配非单词边界</td></tr><tr><td>\0</td><td>查找 NULL 字符</td></tr><tr><td>\n</td><td>查找换行符</td></tr><tr><td>\f</td><td>查找换页符</td></tr><tr><td>\r</td><td>查找回车符</td></tr><tr><td>\t</td><td>查找制表符</td></tr><tr><td>\v</td><td>查找垂直制表符</td></tr><tr><td>\xxx</td><td>查找以八进制数 xxx 规定的字符</td></tr><tr><td>\xdd</td><td>查找以十六进制数 dd 规定的字符</td></tr><tr><td>\uxxxx</td><td>查找以十六进制数 xxxx 规定的 Unicode 字符</td></tr></tbody></table><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//查找字符串中是否有.</span></span><br><span class="line"><span class="comment">//正则字面量:</span></span><br><span class="line"><span class="comment">//由于.是元字符,我们要用\.来代替.</span></span><br><span class="line"><span class="comment">//而\表示转义,要用\\来代替\</span></span><br><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/\./</span>;</span><br><span class="line"><span class="built_in">console</span>.log(reg.test(<span class="string">"adsC.dSf l"</span>));<span class="comment">//true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//正则构造函数:</span></span><br><span class="line"><span class="comment">//由于函数的参数为字符串,而在字符串中\代表转义字符</span></span><br><span class="line"><span class="comment">//故在字面量中的一个\要用\\来代替</span></span><br><span class="line"><span class="keyword">var</span> reg1 = <span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="string">"\\."</span>);<span class="comment">//等价于reg</span></span><br><span class="line"><span class="built_in">console</span>.log(reg1);<span class="comment">//输出:/\./</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//查找字符串是否含单词child</span></span><br><span class="line">reg = <span class="regexp">/\bchild\b/</span>;</span><br><span class="line"><span class="built_in">console</span>.log(reg.test(<span class="string">"hello children"</span>));<span class="comment">//false</span></span><br><span class="line"><span class="built_in">console</span>.log(reg.test(<span class="string">"hello child ren"</span>));<span class="comment">//true</span></span><br></pre></td></tr></table></figure><h3 id="练习-A-去除字符串的前后空格"><a href="#练习-A-去除字符串的前后空格" class="headerlink" title="练习: A.去除字符串的前后空格"></a>练习: A.去除字符串的前后空格</h3><p>匹配开头和结尾空格的正则表达式: <font style="color:red;font-size:1.2em;font-weight:bold;"> /^\s*|\s*$/g</font></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//可以考虑replace用空串替换空格</span></span><br><span class="line"><span class="keyword">var</span> str = <span class="string">"     Aaron Bob      "</span>;</span><br><span class="line"><span class="comment">//str = str.replace(/\s/g,"");//去除所有空格</span></span><br><span class="line"><span class="comment">//str = str.replace(/^\s*/,"");//去除开头的空格</span></span><br><span class="line"><span class="comment">//str = str.replace(/\s*$/,"");//去除结尾的空格</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//综合一下:</span></span><br><span class="line">str = str.replace(<span class="regexp">/^\s*|\s*$/g</span>,<span class="string">""</span>);</span><br><span class="line"><span class="comment">//因为是或的关系,若不加全局匹配,方法匹配完开头的空格就返回了</span></span><br><span class="line"><span class="built_in">console</span>.log(str);</span><br></pre></td></tr></table></figure><h3 id="练习-B-email的正则表达式"><a href="#练习-B-email的正则表达式" class="headerlink" title="练习: B.email的正则表达式"></a>练习: B.email的正则表达式</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*电子邮件格式:</span></span><br><span class="line"><span class="comment"> * hello           .hello           @ abc        .com           .cn</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> * 任意字母数字下划线 .任意字母数字下划线 @ 任意字母数字 .任意字母(2-5位) .任意字母(2-5位)</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> * \w&#123;3,&#125;          (\.\w+)*         @ [A-z0-9]+  (\.[A-z]&#123;2,5&#125;)&#123;1,2&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> emailReg = <span class="regexp">/^\w&#123;3,&#125;(\.\w+)*@[A-z0-9]+(\.[A-z]&#123;2,5&#125;)&#123;1,2&#125;$/</span>;</span><br><span class="line"><span class="keyword">var</span> email = <span class="string">"crainyday@qq.com"</span>;</span><br><span class="line"><span class="built_in">console</span>.log(emailReg.test(email));<span class="comment">//true</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> JS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JS内建对象</title>
      <link href="/test/JS2-4.html"/>
      <url>/test/JS2-4.html</url>
      
        <content type="html"><![CDATA[<p>JS中的一些其他内建对象</p><a id="more"></a><h1 id="一-Date"><a href="#一-Date" class="headerlink" title="一.Date"></a>一.Date</h1><h2 id="1-Date对象的创建"><a href="#1-Date对象的创建" class="headerlink" title="1.Date对象的创建"></a>1.Date对象的创建</h2><ul><li>在JS中用Date对象来表示一个时间</li><li>Date的无参构造函数会封装当前代码执行时的时间.</li><li>以字符串为参数的构造函数, 可以指定Date对象的时间.字符串格式: “月/日/年 时:分:秒”</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> date1 = <span class="keyword">new</span> <span class="built_in">Date</span>();</span><br><span class="line"><span class="built_in">console</span>.log(date1);<span class="comment">//输出:计算机系统的当前时间</span></span><br><span class="line"><span class="keyword">var</span> date2 = <span class="keyword">new</span> <span class="built_in">Date</span>(<span class="string">"01/01/2019 08:01:01"</span>);<span class="comment">//"01-01-2019"这样也行</span></span><br><span class="line"><span class="built_in">console</span>.log(date2);<span class="comment">//输出:Tue Jan 01 2019 08:01:01 GMT+0800 (中国标准时间)</span></span><br></pre></td></tr></table></figure><h2 id="2-Date的一些方法"><a href="#2-Date的一些方法" class="headerlink" title="2.Date的一些方法"></a>2.Date的一些方法</h2><blockquote><p>getDate() 从 Date 对象返回一个月中的某一天 (1 ~ 31)<br>getDay() 从 Date 对象返回一周中的某一天 (0 ~ 6)<br>getMonth() 从 Date 对象返回月份 (0 ~ 11)<br>getFullYear() 从 Date 对象以四位数字返回年份<br>getHours() 返回 Date 对象的小时 (0 ~ 23)。<br>getMinutes() 返回 Date 对象的分钟 (0 ~ 59)<br>getSeconds() 返回 Date 对象的秒数 (0 ~ 59)<br>getMilliseconds() 返回 Date 对象的毫秒(0 ~ 999)<br>getTime() 返回(格林威治时间的)1970年1月1日 00:00:00至今的毫秒数, 即时间戳<br>setTime() 以毫秒设置 Date 对象</p><hr><p>Date.now() 返回当前的时间戳</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> date1 = <span class="keyword">new</span> <span class="built_in">Date</span>(<span class="string">"01-27-2019 08:16:24.100"</span>);</span><br><span class="line"><span class="built_in">console</span>.log(date1.getDate());<span class="comment">//输出:27</span></span><br><span class="line"><span class="built_in">console</span>.log(date1.getDay());<span class="comment">//输出:0</span></span><br><span class="line"><span class="built_in">console</span>.log(date1.getMonth());<span class="comment">//输出:0</span></span><br><span class="line"><span class="built_in">console</span>.log(date1.getFullYear());<span class="comment">//输出:2019</span></span><br><span class="line"><span class="built_in">console</span>.log(date1.getHours());<span class="comment">//输出:8</span></span><br><span class="line"><span class="built_in">console</span>.log(date1.getMinutes());<span class="comment">//输出:16</span></span><br><span class="line"><span class="built_in">console</span>.log(date1.getSeconds());<span class="comment">//输出:24</span></span><br><span class="line"><span class="built_in">console</span>.log(date1.getMilliseconds());<span class="comment">//输出:100</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> date2 = <span class="keyword">new</span> <span class="built_in">Date</span>(<span class="string">"01-01-1970"</span>);</span><br><span class="line"><span class="built_in">console</span>.log(date2.getTime());<span class="comment">//中文系统下,我们与格林威治时间相差8h,输出:-28800000</span></span><br><span class="line"></span><br><span class="line">date2.setTime(date1.getTime());</span><br><span class="line"><span class="built_in">console</span>.log(date2);<span class="comment">//输出:Sun Jan 27 2019 08:16:24 GMT+0800 (中国标准时间)</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Date</span>.now());<span class="comment">//输出当前时间戳</span></span><br></pre></td></tr></table></figure><h1 id="二-Math"><a href="#二-Math" class="headerlink" title="二.Math"></a>二.Math</h1><p>Math和其他内置对象不同, 它不能是一个构造函数, 不能创建对象, 它只是一个工具类, 里面封装了一些数学运算中常用的属性和函数.</p><h2 id="1-常用属性和函数"><a href="#1-常用属性和函数" class="headerlink" title="1.常用属性和函数"></a>1.常用属性和函数</h2><blockquote><p>Math.PI 返回圆周率(约等于3.14159)<br>abs(x) 返回数的绝对值<br>ceil(x) 对数进行上舍入<br>floor(x) 对数进行下舍入<br>round(x) 把数四舍五入为最接近的整数<br>random() 返回0~1之间的随机数. 生成x~y之间的随机数: Math.round(Math.random()*(y-x)+x);<br>max(x,y) 返回 x 和 y 中的最高值<br>min(x,y) 返回 x 和 y 中的最低值<br>pow(x,y) 返回 x 的 y 次幂<br>sqrt(x) 返回数的平方根</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Math</span>.PI);<span class="comment">//输出:3.141592653589793</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Math</span>.abs(<span class="number">-10</span>));<span class="comment">//输出:10</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Math</span>.ceil(<span class="number">1.001</span>));<span class="comment">//输出:2</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Math</span>.ceil(<span class="number">1.999</span>));<span class="comment">//输出:2</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Math</span>.floor(<span class="number">1.001</span>));<span class="comment">//输出:1</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Math</span>.floor(<span class="number">1.999</span>));<span class="comment">//输出:1</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Math</span>.round(<span class="number">1.499</span>));<span class="comment">//输出:1</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Math</span>.round(<span class="number">1.5</span>));<span class="comment">//输出:2</span></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>;i &lt; <span class="number">10</span>;i ++)&#123;</span><br><span class="line">    <span class="comment">//生成10个20-80间的随机数,包括20和100</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">Math</span>.round(<span class="built_in">Math</span>.random()*<span class="number">80</span>+<span class="number">20</span>));</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Math</span>.max(<span class="number">1</span>,<span class="number">10</span>,<span class="number">100</span>));<span class="comment">//输出:100</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Math</span>.min(<span class="number">1</span>,<span class="number">10</span>,<span class="number">100</span>));<span class="comment">//输出:1</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Math</span>.pow(<span class="number">2</span>,<span class="number">10</span>));<span class="comment">//输出:1024</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Math</span>.sqrt(<span class="number">100</span>));<span class="comment">//输出:10</span></span><br></pre></td></tr></table></figure><h1 id="三-包装类"><a href="#三-包装类" class="headerlink" title="三.包装类"></a>三.包装类</h1><blockquote><p>回顾: 基本数据类型(Number String Boolean Null Undefined)VS引用数据类型(Object)</p><p>JS为我们提供了三个包装类(Number String Boolean):<br>&emsp;&emsp;Number—&gt;可以将基本数据类型的Number转换为Number对象<br>&emsp;&emsp;String&emsp;—&gt;可以将基本数据类型的String转换为String对象<br>&emsp;&emsp;Boolean—&gt;可以将基本数据类型的Boolean转换为Boolean对象</p></blockquote><font style="color:red;font-size:1.2em;font-weight:bold;">但是, 注意: 实际应用时我们一般不会使用基本数据类型的对象, 若使用, 在做比较时可能会带来一些不可预期的结果</font><ul><li>方法和属性只能添加给对象, 不能添加给基本数据类型.</li><li>当我们调用基本数据类型的属性和方法时, 浏览器会<font style="color:red;">临时</font>使用包装类将其转换为对象, 再调用对象的属性和方法.</li><li>包装类一般是浏览器底层自己调用的, 我们一般不会使用它们.</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> num = <span class="keyword">new</span> <span class="built_in">Number</span>(<span class="number">123</span>);</span><br><span class="line"><span class="keyword">var</span> str = <span class="keyword">new</span> <span class="built_in">String</span>(<span class="string">"hello"</span>);</span><br><span class="line"><span class="keyword">var</span> bool = <span class="keyword">new</span> <span class="built_in">Boolean</span>(<span class="literal">false</span>);</span><br><span class="line"><span class="built_in">console</span>.log(num == <span class="number">123</span>);<span class="comment">//输出:true</span></span><br><span class="line"><span class="built_in">console</span>.log(num === <span class="number">123</span>);<span class="comment">//输出:false</span></span><br><span class="line"><span class="keyword">if</span>(bool)&#123;<span class="comment">//bool是对象,对象转换为Boolean时都会转换为true,所以下述代码会执行</span></span><br><span class="line">    alert(<span class="string">"我执行了~~~"</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> a = <span class="number">123</span>;</span><br><span class="line">a.hello = <span class="string">"hello"</span>;<span class="comment">//这里会将a临时转换为对象,但执行完该对象便会被销毁,故后面调用会打印undefined</span></span><br><span class="line"><span class="built_in">console</span>.log(a.hello);<span class="comment">//输出:undefined</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(a.toString(<span class="number">16</span>));<span class="comment">//输出:7b</span></span><br></pre></td></tr></table></figure><h2 id="1-数字进制间的转换"><a href="#1-数字进制间的转换" class="headerlink" title="1.数字进制间的转换"></a>1.数字进制间的转换</h2><p>Number对象有个方法toString()我们常用它来转换进制, 参数为基数</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> num = <span class="number">123</span>;</span><br><span class="line"><span class="built_in">console</span>.log(num.toString(<span class="number">16</span>));<span class="comment">//输出:7d</span></span><br><span class="line"><span class="built_in">console</span>.log(num.toString(<span class="number">2</span>));<span class="comment">//输出:1111011</span></span><br></pre></td></tr></table></figure><h1 id="四-String对象的方法"><a href="#四-String对象的方法" class="headerlink" title="四.String对象的方法"></a>四.String对象的方法</h1><blockquote><p>length 属性, 字符串的长度<br>charAt() 返回在指定位置的字符<br>charCodeAt() 返回在指定的位置的字符的 Unicode 编码<br>concat() 连接字符串<br>String.fromCharCode() 从字符编码创建一个字符串, 参数一个或多个Unicode值<br>indexOf() 检索字符串, 有则返回索引, 没有返回-1<br>——–参数:①要检索的字符串, 必需<br>——–②要从哪个位置开始检索, 不传从0开始检索<br>lastIndexOf() 和indexOf类似, 不过这个方法从后向前搜索字符串</p><hr><p>slice() 提取字符串的片断, 将指定的字符串封装到新字符串返回<br>——–两个参数:①截取开始位置的索引, 包括开始位置, 可以为负数(-1表示倒数第一个元素)<br>——–②结束位置的索引, 不包括结束位置(该参数可省略, 表示截取之后所有元素), 可以为负数<br>substring() 提取字符串中两个指定的索引号之间的字符<br>——–与splice类似, 但其参数不可为负值, 若传负值, 则默认使用0.<br>——–该方法还会自动调整参数位置, 若第二个参数小于第一个, 则交换两个参数<br>substr() 从起始索引号提取字符串中指定数目的字符<br>——–ECMAscript 没有对该方法进行标准化, 但现今大部分浏览器支持<br>——–两个参数:①截取开始位置索引(可为负数)②(可选参数)要截取字符的数量</p><hr><p>split() 把字符串分割为字符串数组<br>——–两个参数:①必需, 字符串或正则表达式, 从该参数指定的地方分割<br>——–②可选, 指定返回的数组的最大长度<br>toLowerCase() 把字符串转换为小写<br>toUpperCase() 把字符串转换为大写</p></blockquote><font style="color:red;font-size:1.2em;font-weight:bold;">这些方法都不会改变原来的字符串</font><h2 id="1-连接检索字符串"><a href="#1-连接检索字符串" class="headerlink" title="1.连接检索字符串"></a>1.连接检索字符串</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">"hello China,hello World!"</span>;</span><br><span class="line"><span class="built_in">console</span>.log(str.length);<span class="comment">//24</span></span><br><span class="line"><span class="built_in">console</span>.log(str.charAt(<span class="number">23</span>));<span class="comment">//!</span></span><br><span class="line"><span class="built_in">console</span>.log(str.charCodeAt(<span class="number">0</span>));;<span class="comment">//104即h的Unicode值</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">String</span>.fromCharCode(<span class="number">104</span>,<span class="number">101</span>,<span class="number">108</span>,<span class="number">108</span>,<span class="number">111</span>));<span class="comment">//hello</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">String</span>.fromCharCode(<span class="number">0x4e2d</span>,<span class="number">0x56fd</span>));<span class="comment">//中国</span></span><br><span class="line"><span class="built_in">console</span>.log(str.concat(<span class="string">"你好"</span>,<span class="string">"中国"</span>));<span class="comment">//hello China,hello World!你好中国</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(str.indexOf(<span class="string">"hello"</span>));<span class="comment">//0</span></span><br><span class="line"><span class="built_in">console</span>.log(str.indexOf(<span class="string">"hello"</span>,<span class="number">1</span>));<span class="comment">//12</span></span><br><span class="line"><span class="built_in">console</span>.log(str.lastIndexOf(<span class="string">"hello"</span>));<span class="comment">//12</span></span><br><span class="line"><span class="built_in">console</span>.log(str.indexOf(<span class="string">"p"</span>));<span class="comment">//-1</span></span><br></pre></td></tr></table></figure><h2 id="2-截取字符串"><a href="#2-截取字符串" class="headerlink" title="2.截取字符串"></a>2.截取字符串</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">"abcdefghijklmn"</span>;</span><br><span class="line"><span class="built_in">console</span>.log(str.slice(<span class="number">-3</span>,<span class="number">-1</span>));<span class="comment">//lm</span></span><br><span class="line"><span class="built_in">console</span>.log(str.substring(<span class="number">1</span>,<span class="number">-1</span>));<span class="comment">//负数会默认为0,然后交换参数为0,1;输出:a</span></span><br><span class="line"><span class="built_in">console</span>.log(str.substr(<span class="number">-4</span>,<span class="number">3</span>));<span class="comment">//-3开始的三个字符,即:klm</span></span><br><span class="line"><span class="built_in">console</span>.log(str.substr(<span class="number">0</span>));<span class="comment">//abcdefghijklmn</span></span><br></pre></td></tr></table></figure><h2 id="3-分割转换字符串"><a href="#3-分割转换字符串" class="headerlink" title="3.分割转换字符串"></a>3.分割转换字符串</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">"Abc,def,ghi,jkL"</span>;</span><br><span class="line"><span class="keyword">var</span> result = str.split(<span class="string">","</span>);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Array</span>.isArray(result));<span class="comment">//true</span></span><br><span class="line"><span class="built_in">console</span>.log(result.length);<span class="comment">//4</span></span><br><span class="line"></span><br><span class="line">result = str.split(<span class="string">","</span>,<span class="number">2</span>);</span><br><span class="line"><span class="built_in">console</span>.log(result);<span class="comment">//"Abc","def"</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(str.toUpperCase());<span class="comment">//"ABC,DEF,GHI,JKL"</span></span><br><span class="line"><span class="built_in">console</span>.log(str);<span class="comment">//"abc,def,ghi,jkl"</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> JS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JS数组</title>
      <link href="/test/JS2-3.html"/>
      <url>/test/JS2-3.html</url>
      
        <content type="html"><![CDATA[<p>JS数组(内建对象), 之前都是说的自定义对象.</p><a id="more"></a><h1 id="一-数组简介"><a href="#一-数组简介" class="headerlink" title="一.数组简介"></a>一.数组简介</h1><ul><li>数组也是一个对象</li><li>它和普通对象的功能类似, 也是用来存储一些值的</li><li>不同的是, 普通对象用字符串作为索引, 数组用数字(&gt;=0的整数)作为索引</li><li>数组的存储性能比普通对象好, 我们往往常用它来存储一些数据</li></ul><h2 id="1-操作数组"><a href="#1-操作数组" class="headerlink" title="1.操作数组"></a>1.操作数组</h2><ul><li>①数组中添加元素, 语法: <font style="color:red;font-weight:bold;">变量名[数字索引] = 值;</font></li><li>②读取数组元素, 语法: <font style="color:red;font-weight:bold;">变量名[数字索引];</font> 若读取不存在的索引不会报错, 会返回undefined</li><li>③获取数组长度, <font style="color:red;font-weight:bold;">变量名.length;</font> 对于连续的数组, 这样可以得到数组长度, 对于不连续的数组这样使用length的值为当前数组的最大索引+1, 尽量不要用不连续的数组.</li><li>④人为的设置length, 若设置的length大于原长度, 则多余部分会空出来; 若设置的length小于原长度, 则多余的元素会被删除</li><li>⑤向数组最后一个位置添加索引, <font style="color:red;font-weight:bold;">变量名[变量名.length] = 某值;</font></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = <span class="keyword">new</span> <span class="built_in">Array</span>();</span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> arr);<span class="comment">//输出:object</span></span><br><span class="line"></span><br><span class="line">arr[<span class="number">0</span>] = <span class="string">"hello"</span>;</span><br><span class="line"><span class="built_in">console</span>.log(arr[<span class="number">0</span>]);<span class="comment">//输出:"hello"</span></span><br><span class="line"><span class="built_in">console</span>.log(arr.length);<span class="comment">//输出:1</span></span><br><span class="line"></span><br><span class="line">arr[<span class="number">5</span>] = <span class="number">123</span>;</span><br><span class="line"><span class="built_in">console</span>.log(arr);<span class="comment">//输出:hello,,,,,123</span></span><br><span class="line"><span class="built_in">console</span>.log(arr.length);<span class="comment">//输出:6</span></span><br><span class="line"><span class="built_in">console</span>.log(arr[<span class="number">1</span>]);<span class="comment">//输出:undefined</span></span><br><span class="line"></span><br><span class="line">arr.length = <span class="number">1</span>;</span><br><span class="line">arr[arr.length] = <span class="string">"China"</span>;</span><br><span class="line">arr[arr.length] = <span class="number">521</span>;</span><br><span class="line">arr[arr.length] = <span class="literal">true</span>;</span><br><span class="line"><span class="built_in">console</span>.log(arr);<span class="comment">//输出:"hello","China",521,true</span></span><br></pre></td></tr></table></figure><h2 id="2-数组字面量"><a href="#2-数组字面量" class="headerlink" title="2.数组字面量"></a>2.数组字面量</h2><blockquote><p>数组字面量创建数组, 语法: [];<br>例: var arr = [1,2,3,4,10];//允许在创建时指定要添加的数组元素</p></blockquote><blockquote><p>使用数组的构造函数创建数组的同时, 也可以添加元素, 此时将要添加的元素作为参数传递<br>例: var arr = new Array(1,5,6,2,3);</p></blockquote><blockquote><p>使用数组的构造函数创建数组, 也可以指定数组的初始长度<br>例: var arr = new Array(10);</p></blockquote><font style="color:red;font-size:1.2em;font-weight:bold;">注意: 数组的元素可以是任意类型的数据</font><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr1 = [<span class="number">5</span>,<span class="number">9</span>,<span class="number">8</span>,<span class="number">4</span>,<span class="number">3</span>,<span class="number">1</span>];<span class="comment">//字面量创建数组</span></span><br><span class="line"><span class="keyword">var</span> arr2 = <span class="keyword">new</span> <span class="built_in">Array</span>(<span class="number">5</span>,<span class="number">9</span>,<span class="number">8</span>,<span class="number">4</span>,<span class="number">3</span>,<span class="number">1</span>);</span><br><span class="line"><span class="built_in">console</span>.log(arr1);<span class="comment">//输出:5,9,8,4,3,1</span></span><br><span class="line"><span class="built_in">console</span>.log(arr2);<span class="comment">//输出:5,9,8,4,3,1</span></span><br><span class="line"><span class="keyword">var</span> arr3 = <span class="keyword">new</span> <span class="built_in">Array</span>(<span class="number">10</span>);</span><br><span class="line"><span class="built_in">console</span>.log(arr3);<span class="comment">//输出:,,,,,,,,,</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//数组的元素可以是任意类型的数据</span></span><br><span class="line"><span class="keyword">var</span> arr4 = [<span class="string">"hello"</span>,<span class="literal">true</span>,<span class="number">123</span>,<span class="literal">null</span>,<span class="literal">undefined</span>];</span><br><span class="line"><span class="built_in">console</span>.log(arr4);<span class="comment">//输出:"hello",true,123,null,undefined</span></span><br><span class="line"><span class="comment">//可以是对象</span></span><br><span class="line"><span class="keyword">var</span> obj = &#123;<span class="attr">name</span>:<span class="string">"Bob"</span>&#125;;</span><br><span class="line">arr4[arr4.length] = obj;</span><br><span class="line"><span class="built_in">console</span>.log(arr4[<span class="number">5</span>].name);<span class="comment">//输出:Bob</span></span><br><span class="line"><span class="comment">//可以是函数</span></span><br><span class="line">arr4[arr4.length] = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    alert(<span class="string">"我是数组中的函数"</span>);</span><br><span class="line">&#125;;</span><br><span class="line">arr4[<span class="number">6</span>]();<span class="comment">//调用函数</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//也可以放数组, 我们叫这种数组为: 二维数组</span></span><br><span class="line"><span class="keyword">var</span> arr = [[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],[<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>],[<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>]];</span><br><span class="line"><span class="built_in">console</span>.log(arr);<span class="comment">//输出:1,2,3,4,5,6,7,8,9</span></span><br><span class="line"><span class="built_in">console</span>.log(arr.length);<span class="comment">//输出:3</span></span><br><span class="line"><span class="built_in">console</span>.log(arr[<span class="number">0</span>].length);<span class="comment">//输出:3</span></span><br></pre></td></tr></table></figure><h1 id="二-数组常用方法"><a href="#二-数组常用方法" class="headerlink" title="二.数组常用方法"></a>二.数组常用方法</h1><blockquote><p>pop() 删除并返回数组的最后一个元素<br>push() 向数组的末尾添加一个或更多元素, 并返回新的长度<br>shift() 删除并返回数组的第一个元素<br>unshift() 向数组的开头添加一个或更多元素, 并返回新的长度</p><hr><p>slice() 从某个已有的数组返回选定的元素<br>——–该方法不会改变原数组, 而是将指定的数组元素封装到新数组中返回, 两个参数:<br>——–①截取开始位置的索引, 包括开始位置, 可以为负数(-1表示倒数第一个元素)<br>——–②截取结束位置的索引, 不包括结束位置(该参数可省略, 表示截取之后所有元素), 可以为负数<br>splice() 删除元素, 并向数组添加新元素<br>——–该方法会改变原数组, 会将指定元素从原数组中删除, 并将删除的元素作为返回值返回<br>——–参数(前两个必需):①开始位置的索引, 可以为负数(-1表示倒数第一个元素)<br>——–②要删除元素的数量<br>——–③第三个参数及以后, 可以传递新元素, 这些元素会自动插入到第一个参数索引的前边</p><hr><p>concat() 连接两个或更多的数组, 并返回结果.(不影响原数组)<br>join() 把数组的所有元素放入一个字符串, 元素通过指定的分隔符(默认为逗号)进行分隔.<br>reverse() 颠倒数组中元素的顺序.(影响原数组)<br>sort() 对数组的元素进行排序(影响原数组), 默认按Unicode编码排序</p></blockquote><h2 id="A-pop-push-shift-unshift"><a href="#A-pop-push-shift-unshift" class="headerlink" title="A.pop push shift unshift"></a>A.pop push shift unshift</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="string">"孙悟空"</span>, <span class="string">"猪八戒"</span>, <span class="string">"唐僧"</span>, <span class="string">"沙和尚"</span>];</span><br><span class="line"><span class="keyword">var</span> result = arr.pop();</span><br><span class="line"><span class="built_in">console</span>.log(result); <span class="comment">//输出:沙和尚</span></span><br><span class="line">result = arr.push(<span class="string">"白骨精"</span>, <span class="string">"玉帝"</span>, <span class="string">"蝎子精"</span>);</span><br><span class="line"><span class="built_in">console</span>.log(result); <span class="comment">//输出:6</span></span><br><span class="line"><span class="built_in">console</span>.log(arr);<span class="comment">//输出:孙悟空,猪八戒,唐僧,白骨精,玉帝,蝎子精</span></span><br><span class="line">result = arr.shift();</span><br><span class="line"><span class="built_in">console</span>.log(result);<span class="comment">//输出:孙悟空</span></span><br><span class="line">result = arr.unshift(<span class="string">"牛魔王"</span>, <span class="string">"红孩儿"</span>, <span class="string">"铁扇公主"</span>);</span><br><span class="line"><span class="built_in">console</span>.log(result);<span class="comment">//输出:8</span></span><br><span class="line"><span class="built_in">console</span>.log(arr);<span class="comment">//输出:牛魔王,红孩儿,铁扇公主,猪八戒,唐僧,白骨精,玉帝,蝎子精</span></span><br></pre></td></tr></table></figure><h2 id="B-slice-splice"><a href="#B-slice-splice" class="headerlink" title="B.slice splice"></a>B.slice splice</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="string">"孙悟空"</span>, <span class="string">"猪八戒"</span>, <span class="string">"唐僧"</span>, <span class="string">"沙和尚"</span>];</span><br><span class="line"><span class="keyword">var</span> result = arr.slice(<span class="number">-3</span>,<span class="number">-1</span>);</span><br><span class="line"><span class="built_in">console</span>.log(result);<span class="comment">//输出:猪八戒,唐僧</span></span><br><span class="line">result = arr.slice(<span class="number">-3</span>);</span><br><span class="line"><span class="built_in">console</span>.log(result);<span class="comment">//输出:猪八戒,唐僧,沙和尚</span></span><br><span class="line"></span><br><span class="line">result = arr.splice(<span class="number">1</span>,<span class="number">0</span>,<span class="string">"玉帝"</span>,<span class="string">"佛祖"</span>);</span><br><span class="line"><span class="built_in">console</span>.log(result);<span class="comment">//输出:""</span></span><br><span class="line"><span class="built_in">console</span>.log(arr);<span class="comment">//输出:孙悟空,玉帝,佛祖,猪八戒,唐僧,沙和尚</span></span><br></pre></td></tr></table></figure><p>例: 数组去重练习</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">4</span>,<span class="number">4</span>,<span class="number">6</span>,<span class="number">8</span>,<span class="number">2</span>,<span class="number">1</span>,<span class="number">3</span>,<span class="number">2</span>];</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>;i &lt; arr.length;i ++)&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> j = i+<span class="number">1</span>;j &lt; arr.length;j ++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(arr[i] == arr[j])&#123;</span><br><span class="line">            arr.splice(j,<span class="number">1</span>);</span><br><span class="line">            j--;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(arr);<span class="comment">//输出:1,2,3,5,4,6,8</span></span><br></pre></td></tr></table></figure><h2 id="C-concat-join"><a href="#C-concat-join" class="headerlink" title="C.concat join"></a>C.concat join</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr1 = [<span class="string">"孙悟空"</span>,<span class="string">"猪八戒"</span>,<span class="string">"沙和尚"</span>];</span><br><span class="line"><span class="keyword">var</span> arr2 = [<span class="string">"白骨精"</span>,<span class="string">"高玉兰"</span>,<span class="string">"玉兔精"</span>];</span><br><span class="line"><span class="keyword">var</span> result = arr1.concat(arr2,<span class="string">"牛魔王"</span>,<span class="string">"红孩儿"</span>);</span><br><span class="line"><span class="built_in">console</span>.log(result);<span class="comment">//输出:"孙悟空","猪八戒","沙和尚","白骨精","高玉兰","玉兔精","牛魔王","红孩儿"</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> str = result.join();</span><br><span class="line"><span class="built_in">console</span>.log(str);<span class="comment">//输出:"孙悟空,猪八戒,沙和尚,白骨精,高玉兰,玉兔精,牛魔王,红孩儿"</span></span><br><span class="line">str = result.join(<span class="string">""</span>);<span class="comment">//分隔符为""</span></span><br><span class="line"><span class="built_in">console</span>.log(str);<span class="comment">//输出:"孙悟空猪八戒沙和尚白骨精高玉兰玉兔精牛魔王红孩儿"</span></span><br></pre></td></tr></table></figure><h2 id="D-reverse-sort"><a href="#D-reverse-sort" class="headerlink" title="D.reverse sort"></a>D.reverse sort</h2><blockquote><p>①sort方法, 默认按照Unicode编码排序, 对于数字的排序往往不是我们想要的结果, 这时我们就需要按照我们自己想要的排序方式, 编写一个回调函数传递给sort().<br>②sort的回调函数有两个形参, 代表要比较的数组中的两个元素, 第一个形参代表的元素相对于第二个靠前<br>③sort方法根据回调函数的返回值排序.<br>④参数为回调函数的函数, 我们一般用匿名方式传递参数</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="number">2</span>,<span class="number">5</span>,<span class="number">7</span>,<span class="number">3</span>,<span class="number">1</span>,<span class="number">6</span>,<span class="number">9</span>,<span class="number">8</span>,<span class="number">4</span>];</span><br><span class="line">arr.sort(<span class="function"><span class="keyword">function</span>(<span class="params">a,b</span>)</span>&#123;</span><br><span class="line">    <span class="comment">//return a-b;//升序</span></span><br><span class="line">    <span class="keyword">return</span> b-a;<span class="comment">//逆序</span></span><br><span class="line">&#125;);</span><br><span class="line"><span class="built_in">console</span>.log(arr);</span><br></pre></td></tr></table></figure><h1 id="三-遍历数组"><a href="#三-遍历数组" class="headerlink" title="三.遍历数组"></a>三.遍历数组</h1><h2 id="1-for循环遍历"><a href="#1-for循环遍历" class="headerlink" title="1.for循环遍历"></a>1.for循环遍历</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//遍历数组, 就是将数组的元素取出来使用</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name,age,sex</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.name = name;</span><br><span class="line">    <span class="keyword">this</span>.age = age;</span><br><span class="line">    <span class="keyword">this</span>.sex = sex;</span><br><span class="line">&#125;</span><br><span class="line">Person.prototype.toString = <span class="function"><span class="keyword">function</span> (<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"Person[name:"</span>+<span class="keyword">this</span>.name+<span class="string">",age:"</span>+<span class="keyword">this</span>.age+<span class="string">",sex:"</span>+<span class="keyword">this</span>.sex+<span class="string">"]"</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> nameArr = [<span class="string">"孙悟空"</span>,<span class="string">"沙悟净"</span>,<span class="string">"猪悟能"</span>,<span class="string">"唐玄奘"</span>,<span class="string">"白骨精"</span>,<span class="string">"玉兔精"</span>,<span class="string">"蜘蛛精"</span>];</span><br><span class="line"><span class="keyword">var</span> ageArr = [<span class="number">18</span>,<span class="number">28</span>,<span class="number">38</span>,<span class="number">17</span>,<span class="number">16</span>,<span class="number">15</span>,<span class="number">14</span>];</span><br><span class="line"><span class="keyword">var</span> sexArr = [<span class="string">"男"</span>,<span class="string">"男"</span>,<span class="string">"男"</span>,<span class="string">"男"</span>,<span class="string">"女"</span>,<span class="string">"女"</span>,<span class="string">"女"</span>];</span><br><span class="line"><span class="keyword">var</span> personArr = <span class="keyword">new</span> <span class="built_in">Array</span>(<span class="number">7</span>);</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>;i &lt; personArr.length;i ++)&#123;</span><br><span class="line">    personArr[i] = <span class="keyword">new</span> Person(nameArr[i],ageArr[i],sexArr[i]);</span><br><span class="line">    <span class="built_in">console</span>.log(personArr[i]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 输出:</span></span><br><span class="line"><span class="comment">Person[name:孙悟空,age:18,sex:男]</span></span><br><span class="line"><span class="comment">Person[name:沙悟净,age:28,sex:男]</span></span><br><span class="line"><span class="comment">Person[name:猪悟能,age:38,sex:男]</span></span><br><span class="line"><span class="comment">Person[name:唐玄奘,age:17,sex:男]</span></span><br><span class="line"><span class="comment">Person[name:白骨精,age:16,sex:女]</span></span><br><span class="line"><span class="comment">Person[name:玉兔精,age:15,sex:女]</span></span><br><span class="line"><span class="comment">Person[name:蜘蛛精,age:14,sex:女]</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure><p>练习: 自定义一个函数, 将上述对象数组中person对象age属性大于等于18的对象放入一个新数组, 并将该新数组作为函数的返回值返回.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getAdult</span>(<span class="params">perArr</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> arr = <span class="keyword">new</span> <span class="built_in">Array</span>();</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>;i &lt; perArr.length;i ++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(perArr[i].age&gt;=<span class="number">18</span>)&#123;</span><br><span class="line">            arr.push(perArr[i]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> arr;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="2-数组的for-Each-方法遍历"><a href="#2-数组的for-Each-方法遍历" class="headerlink" title="2.数组的for Each()方法遍历"></a>2.数组的for Each()方法遍历</h2><blockquote><p>①该方法适用于IE 8.0+<br>②该方法需要一个函数作为参数, 我们称此函数为回调函数, 这种函数由我们创建, 但是我们不负责调用<br>③我们写回调函数时一般都以匿名形式给出<br>④数组中有几个元素, 该方法会执行几次, 该方法的调用者会将在数组中遍历到的元素以实参形式传递进函数, 我们可以定义形参来接收它们<br>⑤该函数被调用时会传递三个参数: 第一个, 当前正在遍历的元素;第二个, 当前正在遍历元素的索引;第三个, 正在遍历的数组.</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//接上上述代码</span></span><br><span class="line">personArr.forEach(</span><br><span class="line">    <span class="function"><span class="keyword">function</span> (<span class="params">per,index,perArr</span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(perArr[index] == per);<span class="comment">//全是true</span></span><br><span class="line">        <span class="built_in">console</span>.log(per);</span><br><span class="line">    &#125;</span><br><span class="line">);</span><br><span class="line"><span class="comment">/* 结果:</span></span><br><span class="line"><span class="comment">true</span></span><br><span class="line"><span class="comment">Person[name:孙悟空,age:18,sex:男]</span></span><br><span class="line"><span class="comment">true</span></span><br><span class="line"><span class="comment">Person[name:沙悟净,age:28,sex:男]</span></span><br><span class="line"><span class="comment">true</span></span><br><span class="line"><span class="comment">Person[name:猪悟能,age:38,sex:男]</span></span><br><span class="line"><span class="comment">true</span></span><br><span class="line"><span class="comment">Person[name:唐玄奘,age:17,sex:男]</span></span><br><span class="line"><span class="comment">true</span></span><br><span class="line"><span class="comment">Person[name:白骨精,age:16,sex:女]</span></span><br><span class="line"><span class="comment">true</span></span><br><span class="line"><span class="comment">Person[name:玉兔精,age:15,sex:女]</span></span><br><span class="line"><span class="comment">true</span></span><br><span class="line"><span class="comment">Person[name:蜘蛛精,age:14,sex:女]</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> JS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JS对象补充</title>
      <link href="/test/JS2-2.html"/>
      <url>/test/JS2-2.html</url>
      
        <content type="html"><![CDATA[<p>JS对象补充</p><a id="more"></a><h1 id="一-工厂方法创建对象"><a href="#一-工厂方法创建对象" class="headerlink" title="一.工厂方法创建对象"></a>一.工厂方法创建对象</h1><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">    name:,</span><br><span class="line">    age:,</span><br><span class="line">    sex:,</span><br><span class="line">    showMes:</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>&emsp;&emsp;我们想要创建大量的上面的obj对象, 它们的属性名都一样, 但是值可能不一样, 这时, 为了”偷懒”, 我们可以使用工厂方法创建对象. 批量生产对象.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createPerson</span>(<span class="params">name, age, sex</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> obj = &#123;</span><br><span class="line">        name: name,</span><br><span class="line">        age: age,</span><br><span class="line">        sex: sex,</span><br><span class="line">        showMes: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">            alert(name);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">return</span> obj;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> per1 = createPerson(<span class="string">"孙悟空"</span>, <span class="number">500</span>, <span class="string">"男"</span>);</span><br><span class="line"><span class="built_in">console</span>.log(per1);<span class="comment">//Object &#123;name: "孙悟空", age: 500, sex: "男", showMes: ƒ&#125;</span></span><br><span class="line"><span class="keyword">var</span> per2 = createPerson(<span class="string">"猪八戒"</span>, <span class="number">300</span>, <span class="string">"男"</span>);</span><br><span class="line"><span class="built_in">console</span>.log(per2);<span class="comment">//Object &#123;name: "猪八戒", age: 300, sex: "男", showMes: ƒ&#125;</span></span><br><span class="line"><span class="keyword">var</span> per3 = createPerson(<span class="string">"白骨精"</span>, <span class="number">500</span>, <span class="string">"女"</span>);</span><br><span class="line"><span class="built_in">console</span>.log(per3);<span class="comment">//Object &#123;name: "白骨精", age: 500, sex: "女", showMes: ƒ&#125;</span></span><br><span class="line">per1.showMes();<span class="comment">//孙悟空</span></span><br><span class="line">per2.showMes();<span class="comment">//猪八戒</span></span><br><span class="line">per3.showMes();<span class="comment">//白骨精</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createDog</span>(<span class="params">name, age</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> obj = <span class="keyword">new</span> <span class="built_in">Object</span>();</span><br><span class="line">    obj.name = name;</span><br><span class="line">    obj.age = age;</span><br><span class="line">    obj.showMes = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        alert(<span class="keyword">this</span>.name);</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">return</span> obj;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> dog = createDog(<span class="string">"哮天犬"</span>,<span class="number">3</span>);</span><br><span class="line"><span class="built_in">console</span>.log(dog);<span class="comment">//Object &#123;name: "哮天犬", age: 3, showMes: ƒ&#125;</span></span><br><span class="line">dog.showMes();<span class="comment">//哮天犬</span></span><br></pre></td></tr></table></figure><h1 id="二-构造函数"><a href="#二-构造函数" class="headerlink" title="二.构造函数"></a>二.构造函数</h1><ul><li>从上面代码的注释中, 可以看见我们用工厂方法创建的对象都是Object类型的, 不易区分不同的对象(到底是Dog还是Person), 这时, 我们可以创建一个构造函数来专门创建某一类对象.</li><li>构造函数是一类特殊的普通函数, 习惯上我们将构造函数的函数名首字母大写.</li><li>构造函数与普通函数相比, 调用方式不同, 普通的直接调用即可, <font style="color:red;font-weight:bold;">构造函数需要在new关键字之后调用.</font></li><li>使用同一个构造函数创建的对象, 我们称为一类对象, 也将构造函数称为类, 将它创建的对象称为类的实例.</li></ul><p>构造函数的执行流程:</p><ol><li>被调用时, 首先创建一个新的对象</li><li>将函数中的this指向新建的对象(即在构造函数中, 可以用this来引用正在新建的对象)</li><li>逐行执行构造函数中的代码</li><li>将新建的对象作为构造函数的返回值返回.</li></ol><h3 id="A-instanceof"><a href="#A-instanceof" class="headerlink" title="A.instanceof"></a>A.instanceof</h3><p>用法: 对象 instanceof 构造函数, 检查一个对象是否为一个构造函数的实例, 是返回true, 不是返回false.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name,age,sex</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.name = name;</span><br><span class="line">    <span class="keyword">this</span>.age = age;</span><br><span class="line">    <span class="keyword">this</span>.sex = sex;</span><br><span class="line">    <span class="keyword">this</span>.showMes = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        alert(<span class="keyword">this</span>.name);</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> per1 = <span class="keyword">new</span> Person(<span class="string">"孙悟空"</span>, <span class="number">500</span>, <span class="string">"男"</span>);</span><br><span class="line"><span class="built_in">console</span>.log(per1);<span class="comment">//Person &#123;name: "孙悟空", age: 500, sex: "男", showMes: ƒ&#125;</span></span><br><span class="line"><span class="keyword">var</span> per2 = <span class="keyword">new</span> Person(<span class="string">"猪八戒"</span>, <span class="number">300</span>, <span class="string">"男"</span>);</span><br><span class="line"><span class="built_in">console</span>.log(per1);<span class="comment">//Person &#123;name: "猪八戒", age: 300, sex: "男", showMes: ƒ&#125;</span></span><br><span class="line"><span class="keyword">var</span> per3 = <span class="keyword">new</span> Person(<span class="string">"白骨精"</span>, <span class="number">500</span>, <span class="string">"女"</span>);</span><br><span class="line"><span class="built_in">console</span>.log(per1);<span class="comment">//Person &#123;name: "白骨精", age: 500, sex: "女", showMes: ƒ&#125;</span></span><br><span class="line"><span class="built_in">console</span>.log(per1 <span class="keyword">instanceof</span> Person);<span class="comment">//true</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(per1.showMes == per2.showMes);<span class="comment">//false</span></span><br></pre></td></tr></table></figure><p>上面的代码有一个弊端, 每一个由Person创建的对象都有一个自己的showMes()方法</p><blockquote><p>console.log(per1.showMes == per2.showMes);//false</p></blockquote><p>返回结果是false, 而这不是我们想要的, 这样的话会浪费很多的内存.故修改一下, 将该函数的声明放到外面</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">showMes</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    alert(<span class="keyword">this</span>.name);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name,age,sex</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.name = name;</span><br><span class="line">    <span class="keyword">this</span>.age = age;</span><br><span class="line">    <span class="keyword">this</span>.sex = sex;</span><br><span class="line">    <span class="keyword">this</span>.showMes = showMes;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> per1 = <span class="keyword">new</span> Person(<span class="string">"孙悟空"</span>, <span class="number">500</span>, <span class="string">"男"</span>);</span><br><span class="line"><span class="keyword">var</span> per2 = <span class="keyword">new</span> Person(<span class="string">"猪八戒"</span>, <span class="number">300</span>, <span class="string">"男"</span>);</span><br><span class="line"><span class="keyword">var</span> per3 = <span class="keyword">new</span> Person(<span class="string">"白骨精"</span>, <span class="number">500</span>, <span class="string">"女"</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(per1.showMes == per2.showMes);<span class="comment">//true</span></span><br></pre></td></tr></table></figure><h2 id="三-原型对象"><a href="#三-原型对象" class="headerlink" title="三.原型对象"></a>三.原型对象</h2><blockquote><p>注意: 上述改进, 将对象共有的方法showMes()直接声明在全局作用域中, 也是存在一些弊端, ①污染了全局作用域(在全局作用域中不能再添加同名函数)②不是很安全. 因此, 这次我们采用一个非常好的办法, 即解决多个同类对象创建多个公共的方法, 又不会对全局作用域造成污染.</p></blockquote><p>原型: prototype</p><ul><li>我们创建的每一个函数, 解析器都会向函数中添加一个属性prototype, 这个属性对应着一个对象即原型对象</li><li>如果函数作为普通函数调用prototype没有任何作用</li><li>如果函数以构造函数的形式调用时,它创建的对象中都会有一个隐含的属性, 指向该构造函数的原型对象, 我怕们可以用对象的__proto__属性来访问该对象</li><li>原型对象就相当于一个公共的区域, 所有同一个类的实例都能访问到这个对象, 我们可以将对象中共有的内容统一放到原型对象中.</li><li>当我们访问一个对象的属性或方法时, 它会先在对象自身寻找, 如果有则直接使用, 若没有则会去原型对象中寻找, 如果原型对象中有则直接使用</li></ul><p><img src="imgs\JS\prototype.png" alt="prototype"></p><p>改进如下:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name,age,sex</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.name = name;</span><br><span class="line">    <span class="keyword">this</span>.age = age;</span><br><span class="line">    <span class="keyword">this</span>.sex = sex;</span><br><span class="line">&#125;</span><br><span class="line">Person.prototype.showMes = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    alert(<span class="keyword">this</span>.name);</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">var</span> per1 = <span class="keyword">new</span> Person(<span class="string">"孙悟空"</span>, <span class="number">500</span>, <span class="string">"男"</span>);</span><br><span class="line"><span class="keyword">var</span> per2 = <span class="keyword">new</span> Person(<span class="string">"猪八戒"</span>, <span class="number">300</span>, <span class="string">"男"</span>);</span><br><span class="line"><span class="keyword">var</span> per3 = <span class="keyword">new</span> Person(<span class="string">"白骨精"</span>, <span class="number">500</span>, <span class="string">"女"</span>);</span><br><span class="line"><span class="built_in">console</span>.log(Person.prototype == per1.__proto__);<span class="comment">//true</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(per1.showMes == per2.showMes);<span class="comment">//true</span></span><br></pre></td></tr></table></figure><h3 id="A-检查对象的属性"><a href="#A-检查对象的属性" class="headerlink" title="A.检查对象的属性"></a>A.检查对象的属性</h3><blockquote><p>1.之前提到过用in运算符检查对象中是否包含某个属性, 但这样, 如果对象的原型对象中有这个属性, 也会返回true, 显然这不是我们想得到的结果.</p><p>2.我们只想在对象本身的属性中搜索. 这时候可以用对象的hasOwnProperty()方法检查. hasOwnProperty方法其实在原型对象的原型中</p><p>3.原型对象也是对象, 它也有原型. 我们调用一个对象的属性或方法时, 会先在对象自身寻找, 没有就去对象的原型中寻找, 还没有就去原型的原型中寻找, 直到找到Object对象的原型, 没有则返回undefined</p><p>4.Object对象的原型没有原型, 它的值为null</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name,age,sex</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.name = name;</span><br><span class="line">    <span class="keyword">this</span>.age = age;</span><br><span class="line">    <span class="keyword">this</span>.sex = sex;</span><br><span class="line">&#125;</span><br><span class="line">Person.prototype.showMes = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    alert(<span class="keyword">this</span>.name);</span><br><span class="line">&#125;;</span><br><span class="line">Person.prototype.a = <span class="number">123</span>;</span><br><span class="line"><span class="keyword">var</span> per = <span class="keyword">new</span> Person(<span class="string">"孙悟空"</span>, <span class="number">500</span>, <span class="string">"男"</span>);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"a"</span> <span class="keyword">in</span> per);<span class="comment">//true</span></span><br><span class="line"><span class="built_in">console</span>.log(per.hasOwnProperty(<span class="string">"a"</span>));<span class="comment">//false</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(per.__proto__.__proto__.hasOwnProperty(<span class="string">"hasOwnProperty"</span>));<span class="comment">//true</span></span><br></pre></td></tr></table></figure><h2 id="四-toString"><a href="#四-toString" class="headerlink" title="四.toString()"></a>四.toString()</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name, age, sex</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.name = name;</span><br><span class="line">    <span class="keyword">this</span>.age = age;</span><br><span class="line">    <span class="keyword">this</span>.sex = sex;</span><br><span class="line">&#125;</span><br><span class="line">Person.prototype.showMes = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    alert(<span class="keyword">this</span>.name);</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">var</span> per = <span class="keyword">new</span> Person(<span class="string">"孙悟空"</span>, <span class="number">500</span>, <span class="string">"男"</span>);</span><br><span class="line"><span class="built_in">console</span>.log(per);<span class="comment">//输出:[object Object]</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.__proto__.hasOwnProperty(<span class="string">"toString"</span>));<span class="comment">//输出:true</span></span><br></pre></td></tr></table></figure><ul><li>我们直接在页面打印对象的引用时, 实际上调用了对象的toString()方法, 打印的是toString()的返回值, 默认调用的是Object原型的toString()方法.</li><li>假如我们想打印对象时, 按照我们自己的想法控制输出的内容, 我们就需要显示的添加一个toString()方法, 不让当前的对象向原型中搜寻方法.</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name, age, sex</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.name = name;</span><br><span class="line">    <span class="keyword">this</span>.age = age;</span><br><span class="line">    <span class="keyword">this</span>.sex = sex;</span><br><span class="line">&#125;</span><br><span class="line">Person.prototype.toString = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"Person[name:"</span>+<span class="keyword">this</span>.name+<span class="string">",age:"</span>+<span class="keyword">this</span>.age+<span class="string">",sex:"</span>+<span class="keyword">this</span>.sex+<span class="string">"]"</span>;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">var</span> per = <span class="keyword">new</span> Person(<span class="string">"孙悟空"</span>, <span class="number">500</span>, <span class="string">"男"</span>);</span><br><span class="line"><span class="built_in">console</span>.log(per);<span class="comment">//Person[name:孙悟空,age:500,sex:男]</span></span><br></pre></td></tr></table></figure><h2 id="五-垃圾回收-GC"><a href="#五-垃圾回收-GC" class="headerlink" title="五.垃圾回收(GC)"></a>五.垃圾回收(GC)</h2><ol><li>程序运行过程中也会产生垃圾, 若垃圾过多, 会使程序运行过慢, 因此我们需要一个垃圾回收机制来处理程序运行过程中产生的垃圾.</li><li>当一个对象没有任何变量或属性对它进行引用, 我们将永远无法操作该对象, 这种对象就是垃圾.</li><li>在JS中拥有自动的垃圾回收机制, 会自动将垃圾对象从内存中销毁, 我们不需要也不能进行垃圾回收的操作.</li><li>假如我们不再使用某个对象的引用, 将它设置为null即可</li></ol>]]></content>
      
      
      <categories>
          
          <category> JS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JS函数</title>
      <link href="/test/JS2-1.html"/>
      <url>/test/JS2-1.html</url>
      
        <content type="html"><![CDATA[<p>JS的函数function</p><a id="more"></a><h1 id="一-JS函数的简介"><a href="#一-JS函数的简介" class="headerlink" title="一.JS函数的简介"></a>一.JS函数的简介</h1><p>函数(function):</p><ul><li>函数也是一个对象</li><li>函数中封装了一些功能(代码), 在需要时可以执行这些功能(代码)</li><li>封装到函数的代码不会立即执行, 只有调用时才会执行</li><li>调用函数时代码顺序执行, 调用语法: 函数对象()</li><li>使用typeof检查一个函数对象时, 会返回function</li></ul><h2 id="A-创建一个函数对象"><a href="#A-创建一个函数对象" class="headerlink" title="A.创建一个函数对象"></a>A.创建一个函数对象</h2><ol><li>将要封装的代码以字符串形式传递给构造函数, 例:</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> fun = <span class="keyword">new</span> <span class="built_in">Function</span>(<span class="string">"console.log('这是我的第一个函数~~~')"</span>);</span><br><span class="line">fun[<span class="string">'value'</span>] = <span class="string">"123"</span>;<span class="comment">//函数是对象, 也可以像对象那样用, 但我们一般不这样用</span></span><br><span class="line">fun();<span class="comment">//这样调用函数</span></span><br><span class="line"><span class="comment">//实际编程中我们很少用这种方式创建一个函数</span></span><br></pre></td></tr></table></figure><ol start="2"><li>使用函数声明来船舰一个函数(对象), 格式:</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> 函数名(<span class="params">[形参<span class="number">1</span>,形参<span class="number">2</span>,形参<span class="number">3</span>,...,形参n]</span>)</span>&#123;</span><br><span class="line">    <span class="comment">//代码...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="3"><li>使用函数表达式创建一个函数, 格式:</li></ol><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> 函数名 = <span class="function"><span class="keyword">function</span>(<span class="params">[形参<span class="number">1</span>,形参<span class="number">2</span>,形参<span class="number">3</span>,...,形参n]</span>)</span>&#123;</span><br><span class="line">    <span class="comment">//代码...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="B-参数"><a href="#B-参数" class="headerlink" title="B.参数"></a>B.参数</h2><ul><li>在函数的()中, 可以指定0个或多个形参</li><li>多个形参之间用逗号隔开, 声明了形参就相当于在函数内部声明了对应的变量</li><li>声明的形参并没有被赋值</li><li>调用函数时, 可以在()中指定实参, 实参的值会依次赋值给形参</li><li>调用函数时, 解析器不会检查形参与实参的数量是否匹配</li><li>函数的实参可以是任何类型的值, 包括基本类型、对象、函数(对象).</li></ul><font style="color:red;font-size:1.2em;font-weight:bold;">特别注意: 调用函数时, 解析器也不会检查实参的类型, 所以要检查一下参数是否合法</font><p>例题: 定义一个能求两个数和的函数</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sum</span>(<span class="params">a,b</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>((<span class="keyword">typeof</span> a) == <span class="string">"number"</span>&amp;&amp;(<span class="keyword">typeof</span> b) == <span class="string">"number"</span>)&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(a+b);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">sum(<span class="number">123</span>,<span class="number">456</span>);</span><br><span class="line">sum(<span class="number">123</span>,<span class="string">"456"</span>);<span class="comment">//不输出内容</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">show</span>(<span class="params">obj</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"我是"</span> + obj.name + <span class="string">",性别"</span> + obj.sex + <span class="string">",我今年"</span> + obj.age + <span class="string">"岁了"</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> person = &#123;</span><br><span class="line">    name:<span class="string">"孙悟空"</span>,</span><br><span class="line">    sex:<span class="string">"男"</span>,</span><br><span class="line">    age:<span class="number">500</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//函数实参为对象</span></span><br><span class="line">show(person);</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fun</span>(<span class="params">a</span>)</span>&#123;</span><br><span class="line">    a(person);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//函数实参为函数(对象),将max赋值给了a,故a(person);与show(person);等价</span></span><br><span class="line">fun(max);</span><br></pre></td></tr></table></figure><h2 id="C-返回值"><a href="#C-返回值" class="headerlink" title="C.返回值"></a>C.返回值</h2><ul><li>在函数中, 可以用return关键字返回一个表达式的值</li><li>可以在调用函数处, 声明一个变量接收该函数的返回值</li><li>若函数中不写return或没有return一个值, 则会默认return undefined;</li><li>return语句之后的代码不会被执行</li><li>函数的返回值也可以是任意类型的值, 基本类型、对象、函数</li></ul><p>例: 定义一个能求两个数最大值的函数, 并将最大值返回.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">max</span>(<span class="params">a,b</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>((<span class="keyword">typeof</span> a) == <span class="string">"number"</span>&amp;&amp;(<span class="keyword">typeof</span> b) == <span class="string">"number"</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> a&gt;b?a:b;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> maxNum = max(<span class="number">123</span>,<span class="number">456</span>);</span><br><span class="line"><span class="built_in">console</span>.log(maxNum);</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fun</span>(<span class="params">a</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"a = "</span> + a);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//函数实参为函数(对象)</span></span><br><span class="line">fun(max);</span><br><span class="line"><span class="comment">//函数实参为函数的返回值</span></span><br><span class="line">fun(max(<span class="number">123</span>,<span class="number">456</span>));</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fun2</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="comment">//return &#123;name:"孙悟空"&#125;;//返回一个对象</span></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">fun3</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        alert(<span class="string">"我是fun3函数"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//return fun3();//这样是返回fun3函数的返回值</span></span><br><span class="line">    <span class="keyword">return</span> fun3;<span class="comment">//返回fun3这个函数</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> f = fun2();<span class="comment">//此时f为fun3</span></span><br><span class="line">f();<span class="comment">//调用fun3函数</span></span><br><span class="line">fun2()();<span class="comment">//和f();等价,也是调用fun3()函数</span></span><br></pre></td></tr></table></figure><h2 id="D-立即执行函数"><a href="#D-立即执行函数" class="headerlink" title="D.立即执行函数"></a>D.立即执行函数</h2><ul><li>函数定义完, 立即就会被调用</li><li>这种函数往往是匿名函数, 只会执行一次.例:</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//先用一对小括号将匿名函数括起来,表示是一个整体,否则不允许这样声明函数</span></span><br><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params">a, b</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"a = "</span> + a);</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"b = "</span> + b);</span><br><span class="line">&#125;)(<span class="number">123</span>, <span class="number">456</span>);</span><br></pre></td></tr></table></figure><h2 id="E-方法-method"><a href="#E-方法-method" class="headerlink" title="E.方法(method)"></a>E.方法(method)</h2><ul><li>一类特殊的函数, 这类函数是对象的属性</li><li>若一个函数成了对象的一个属性, 那这个函数就叫做对象的方法</li><li>调用函数就叫做调用的对象的某方法</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">document</span>.write(<span class="string">"Hello"</span>);<span class="comment">//调用document对象的write方法</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"Hello"</span>);<span class="comment">//调用console对象的log方法</span></span><br></pre></td></tr></table></figure><h1 id="二-作用域-Scope"><a href="#二-作用域-Scope" class="headerlink" title="二.作用域(Scope)"></a>二.作用域(Scope)</h1><h2 id="A-全局作用域"><a href="#A-全局作用域" class="headerlink" title="A.全局作用域"></a>A.全局作用域</h2><ul><li>直接编写在script标签中的JS代码, 都在全局作用域中</li><li>全局作用域在页面打开时创建, 在页面关闭时销毁</li><li>全局作用域中有一个<font style="color:red;">全局对象window</font>, 它代表一个浏览器窗口, 由浏览器创建, 我们可以直接使用</li><li>全局作用域中我们创建的变量都会作为<font style="color:red;">window对象的属性保存</font>, 函数作为window的方法</li><li>全局作用域里的变量都是全局变量, 在页面的任何部分都能访问到</li></ul><blockquote><p>变量的声明提前: 使用var声明的变量, 会在所有的代码执行之前被声明(但不会被赋值)<br>但声明变量时不使用var, 则变量不会被提前声明<br>函数的声明提前: 使用函数声明的形式创建的函数 function 函数名(){}<br>会在所有代码执行前被创建, 所以我们可以在函数声明前调用它.<br>但是用函数表达式创建的函数 var fun = function(){};<br>不会被声明提前, 所以不能在声明前调用.</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(a);<span class="comment">//输出:undefined</span></span><br><span class="line"><span class="keyword">var</span> a = <span class="number">10</span>;<span class="comment">//去掉var之后, 第一行报错</span></span><br><span class="line">fun();</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fun</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"我是fun"</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> fun1 = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"我是fun1"</span>);</span><br><span class="line">&#125;;</span><br><span class="line">fun1();<span class="comment">//只能在这之后调用, 否则会报错.</span></span><br></pre></td></tr></table></figure><h2 id="B-函数作用域"><a href="#B-函数作用域" class="headerlink" title="B.函数作用域"></a>B.函数作用域</h2><ul><li>函数被调用时, 创建自己的函数作用域, 函数执行完毕, 函数作用域销毁</li><li>每调用一次函数, 创建一个新的函数作用域, 作用域之间互相独立</li><li>函数作用域中可以访问到全局变量, 但全局作用域无法访问到局部变量</li><li>在函数中操作一个变量时, 首先在自身作用域中寻找, 没有的话向上一级寻找</li><li>函数中想使用全局变量, 可以使用window.变量名</li><li>函数的形参相当于在函数作用域中声明的.</li></ul><blockquote><p>也存在声明提前的问题, 但提前声明于当前作用域</p></blockquote><h1 id="三-debug"><a href="#三-debug" class="headerlink" title="三.debug"></a>三.debug</h1><p>这种调试, 可以查看执行过程中内存的状态, 各变变量的情况.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">alert(d);<span class="comment">//声明提前</span></span><br><span class="line"><span class="keyword">var</span> a = <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> b = <span class="number">15</span>;</span><br><span class="line">c = <span class="number">20</span>;<span class="comment">//不要监视c可能会出错卡死</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fun</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"我是fun"</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> d = <span class="number">25</span>;</span><br></pre></td></tr></table></figure><p>先打开, 浏览器的开发者工具, 以chrome为例, 按F12, 选择sources, 之后如下图:</p><p><img src="imgs\JS\debug.png" alt="debug"></p><p>其他浏览器类似</p><h1 id="四-this"><a href="#四-this" class="headerlink" title="四.this"></a>四.this</h1><p>你可以这样理解:</p><p>&emsp;&emsp;解析器在调用函数时每次都会向函数内部传递一个隐含的参数this, this指向一个对象, 这个函数我们称为函数执行的上下文对象, 根据函数的调用方式不同, this会指向不同的对象</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fun</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.name + <span class="string">" "</span> + <span class="keyword">this</span>);</span><br><span class="line">&#125;</span><br><span class="line">fun();<span class="comment">//这时this指向window对象,this.name="全局的name";</span></span><br><span class="line"><span class="keyword">var</span> name = <span class="string">"全局的name"</span>;</span><br><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">    name:<span class="string">"孙悟空"</span>,</span><br><span class="line">    show:fun</span><br><span class="line">&#125;;</span><br><span class="line">obj.show();<span class="comment">//这时this指向obj, this.name="孙悟空";</span></span><br><span class="line"><span class="keyword">var</span> obj1 = &#123;</span><br><span class="line">    name:<span class="string">"猪八戒"</span>,</span><br><span class="line">    show:fun</span><br><span class="line">&#125;;</span><br><span class="line">obj1.show();<span class="comment">//这时this指向obj1, this.name="猪八戒";</span></span><br></pre></td></tr></table></figure><h1 id="五-call-和apply"><a href="#五-call-和apply" class="headerlink" title="五.call()和apply()"></a>五.call()和apply()</h1><ul><li>这两个方法都是函数对象的方法, 需要通过函数对象来调用</li><li>当函数对象调用call()和apply()方法时, 函数中的代码也会执行.</li><li>可以将一个对象指定为call和apply的第一个参数, 这个对象将会成为函数执行时的this</li><li>call()方法, 将函数原本的实参在第一个参数(对象)以后依次传递给函数的形参</li><li>apply()方法, 将函数原本的实参封装到一个数组统一传递.</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fun</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> obj1 = &#123;<span class="attr">name</span>:<span class="string">"obj1"</span>,<span class="attr">show</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.name);</span><br><span class="line">&#125;&#125;;</span><br><span class="line"><span class="keyword">var</span> obj2 = &#123;<span class="attr">name</span>:<span class="string">"obj2"</span>&#125;;</span><br><span class="line"></span><br><span class="line">fun();<span class="comment">//输出:window</span></span><br><span class="line">fun.call(obj1);<span class="comment">//输出:object</span></span><br><span class="line">fun.apply(obj2);<span class="comment">//输出:object</span></span><br><span class="line"></span><br><span class="line">obj1.show();<span class="comment">//输出:obj1</span></span><br><span class="line">obj1.show.call(obj2);<span class="comment">//输出:obj2</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fun2</span>(<span class="params">a,b</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"a = "</span>+a);</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"b = "</span>+b);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">fun2.call(obj1,<span class="number">1</span>,<span class="number">2</span>);<span class="comment">//将参数依次传递</span></span><br><span class="line">fun2.apply(obj1,[<span class="number">1</span>,<span class="number">2</span>]);<span class="comment">//将参数封装成数组统一传递</span></span><br></pre></td></tr></table></figure><h2 id="this的情况"><a href="#this的情况" class="headerlink" title="this的情况:"></a>this的情况:</h2><ol><li>在函数中调用时, this永远指window</li><li>在方法中调用时, this是调用方法的对象</li><li>在构造函数中调用时, this是正在创建的对象</li><li>使用call和apply调用时, this是参数传递过来的对象</li></ol><h1 id="六-arguments"><a href="#六-arguments" class="headerlink" title="六.arguments"></a>六.arguments</h1><blockquote><p>在调用函数时, 浏览器都会传递进两个隐含的参数:<br>①函数的上下文对象:this<br>②封装实参的对象: arguments, 我们传递的实参都保存在里面</p></blockquote><ul><li>arguments是一个类数组对象, 它不是数组, 但是它也可以通过数字索引来操作数据.</li><li>arguments.length可以获取实参的长度, 我们即使没定义形参, 也可以通过arguments来使用形参, 但这样比较麻烦</li><li>arguments[0]表示第一个实参, 以此类推.</li><li>arguments.callee属性, 表示当前的函数对象</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fun</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">arguments</span> <span class="keyword">instanceof</span> <span class="built_in">Array</span>);<span class="comment">//判断arguments是不是数组,输出:false</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">Array</span>.isArray(<span class="built_in">arguments</span>));<span class="comment">//判断arguments是不是数组,输出:false</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">arguments</span>.length);<span class="comment">//输出:4</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">arguments</span>[<span class="number">3</span>]);<span class="comment">//输出:true</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="built_in">arguments</span>.callee == fun);<span class="comment">//输出:true</span></span><br><span class="line">&#125;</span><br><span class="line">fun(<span class="string">"one"</span>,<span class="string">"two"</span>,<span class="number">3</span>,<span class="literal">true</span>);</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> JS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JS对象简介</title>
      <link href="/test/JS2-0.html"/>
      <url>/test/JS2-0.html</url>
      
        <content type="html"><![CDATA[<p>JS的Object类型</p><a id="more"></a><h1 id="一-Object对象"><a href="#一-Object对象" class="headerlink" title="一.Object对象"></a>一.Object对象</h1><p>Object类型, 我们也称为一个对象. 是JavaScript中的引用数据类型.</p><ul><li>它是一种复合值, 它将很多值聚合到一起, 可以通过名字访问这些值.</li><li>对象也可以看做是属性的无序集合, 每个属性都是一个名/值对.</li><li>对象除了可以创建自有属性, 还可以通过从一个名为原型的对象那里继承属性.</li><li>除了字符串、数字、true、false、null和undefined之外, JS中的值都是对象.</li><li>对象可以说是对一些名值对的封装</li></ul><h2 id="A-对象的分类"><a href="#A-对象的分类" class="headerlink" title="A.对象的分类:"></a>A.对象的分类:</h2><ol><li>内建对象: 由ES标准制定的对象, 在任何ES的实现中都能使用</li></ol><ul><li>比如: Math String Number Boolean Function Object……</li></ul><ol start="2"><li>宿主对象: 由JS的运行环境提供的对象, 目前主要指浏览器提供的对象</li></ol><ul><li>比如: BOM DOM</li></ul><ol start="3"><li>自定义对象(最难): 由开发人员自己创建的对象</li></ol><h1 id="二-创建自定义对象"><a href="#二-创建自定义对象" class="headerlink" title="二.创建自定义对象"></a>二.创建自定义对象</h1><p>访问属性的两种方式:</p><ul><li>用 . 访问: 对象.属性名</li><li>用 [] 访问: 对象[‘属性名’], 这样操作属性更灵活, 常用于操作一些特殊的属性名</li></ul><p>属性名的命名方式, 建议按照标识符的规范去做; 属性值可以是任意类型的值, 甚至是一个对象.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//方式一:先创建对象, 再添加属性</span></span><br><span class="line"><span class="keyword">var</span> person = <span class="keyword">new</span> <span class="built_in">Object</span>();</span><br><span class="line">person.name = <span class="string">"孙悟空"</span>;<span class="comment">//添加name属性</span></span><br><span class="line">person.age = <span class="number">18</span>;<span class="comment">//添加age属性</span></span><br><span class="line">person.name = <span class="string">"牛魔王"</span>;<span class="comment">//修改属性</span></span><br><span class="line"><span class="keyword">delete</span> person.name;<span class="comment">//删除属性</span></span><br><span class="line"><span class="built_in">console</span>.log(person.name);<span class="comment">//读取属性, 如果读取不到对象的属性会返回undefined</span></span><br><span class="line"><span class="comment">//方式二:创建对象的同时添加属性, 这种叫做对象字面量</span></span><br><span class="line"><span class="keyword">var</span> sex = <span class="string">"男"</span>;</span><br><span class="line"><span class="keyword">var</span> person1 = &#123;</span><br><span class="line">    name: <span class="string">"孙悟空"</span>,</span><br><span class="line">    age: <span class="number">18</span>,</span><br><span class="line">    <span class="string">"123"</span>: <span class="number">789</span><span class="comment">//最后一个属性后一定不能加逗号</span></span><br><span class="line">&#125;;</span><br><span class="line">person1[sex] = sex;</span><br><span class="line"><span class="built_in">console</span>.log(person1[sex]);</span><br><span class="line"><span class="keyword">var</span> index = <span class="string">'123'</span>;</span><br><span class="line"><span class="built_in">console</span>.log(person1[<span class="string">'123'</span>]);<span class="comment">//person1.123是不允许的</span></span><br><span class="line"><span class="built_in">console</span>.log(person1[index]);<span class="comment">//与person1['123']等价</span></span><br></pre></td></tr></table></figure><h1 id="三-in运算符"><a href="#三-in运算符" class="headerlink" title="三.in运算符"></a>三.in运算符</h1><p>通过该运算符检查对象是否有某个属性, 有则返回true, 没有返回false.</p><p>格式: “属性名” in object, 例:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> person = &#123;</span><br><span class="line">    name: <span class="string">"孙悟空"</span>,</span><br><span class="line">    age: <span class="number">18</span>,</span><br><span class="line">    <span class="string">"123"</span>: <span class="number">789</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"obj"</span> <span class="keyword">in</span> person);</span><br></pre></td></tr></table></figure><h1 id="四-数据类型"><a href="#四-数据类型" class="headerlink" title="四.数据类型"></a>四.数据类型</h1><p>基本数据类型&amp;引用数据类型</p><p>基本数据类型: Number String Boolean Null Undefined</p><ul><li>基本数据类型的值是无法修改的, 是不可变的.</li><li>基本数据类型的比较是值的比较, 也就是只要两个变量的值相等, 我们就认为这两个变量相等.</li></ul><p>引用数据类型: Object</p><ul><li>当一个变量是一个对象时, 实际上变量中保存的并不是对象本身, 而是对象的引用(堆内存中对象的地址).</li><li>当从一个变量向另一个变量复制引用类型的值时, 会将对象的引用复制到变量中, 并不是创建一个新的对象.</li><li>这时, 两个变量指向的是同一个对象. 因此, 改变其中一个变量会影响另一个</li></ul><p>对比如下代码即结果, 有什么区别?</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">123</span>;</span><br><span class="line"><span class="keyword">var</span> b = a;</span><br><span class="line">a ++;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"a = "</span> + a + <span class="string">";b = "</span> + b);</span><br><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">    name:<span class="string">"孙悟空"</span>,</span><br><span class="line">    birth:&#123;</span><br><span class="line">        year:<span class="number">1998</span>,</span><br><span class="line">        month:<span class="number">10</span>,</span><br><span class="line">        day:<span class="number">8</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">var</span> obj2 = obj;</span><br><span class="line">obj2.name = <span class="string">"牛魔王"</span>;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"obj.name = "</span> + obj.name + <span class="string">"; obj2.name = "</span> + obj2.name);</span><br><span class="line"><span class="comment">//obj2 = null;//若执行obj2 = null;那obj2不再指向任何内容, 如下命令会出错</span></span><br><span class="line">obj2.name = <span class="string">"猪八戒"</span>;</span><br><span class="line"><span class="built_in">console</span>.log(obj == obj2);<span class="comment">//引用数据类型比较的是地址</span></span><br></pre></td></tr></table></figure><ul><li>JS运行时, 基本类型的变量直接存在栈空间;</li><li>引用类型的实体(即对象)保存在堆空间, 变量中保存的实际上对象在堆内存中的地址.</li><li>以上代码在内存中的情况如下:</li></ul><p><img src="imgs\JS\Memory.png" alt="Memory"></p><h1 id="五-for…in语句"><a href="#五-for…in语句" class="headerlink" title="五.for…in语句"></a>五.for…in语句</h1><ul><li>在开发过程中, 我们往往会使用别人给我们提供好的对象</li><li>但我们不知道对象里有什么属性</li><li>这时就用到了for…in语句来遍历对象的属性</li></ul><p>例:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">    name:<span class="string">"CRD"</span>,</span><br><span class="line">    sex:<span class="string">"男"</span>,</span><br><span class="line">    age:<span class="number">20</span>,</span><br><span class="line">    nation:<span class="string">"中国"</span>,</span><br><span class="line">    sayHello:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">"你好"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> index <span class="keyword">in</span> obj)&#123;<span class="comment">//这里不能用obj.index来操作属性</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"名:"</span> + index + <span class="string">";值:"</span> + obj[index]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> JS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JS流程控制</title>
      <link href="/test/JS1-2.html"/>
      <url>/test/JS1-2.html</url>
      
        <content type="html"><![CDATA[<p>JS的基本语法: 流程控制</p><a id="more"></a><ol><li>条件判断语句 if-else</li><li>条件分支语句 switch-case</li><li>循环语句 for while</li></ol><h1 id="一-if-else"><a href="#一-if-else" class="headerlink" title="一.if-else"></a>一.if-else</h1><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//①</span></span><br><span class="line"><span class="keyword">if</span>(条件表达式)&#123;   &#125;</span><br><span class="line"><span class="comment">//②</span></span><br><span class="line"><span class="keyword">if</span>(条件表达式)&#123;</span><br><span class="line">    <span class="comment">//执行的语句1;</span></span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line"><span class="comment">//执行的语句2;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//③</span></span><br><span class="line"><span class="keyword">if</span>(条件表达式<span class="number">1</span>)&#123;</span><br><span class="line">    <span class="comment">//执行的语句1;</span></span><br><span class="line">&#125;<span class="keyword">else</span> <span class="keyword">if</span>(条件表达式<span class="number">2</span>)&#123;</span><br><span class="line"><span class="comment">//执行的语句2;</span></span><br><span class="line">&#125;<span class="keyword">else</span> <span class="keyword">if</span>( 条件表达式<span class="number">3</span>)&#123;</span><br><span class="line"><span class="comment">//执行的语句3;</span></span><br><span class="line">&#125;...&#123;</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line"><span class="comment">//执行的语句;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>[注意]</p><ol><li>一旦满足某个条件表达式, 则进入其执行语句块执行, 执行完毕, 跳出当前的条件判断结构, 不会执行剩下的条件结构语句.</li><li>如果多个条件表达式之间为“互斥”关系, 多个结构可以上下调换顺序.<br>如果多个条件表达式之间为“包含”关系, 要求条件表达式范围小的写在范围大的上面.</li></ol><h1 id="二-switch-case"><a href="#二-switch-case" class="headerlink" title="二.switch-case"></a>二.switch-case</h1><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">switch</span>(变量)&#123;</span><br><span class="line"><span class="keyword">case</span> 值<span class="number">1</span>:</span><br><span class="line"><span class="comment">//break;</span></span><br><span class="line"><span class="keyword">case</span> 值<span class="number">2</span>:</span><br><span class="line"><span class="comment">//break;</span></span><br><span class="line">...</span><br><span class="line"><span class="keyword">default</span>:</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>1.case后只能填写变量的值, 不能写范围.<br>2.default是可以省略的, 并且其位置也是灵活的, 但通常将其放在case语句之后.<br>3.一旦满足某个case语句, 则进入执行其操作, 直至遇到break或者程序终止.<br>4.若要判断的语句的条件满足switch变量的数据类型, 且值不多的情况下, 建议选择switch-case .<br>除此之外, 选择if-else.</p><h1 id="三-循环语句"><a href="#三-循环语句" class="headerlink" title="三.循环语句"></a>三.循环语句</h1><p>格式:①初始化条件②循环条件③迭代部分④循环体</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(①;②;③)&#123;</span><br><span class="line">④</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//</span></span><br><span class="line">①</span><br><span class="line"><span class="keyword">while</span>(②)&#123;</span><br><span class="line">④</span><br><span class="line">③</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//</span></span><br><span class="line">①</span><br><span class="line"><span class="keyword">do</span>&#123;</span><br><span class="line">④</span><br><span class="line">③</span><br><span class="line">&#125;<span class="keyword">while</span>(②);</span><br></pre></td></tr></table></figure><p>注意 1.不同的循环结构之间可以相互转换<br>   2.while和do-while的区别; do-while程序至少会执行一次</p><p>嵌套循环: 上述循环体嵌套循环体<br>若外层循环执行m次, 内层循环执行n次, 整个程序执行m*n次 .</p><p>无限循环结构: 我们往往会在无限循环结构内部提供循环的终止条件, 使用break关键字跳出循环.避免死循环.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(;;)&#123;</span><br><span class="line">   ...</span><br><span class="line">   <span class="keyword">if</span>(  )&#123;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">   &#125;</span><br><span class="line">   ...</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//或者</span></span><br><span class="line"><span class="keyword">while</span>(<span class="literal">true</span>)&#123;</span><br><span class="line">   ...</span><br><span class="line">   <span class="keyword">if</span>(  )&#123;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">   &#125;</span><br><span class="line">   ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="break-amp-continue"><a href="#break-amp-continue" class="headerlink" title="break&amp;continue"></a>break&amp;continue</h2><p>使用switch-case结构或者循环结构中<br>在循环结构中, 一旦执行到break, 就跳出当前循环 .</p><p>continue:<br>使用在循环结构中, 一旦执行到continue, 就跳出当次循环, 继续执行下一次循环.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">1</span>;i &lt;= <span class="number">10</span>;i++)&#123;</span><br><span class="line"><span class="keyword">if</span>(i % <span class="number">4</span> == <span class="number">0</span>)&#123;</span><br><span class="line"><span class="comment">//break; //程序执行结果:123</span></span><br><span class="line"><span class="keyword">continue</span>;  <span class="comment">//程序执行结果:123567910</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(i);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>在嵌套循环中, 使用带标签的break和continue.</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">label:<span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">1</span>;i &lt; <span class="number">5</span>;i++)&#123;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> j = <span class="number">1</span>;j &lt;= <span class="number">10</span>;j++)&#123;</span><br><span class="line"><span class="keyword">if</span>(j % <span class="number">4</span> == <span class="number">0</span>)&#123;</span><br><span class="line"><span class="comment">//break;</span></span><br><span class="line"><span class="comment">//continue;</span></span><br><span class="line"><span class="comment">//break label;</span></span><br><span class="line"><span class="keyword">continue</span> label;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(j);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>例题: 求100以内的素数</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> n = <span class="number">100</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">2</span>;i &lt;= n;i ++)&#123;</span><br><span class="line">    <span class="keyword">var</span> m = <span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.sqrt(i));</span><br><span class="line">    <span class="keyword">var</span> flag = <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> j = <span class="number">2</span>;j &lt;= m;j ++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(i % j == <span class="number">0</span>)&#123;</span><br><span class="line">            flag = <span class="literal">false</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(flag)&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(i);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> JS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JS基础语法</title>
      <link href="/test/JS1-1.html"/>
      <url>/test/JS1-1.html</url>
      
        <content type="html"><![CDATA[<p>JS基础语法</p><a id="more"></a><h2 id="一-JS注释"><a href="#一-JS注释" class="headerlink" title="一.JS注释"></a>一.JS注释</h2><ul><li>和其他高级语言差不多, 分为:</li><li>多行注释: /**/</li><li>单行注释: //</li><li>注释中的代码不会被执行, 只能在源码中看见注释的内容</li></ul><h2 id="二-JS的变量与字面量"><a href="#二-JS的变量与字面量" class="headerlink" title="二.JS的变量与字面量"></a>二.JS的变量与字面量</h2><p>变量的作用是给某一个值或对象标注名称, 方便复用, 变量也用来保存字面量</p><p>字面量: 可以直接使用, 不能更改其值, 像: 123、”Hello”、1.23等</p><ul><li>变量的声明: 使用<font style="color:red;">var关键字声明一个变量</font>, 例: var a;</li><li>变量的赋值: 使用=为变量赋值, 例: a=123;</li><li>声明和赋值同时进行, 例, var a = 123;</li></ul><h2 id="三-JS标识符"><a href="#三-JS标识符" class="headerlink" title="三.JS标识符"></a>三.JS标识符</h2><p>所谓标识符, 就是指变量、函数、属性的名字, 或函数的参数.要求: </p><ul><li>第一个字符必须是一个字母、下划线_或一个美元符号$.</li><li>不能以数字开头, 不能是关键字或保留字</li><li>其他字符可以是字母、下划线、美元符号或数字.</li><li>标识符一般采用驼峰命名法(规范): 首字母小写, 每个单词首字母大写其他字母小写, 例: xxxYyyZzz</li></ul><p>JS底层保存标识符是用Unicode编码的</p><p>命名时, 尽量见名知意, 遵守它的规则和行业规范.</p><h2 id="四-数据类型"><a href="#四-数据类型" class="headerlink" title="四.数据类型"></a>四.数据类型</h2><ul><li>String(字符串型), 例: “Hello World”或’Hello World’</li><li>Number(数值型), 例: 123、1.23</li><li>Boolean(布尔型), 只有 true false两个取值</li><li>Null(null型), 只有一个取值: null, 用来表示一个对象为空; 用 typeof null;会返回object</li><li>Undefined(undefined型), 未定义, 当声明了一个变量而没赋值时, 变量的值就是undefined</li><li>上述五种基本类型之外的类型: Object</li></ul><p>String: 使用单或双引号括起来的整体, 但是单双引号不能嵌套. 了解一些常见的转义字符</p><p>Number: 正无穷(Infinity), 负无穷(-Infinity); Nut a Number(NaN)</p><font style="color:red;font-weight:bold;">尽量避免用JS做一些高精度的计算问题</font><p>用typeof运算符可以检查变量的类型, 例:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">123</span>;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> a);<span class="comment">//输出结果为:number</span></span><br><span class="line"><span class="keyword">var</span> b = <span class="built_in">Number</span>.MAX_VALUE + <span class="number">1</span>;</span><br><span class="line"><span class="built_in">console</span>.log(b);<span class="comment">//输出结果为:Infinity</span></span><br><span class="line"><span class="keyword">var</span> c = <span class="built_in">Number</span>.MIN_VALUE;<span class="comment">//JS能表示的大于零的最小值</span></span><br><span class="line"><span class="comment">//Number有它能表示的最大值, 为Number.MAX_VALUE;</span></span><br><span class="line"><span class="comment">//当计算结果超过它时, 输出结果为:Infinity(number型)即正无穷</span></span><br><span class="line"><span class="keyword">var</span> str = <span class="string">"123"</span> * <span class="string">"123"</span>;</span><br><span class="line"><span class="comment">//当计算结果非数字时, 会返回一个NaN(number型)</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> str);<span class="comment">//结果为:NaN</span></span><br></pre></td></tr></table></figure><h2 id="五-强制类型转换"><a href="#五-强制类型转换" class="headerlink" title="五.强制类型转换"></a>五.强制类型转换</h2><ul><li>其他类型变量转换为String, 调用变量的toString()方法, 或调用String()函数</li><li>其他类型变量转换为Number, 调用Number()函数, 对于字符串还可调用parseInt()或parseFloat()函数</li><li>其他类型变量转换为Boolean, 调用Boolean()函数</li></ul><div><div class="fold_hider"><div class="close hider_title">点击显/隐内容</div></div><div class="fold"><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//其他类型变量转换为String</span></span><br><span class="line"><span class="keyword">var</span> a = <span class="number">123</span>;<span class="comment">//注意:当a = null;或a = undefined;时, 不能调用a.toString()方法</span></span><br><span class="line">a = a.toString();<span class="comment">//toString()方法, 无参数, 将a的内容变为string后返回</span></span><br><span class="line"><span class="keyword">var</span> b = <span class="literal">null</span>;</span><br><span class="line">b = <span class="built_in">String</span>(b);<span class="comment">//String()函数, 将要转换的变量作为参数传递给函数, 后函数将结果返回</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"a = "</span> + a);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> a);<span class="comment">//输出:string</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"b = "</span> + b);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> b);</span><br><span class="line"></span><br><span class="line"><span class="comment">//其他类型变量转换为Number</span></span><br><span class="line"><span class="keyword">var</span> str = <span class="string">"123"</span>;<span class="comment">//若字符串内容有非数字和空格, Number()函数会将内容转换为NaN</span></span><br><span class="line">str = <span class="built_in">Number</span>(str);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"str = "</span> + str);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> str);</span><br><span class="line"><span class="keyword">var</span> bool = <span class="literal">true</span>;<span class="comment">//true==&gt;1  false==&gt;0  null==&gt;0  undefined==&gt;NaN</span></span><br><span class="line">bool = <span class="built_in">Number</span>(bool);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"bool = "</span> + bool);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> bool);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> px = <span class="string">"123px"</span>;</span><br><span class="line">px = <span class="built_in">parseInt</span>(px);<span class="comment">//从第一个字符开始转换, 直到遇到非空和非数字.parseFolat()函数类似</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"px = "</span> + px);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> px);</span><br><span class="line"><span class="comment">//JS中数字的进制, 0x开头表示16进制, 0开头表示8进制</span></span><br><span class="line">px = <span class="string">"070"</span>;</span><br><span class="line">px = <span class="built_in">parseInt</span>(px,<span class="number">10</span>);<span class="comment">//第二个参数, 表示以几进制进行解析</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"px = "</span> + px);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> px);</span><br><span class="line"></span><br><span class="line"><span class="comment">//其他类型变量转换为Boolean</span></span><br><span class="line"><span class="keyword">var</span> num = <span class="number">123</span>;<span class="comment">//数字只有0和NaN转换为false, 字符串只有空串转换为false</span></span><br><span class="line">num = <span class="built_in">Boolean</span>(num);<span class="comment">//null和undefined转换为false, 对象都转换为true</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"num = "</span> + num);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> num);</span><br><span class="line"></span><br><span class="line"><span class="comment">//这里说一个isNaN()函数, 判断一个数字是不是NaN, 若是返回true, 不是返回false</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">isNaN</span>(num));</span><br></pre></td></tr></table></figure></div></div><h2 id="六-运算符"><a href="#六-运算符" class="headerlink" title="六.运算符"></a>六.运算符</h2><ul><li>算术运算符  + - * / ++(前置和后置) –(前置和后置) +(符号不变) -(符合取反) %(取模)</li><li>逻辑运算符  &amp;&amp; || !  &amp; |</li><li>关系运算符  &gt;  &lt;  &gt;=  &lt;=  ==  !=  ===  !==</li><li>赋值运算符  = += -= *= /= %=</li><li>条件运算符  ?:, 格式: 条件表达式?表达式1:表达式2; 若条件表达式为true, 整个表达式值为表达式1的值, 否则为表达式2的值.</li><li>位运算符  ^ &amp; | ! (用于数值类型的操作)</li><li>typeof运算符  判断类型并以字符串形式返回</li></ul><h3 id="A-算术运算符"><a href="#A-算术运算符" class="headerlink" title="A.算术运算符:"></a>A.算术运算符:</h3><p>+的特殊性, 可以用来拼接字符串, 例:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">1</span> + <span class="number">2</span> + <span class="string">"3"</span>;<span class="comment">//33</span></span><br><span class="line"><span class="keyword">var</span> b = <span class="string">"1"</span> + <span class="number">2</span> + <span class="number">3</span>;<span class="comment">//123</span></span><br></pre></td></tr></table></figure><p>其他算数运算符在进行运算时, 会将操作数先转换为Number类型, 再进行运算, 并将结果以数值类型返回</p><p>前++: 先对原变量加1, 在使用该变量的值;后++: 先使用给变量的值, 再给变量加1;–类似</p><h3 id="B-逻辑运算符"><a href="#B-逻辑运算符" class="headerlink" title="B.逻辑运算符"></a>B.逻辑运算符</h3><p>与 或 非, 运算时将其他类型转换为Boolean型, 再运算;</p><p>注意短路与(&amp;&amp;)和短路或(||):</p><p>短路与: 若第一个值为true, 则返回第二个值; 若第一个值为false, 则返回第一个值;</p><p>短路或: 若第一个值为true, 则返回第一个值; 若第一个值为false, 则返回第二个值;</p><h3 id="C-关系元算符"><a href="#C-关系元算符" class="headerlink" title="C.关系元算符"></a>C.关系元算符</h3><p>比较两个字符串时, 比较的是字符串的字符编码(按位比较); 其他类型转换为数值类型比较; 比较结果为true或false, 以字符串形式返回比较的结果.</p><p>注意==判等时会做隐式类型转换, ===表示全等; != 与 !==一样</p><h3 id="D-赋值运算符"><a href="#D-赋值运算符" class="headerlink" title="D.赋值运算符"></a>D.赋值运算符</h3><p>将运算符左边的表达式的值做一个操作, 然后将操作后的值赋值给右边的变量.</p><h2 id="七-Unicode编码表"><a href="#七-Unicode编码表" class="headerlink" title="七.Unicode编码表"></a>七.Unicode编码表</h2><p>在JS的字符串中, 使用转义字符\u+四位16进制的编码表示Unicode编码</p><p>在HTML中, 使用 &amp;#10进制编码; 表示Unicode编码. </p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>JS基础<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> str = <span class="string">"\u2620"</span>;</span></span><br><span class="line"><span class="javascript">            <span class="built_in">console</span>.log(str);</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>&amp;#9760;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>注意:</p><ul><li>JS中严格区分大小写(HTML中不区分)</li><li>JS中一个分号代表一条命令的结束</li><li>JS会忽略多个空格与换行符, 因此我们可以用来格式化自己的代码</li><li>JS代码是一条条以;结尾的语句, 可用{}将语句分组, 一个{}也叫一个代码块</li></ul>]]></content>
      
      
      <categories>
          
          <category> JS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JS简介</title>
      <link href="/test/JS1-0.html"/>
      <url>/test/JS1-0.html</url>
      
        <content type="html"><![CDATA[<p>JavaScript简介</p><a id="more"></a><h2 id="一-起源"><a href="#一-起源" class="headerlink" title="一.起源"></a>一.起源</h2><ul><li>JavaScript诞生于1995年, 它的出现主要是用于处理网页中的前端验证.</li><li>所谓的前端验证, 就是指检查用户输入的内容是否符合一定的规则.</li><li>比如: 用户名的长度，密码的长度，邮箱的格式等.</li></ul><h2 id="二-JavaScript构成"><a href="#二-JavaScript构成" class="headerlink" title="二.JavaScript构成"></a>二.JavaScript构成</h2><ul><li>ECMAScript(JS的标准)</li><li>DOM(JS操作网页)</li><li>BOM(JS操作浏览器)</li></ul><h2 id="三-JS的特点"><a href="#三-JS的特点" class="headerlink" title="三.JS的特点"></a>三.JS的特点</h2><ul><li>解释型语言</li><li>类似于 C 和 Java 的语法结构</li><li>动态语言</li><li>基于原型的面向对象</li><li>JavaScript是一门解释型语言, 所谓解释型值语言不需要被编译为机器码在执行, 而是直接执行.</li><li>JavaScript和与Java的关系也仅仅是看起来像而已</li><li>JavaScript是一门动态语言, 所谓的动态语言可以暂时理解为在语言中的一切内容都是不确定的. 比如一个变量, 这一时刻是个整型, 下一时刻可能会变成字符串了.</li><li>JS可能是运行速度最快的动态语言了</li><li>JavaScript是一门面向对象(基于原型的面向对象)的语言</li></ul><h2 id="四-JS的Hello-World"><a href="#四-JS的Hello-World" class="headerlink" title="四.JS的Hello World"></a>四.JS的Hello World</h2><h3 id="A-JS代码的位置"><a href="#A-JS代码的位置" class="headerlink" title="A.JS代码的位置"></a>A.JS代码的位置</h3><ol><li>JS代码写在网页(.html文件)的script标签中</li><li>JS代码可以写在标签的onclick属性中, 点击时才会执行</li><li>JS代码写在超链接的href属性中, 点击时才会执行</li><li>JS代码写在外部.js文件中, 用script标签引入该文件到网页</li></ol><ul><li>虽然可以写在标签的属性中, 但是这样属于结构与行为耦合, 不方便维护, 不推荐使用</li><li>一般使用script引入外部js文件或将代码写在script标签中, 一旦script标签用于引入js文件, 那么就不能在里面编写js代码</li><li>JS代码按script标签先后顺序, 顺序执行</li></ul><p>例:</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>JS基础<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">//弹出窗口</span></span><br><span class="line"><span class="undefined">alert("Hello Wrold!");</span></span><br><span class="line"><span class="undefined">            //输出在body标签中</span></span><br><span class="line"><span class="undefined">document.write("Hello World!");</span></span><br><span class="line"><span class="undefined">            //输出在控制台</span></span><br><span class="line"><span class="undefined">console.log("Hello World!");</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"js/test.js"</span> &gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">"alert('讨厌, 点我干嘛~~~')"</span>&gt;</span>点我一下试试<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"javascript:alert('让你点你就点?')"</span>&gt;</span>点我一下试试<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"javascript:;"</span>&gt;</span>点我一下试试<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="comment">&lt;!--点击时什么都不做--&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> JS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JS </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JavaInternet</title>
      <link href="/test/JavaInternet.html"/>
      <url>/test/JavaInternet.html</url>
      
        <content type="html"><![CDATA[<p>Java网络编程</p><a id="more"></a><h1 id="一-网络编程概述"><a href="#一-网络编程概述" class="headerlink" title="一.网络编程概述"></a>一.网络编程概述</h1><ul><li>Java是 Internet 上的语言, 它从语言级上提供了对网络应用程序的支持, 程序员能够很容易开发常见的网络应用程序.</li><li>Java提供的网络类库, 可以实现无痛的网络连接, 联网的底层细节被隐藏在 Java 的本机安装系统里, 由 JVM 进行控制, 并且 Java 实现了一个跨平台的网络库, 程序员面对的是一个统一的网络编程环境.</li></ul><blockquote><p>计算机网络:<br>    把分布在不同地理区域的计算机与专门的外部设备用通信线路互连成一个规模大、功能强的网络系统, 从而使众多的计算机可以方便地互相传递信息、共享硬件、软件、数据信息等资源.<br>网络编程的目的:<br>    直接或间接地通过网络协议与其它计算机进行通讯.<br>网络编程中有两个主要的问题:<br>       ①如何准确地定位网络上一台或多台主机<br>       ②找到主机后如何可靠高效地进行数据传输.<br>如何实现网络中的主机互相通信:<br>       ①通信双方地址<br>       ②一定的规则(有两套参考模型):<br>           OSI参考模型: 模型过于理想化, 未能在因特网上进行广泛推广<br>           TCP/IP参考模型(或TCP/IP协议): 事实上的国际标准.</p></blockquote><p><img src="imgs\Java\Protocol.png" alt="Protocol"></p><h1 id="二-通讯要素"><a href="#二-通讯要素" class="headerlink" title="二.通讯要素"></a>二.通讯要素</h1><h2 id="1-IP和端口号"><a href="#1-IP和端口号" class="headerlink" title="1.IP和端口号"></a>1.IP和端口号</h2><blockquote><p>IP 地址: InetAddress<br>    ①唯一的标识 Internet 上的计算机<br>    ②本地回环地址(hostAddress): 127.0.0.1 主机名(hostName)：localhost<br>    ③不易记忆<br>端口号标识正在计算机上运行的进程(程序)<br>    ①不同的进程有不同的端口号<br>    ②被规定为一个 16 位的整数 0~65535. 其中, 0~1023被预先定义的服务通信占用(如My Sql占用端口3306, http占用端口80等). 除非我们需要访问这些特定服务, 否则, 就应该使用 1024~65535 这些端口中的某一个进行通信, 以免发生端口冲突. </p></blockquote><font style="color:red;font-size:1.5em;font-weigth:bold;">端口号与IP地址的组合得出一个网络套接字(socket).</font><h2 id="2-网络通信协议"><a href="#2-网络通信协议" class="headerlink" title="2.网络通信协议"></a>2.网络通信协议</h2><blockquote><p>​    计算机网络中实现通信必须有一些约定, 即通信协议, 对速率、传输代码、代码结构、传输控制步骤、出错控制等制定标准.<br>​    通信协议分层的思想</p></blockquote><h3 id="TCP-IP协议簇"><a href="#TCP-IP协议簇" class="headerlink" title="TCP/IP协议簇"></a>TCP/IP协议簇</h3><blockquote><p>传输层协议中有两个非常重要的协议:<br>    传输控制协议TCP(Transmission Control Protocol)<br>    用户数据报协议UDP(User Datagram Protocol)<br>TCP/IP 以其两个主要协议: 传输控制协议(TCP)和网络互联协议(IP)而得名, 实际上是一组协议, 包括多个具有不同功能且互为关联的协议.<br>IP(Internet Protocol)协议是网络层的主要协议, 支持网间互连的数据通信.<br>TCP/IP协议模型从更实用的角度出发, 形成了高效的四层体系结构, 即物理链路层、IP层、传输层和应用层.</p></blockquote><ol><li>TCP协议:</li></ol><ul><li>使用TCP协议前, 须先建立TCP连接, 形成传输数据通道</li><li>传输前, 采用“三次握手”方式, 是可靠的</li><li>TCP协议进行通信的两个应用进程: 客户端、服务端</li><li>在连接中可进行大数据量的传输</li><li>传输完毕, 需释放已建立的连接, 效率低</li></ul><ol start="2"><li>UDP协议(视频传输一般用的此协议):</li></ol><ul><li>将数据、源、目的封装成数据包, 不需要建立连接</li><li>每个数据报的大小限制在64 K内</li><li>因无需连接, 故是不可靠的</li><li>发送数据结束时无需释放资源, 速度快</li></ul><h2 id="3-Socket"><a href="#3-Socket" class="headerlink" title="3.Socket"></a>3.Socket</h2><ul><li>利用套接字(Socket)开发网络应用程序早已被广泛的采用, 以至于成为事实上的标准.</li><li>通信的两端都要有Socket, 是两台机器间通信的端点</li><li>网络通信其实就是Socket间的通信</li><li>Socket允许程序把网络连接当成一个流, 数据在两个Socket间通过IO传输</li><li>一般主动发起通信的应用程序属客户端, 等待通信请求的为服务端</li></ul><h2 id="4-InetAddress类"><a href="#4-InetAddress类" class="headerlink" title="4.InetAddress类"></a>4.InetAddress类</h2><blockquote><p>Internet上的主机有两种方式表示地址:<br>    域名(hostName): localhost<br>    IP 地址(hostAddress): 127.0.0.1<br>InetAddress类主要表示IP地址, 两个子类: Inet4Address、Inet6Address.<br>InetAddress 类对象含有一个 Internet 主机地址的域名和IP地址: localhost 和 127.0.0.1<br>域名容易记忆, 当在连接网络时输入一个主机的域名后, 域名解析服务器(DNS)负责将域名转化成IP地址, 这样才能和主机建立连接. ——-域名解析</p></blockquote><p>Windows系统中, 访问域名, 先找本机hosts(C:\Windows\System32\drivers\etc\hosts), 是否有输入的域名地址, 没有的话, 再通过DNS服务器, 找主机.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">    <span class="comment">//创建一个InetAddress对象: getByName()</span></span><br><span class="line">    InetAddress inet = InetAddress.getByName(<span class="string">"localhost"</span>);</span><br><span class="line">    <span class="comment">//inet = InetAddress.getByName("127.0.0.1");</span></span><br><span class="line">    System.out.println(inet);</span><br><span class="line">    <span class="comment">//两个方法</span></span><br><span class="line">    System.out.println(inet.getHostName());</span><br><span class="line">    System.out.println(inet.getHostAddress());</span><br><span class="line">    <span class="comment">//获取本机的IP: getLocalHost()</span></span><br><span class="line">    InetAddress inet1 = InetAddress.getLocalHost();</span><br><span class="line">    System.out.println(inet1);</span><br><span class="line">    System.out.println(inet1.getHostName());</span><br><span class="line">    System.out.println(inet1.getHostAddress());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="三-基于Socket的TCP编程"><a href="#三-基于Socket的TCP编程" class="headerlink" title="三.基于Socket的TCP编程"></a>三.基于Socket的TCP编程</h1><p>Java语言的基于套接字编程分为服务端编程和客户端编程, 有两个类<font style="color:red;">Socket类和ServerSocket类</font></p><h2 id="1-TCP编程示例一"><a href="#1-TCP编程示例一" class="headerlink" title="1.TCP编程示例一"></a>1.TCP编程示例一</h2><p>客户端给服务端发送信息, 服务端将信息输出在控制台上.</p><font style="color:red;font-size:1.2em;font-weight:bold;">注意: 测试时, 先开启服务端, 再开启客户端</font><br><div><div class="fold_hider"><div class="close hider_title">点击显/隐内容</div></div><div class="fold"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 客户端</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">client</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    Socket socket = <span class="keyword">null</span>;</span><br><span class="line">    OutputStream os = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="comment">//1.创建一个Socket的对象, 通过构造器指明服务端的IP地址, 以及其接收程序的端口号</span></span><br><span class="line">        socket = <span class="keyword">new</span> Socket(InetAddress.getByName(<span class="string">"127.0.0.1"</span>), <span class="number">9999</span>);</span><br><span class="line">        <span class="comment">//2.getOutputStream(): 发送数据, 方法返回OutputStream的对象</span></span><br><span class="line">        os = socket.getOutputStream();</span><br><span class="line">        <span class="comment">//3.具体的输出过程</span></span><br><span class="line">        os.write(<span class="string">"我是客户端发送的信息"</span>.getBytes());</span><br><span class="line">    &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">        <span class="comment">//4.关闭相应的流和Socket对象</span></span><br><span class="line">        <span class="keyword">if</span> (os != <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                os.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (socket != <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                socket.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 服务端</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">server</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    ServerSocket ss = <span class="keyword">null</span>;</span><br><span class="line">    Socket s = <span class="keyword">null</span>;</span><br><span class="line">    InputStream is = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="comment">//1.创建一个ServerSocket的对象, 通过构造器指明自身的端口号</span></span><br><span class="line">        ss = <span class="keyword">new</span> ServerSocket(<span class="number">9999</span>);</span><br><span class="line">        <span class="comment">//2.调用其accept()方法, 返回一个Socket的对象</span></span><br><span class="line">        s = ss.accept();</span><br><span class="line">        <span class="comment">//3.调用Socket对象的getInputStream()获取一个从客户端发送过来的输入流</span></span><br><span class="line">        is = s.getInputStream();</span><br><span class="line">        <span class="comment">//4.对获取的输入流进行的操作</span></span><br><span class="line">        <span class="keyword">byte</span>[] b = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">16</span>];</span><br><span class="line">        <span class="keyword">int</span> len = -<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span> ((len = is.read(b)) != -<span class="number">1</span>) &#123;</span><br><span class="line">            String str = <span class="keyword">new</span> String(b, <span class="number">0</span>, len);</span><br><span class="line">            System.out.print(str);</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">"收到来自于"</span> + s.getInetAddress().getHostAddress() + <span class="string">"的信息"</span>);</span><br><span class="line">    &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">        <span class="comment">//5.关闭相应的流以及Socket、ServerSocket的对象</span></span><br><span class="line">        <span class="keyword">if</span> (is != <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                is.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (s != <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                s.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (ss != <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                ss.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></div><br><br>## 2.TCP编程示例二<br><br>客户端给服务端发送信息, 服务端将信息打印到控制台上, 同时回馈”成功接受”给客户端<br><br><div><div class="fold_hider"><div class="close hider_title">点击显/隐内容</div></div><div class="fold"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//客户端</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">client</span><span class="params">()</span></span>&#123;</span><br><span class="line">    Socket socket = <span class="keyword">null</span>;</span><br><span class="line">    OutputStream os = <span class="keyword">null</span>;</span><br><span class="line">    InputStream is = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        socket = <span class="keyword">new</span> Socket(InetAddress.getByName(<span class="string">"127.0.0.1"</span>),<span class="number">9999</span>);</span><br><span class="line">        os = socket.getOutputStream();</span><br><span class="line">        os.write(<span class="string">"我是客户端的信息"</span>.getBytes());</span><br><span class="line">        <span class="comment">//shutdownOutput():执行此方法, 显式的告诉服务端发送完毕!</span></span><br><span class="line">        socket.shutdownOutput();</span><br><span class="line">        is = socket.getInputStream();</span><br><span class="line">        <span class="keyword">byte</span>[] b = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">16</span>];</span><br><span class="line">        <span class="keyword">int</span> len = -<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span>((len = is.read(b)) != -<span class="number">1</span>)&#123;</span><br><span class="line">            String str = <span class="keyword">new</span> String(b,<span class="number">0</span>,len);</span><br><span class="line">            System.out.print(str);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125;<span class="keyword">finally</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(is != <span class="keyword">null</span>)&#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                is.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(os != <span class="keyword">null</span>)&#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                os.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(socket != <span class="keyword">null</span>)&#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                socket.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//服务端</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">server</span><span class="params">()</span></span>&#123;</span><br><span class="line">    ServerSocket ss = <span class="keyword">null</span>;</span><br><span class="line">    Socket s = <span class="keyword">null</span>;</span><br><span class="line">    InputStream is = <span class="keyword">null</span>;</span><br><span class="line">    OutputStream os = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        ss = <span class="keyword">new</span> ServerSocket(<span class="number">9999</span>);</span><br><span class="line">        s = ss.accept();</span><br><span class="line">        is = s.getInputStream();</span><br><span class="line">        <span class="keyword">byte</span>[] b = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">16</span>];</span><br><span class="line">        <span class="keyword">int</span> len = -<span class="number">1</span>;</span><br><span class="line">        <span class="comment">//下面的read()方法是阻塞式的, 需要客户端显示的告诉服务端, 发送数据完毕</span></span><br><span class="line">        <span class="keyword">while</span>((len = is.read(b)) != -<span class="number">1</span>)&#123;</span><br><span class="line">            String str = <span class="keyword">new</span> String(b,<span class="number">0</span>,len);</span><br><span class="line">            System.out.print(str);</span><br><span class="line">        &#125;</span><br><span class="line">        os = s.getOutputStream();</span><br><span class="line">        os.write(<span class="string">"服务端成功接收"</span>.getBytes());</span><br><span class="line">    &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125;<span class="keyword">finally</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(os != <span class="keyword">null</span>)&#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                os.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(is != <span class="keyword">null</span>)&#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                is.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(s != <span class="keyword">null</span>)&#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                s.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(ss != <span class="keyword">null</span>)&#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                ss.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></div><br><br>## 3.TCP编程示例三<br><br>从客户端发送文件给服务端, 服务端保存到本地. 并返回“成功接收”给客户端. 并关闭相应的连接.<br><br><div><div class="fold_hider"><div class="close hider_title">点击显/隐内容</div></div><div class="fold"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//客户端</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">client</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    Socket socket = <span class="keyword">null</span>;</span><br><span class="line">    OutputStream os = <span class="keyword">null</span>;</span><br><span class="line">    InputStream is = <span class="keyword">null</span>;</span><br><span class="line">    FileInputStream fis = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        socket = <span class="keyword">new</span> Socket(InetAddress.getByName(<span class="string">"localhost"</span>),<span class="number">9999</span>);</span><br><span class="line">        os = socket.getOutputStream();</span><br><span class="line">        fis = <span class="keyword">new</span> FileInputStream(<span class="keyword">new</span> File(<span class="string">"1.png"</span>));</span><br><span class="line">        <span class="keyword">int</span> length = -<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">byte</span>[] a = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>];</span><br><span class="line">        <span class="keyword">while</span>((length = fis.read(a))!=-<span class="number">1</span>) &#123;</span><br><span class="line">            os.write(a, <span class="number">0</span>, length);</span><br><span class="line">        &#125;</span><br><span class="line">        socket.shutdownOutput();</span><br><span class="line">        is = socket.getInputStream();</span><br><span class="line">        <span class="keyword">int</span> len = -<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">byte</span>[] b = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">16</span>];</span><br><span class="line">        <span class="keyword">while</span>((len = is.read(b))!= -<span class="number">1</span>) &#123;</span><br><span class="line">            String str = <span class="keyword">new</span> String(b, <span class="number">0</span>, len);</span><br><span class="line">            System.out.print(str);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">        <span class="keyword">if</span>(is != <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                is.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(fis != <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                fis.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(os !=<span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                os.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(socket != <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                socket.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//服务端</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">server</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    ServerSocket ss = <span class="keyword">null</span>;</span><br><span class="line">    Socket s = <span class="keyword">null</span>;</span><br><span class="line">    InputStream is = <span class="keyword">null</span>;</span><br><span class="line">    OutputStream os = <span class="keyword">null</span>;</span><br><span class="line">    FileOutputStream fos = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        ss = <span class="keyword">new</span> ServerSocket(<span class="number">9999</span>);</span><br><span class="line">        s = ss.accept();</span><br><span class="line">        is = s.getInputStream();</span><br><span class="line">        fos = <span class="keyword">new</span> FileOutputStream(<span class="keyword">new</span> File(<span class="string">"2.png"</span>));</span><br><span class="line">        <span class="keyword">byte</span> b[] = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>];</span><br><span class="line">        <span class="keyword">int</span> len = -<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span>((len = is.read(b))!=-<span class="number">1</span>) &#123;</span><br><span class="line">            fos.write(b, <span class="number">0</span>, len);</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">"收到来自于"</span> + s.getInetAddress().getHostAddress() + <span class="string">"的文件"</span>);</span><br><span class="line">        os = s.getOutputStream();</span><br><span class="line">        os.write(<span class="string">"成功接收"</span>.getBytes());</span><br><span class="line">    &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">        <span class="keyword">if</span>(os != <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                os.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(fos != <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                fos.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(is != <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                is.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(s != <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                s.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(ss != <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                ss.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></div><br><br># 四.基于Socket的TCP编程<br><br>- 类 DatagramSocket 和 DatagramPacket 实现了基于 UDP 协议网络程序.<br>- UDP数据报通过数据报套接字 DatagramSocket 发送和接收, 系统不保证UDP数据报一定能够安全送到目的地, 也不能确定什么时候可以抵达.<br>- DatagramPacket 对象封装了UDP数据报, 在数据报中包含了发送端的IP地址和端口号以及接收端的IP地址和端口号.<br>- UDP协议中每个数据报都给出了完整的地址信息, 因此无须建立发送方和接收方的连接.<br><br>## 1.流  程:<br><br>1. DatagramSocket与DatagramPacket<br>2. 建立发送端，接收端<br>3. 建立数据包<br>4. 调用Socket的发送、接收方法<br>5. 关闭Socket<br><br><font style="color:red;font-size:1.2em;font-weight:bold;">发送端与接收端是两个独立的运行程序</font><div><div class="fold_hider"><div class="close hider_title">点击显/隐内容</div></div><div class="fold"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//发送端</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">send</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    DatagramSocket ds = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        ds = <span class="keyword">new</span> DatagramSocket();</span><br><span class="line">        <span class="keyword">byte</span>[] b = <span class="string">"这是发送端发送过来的数据"</span>.getBytes();</span><br><span class="line">        DatagramPacket dp = <span class="keyword">new</span> DatagramPacket(b, <span class="number">0</span>, b.length, InetAddress.getByName(<span class="string">"127.0.0.1"</span>), <span class="number">9999</span>);</span><br><span class="line">        ds.send(dp);</span><br><span class="line">    &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">        <span class="keyword">if</span>(ds != <span class="keyword">null</span>) &#123;</span><br><span class="line">            ds.close();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//接收端</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">rceive</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    DatagramSocket ds = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        ds = <span class="keyword">new</span> DatagramSocket(<span class="number">9999</span>);</span><br><span class="line">        <span class="keyword">byte</span>[] b = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>];</span><br><span class="line">        DatagramPacket dp = <span class="keyword">new</span> DatagramPacket(b, <span class="number">0</span>, b.length);</span><br><span class="line">        ds.receive(dp);</span><br><span class="line">        String str = <span class="keyword">new</span> String(dp.getData(),<span class="number">0</span>,dp.getLength());</span><br><span class="line">        System.out.println(str);</span><br><span class="line">    &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">        ds.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></div><h1 id="五-URL编程"><a href="#五-URL编程" class="headerlink" title="五.URL编程"></a>五.URL编程</h1><ul><li>URL(Uniform Resource Locator): 统一资源定位符, 它表示 Internet 上某一资源的地址. 通过 URL 我们可以访问 Internet 上的各种网络资源, 比如最常见的 www, ftp 站点. 浏览器通过解析给定的 URL 可以在网络上查找相应的文件或其他资源. </li><li>URL的基本结构由5部分组成:<br>&lt;传输协议&gt;://&lt;主机名&gt;:&lt;端口号&gt;/&lt;文件名&gt;<br>例如: <a href="http://127.0.0.1:8080/helloworld/index.jsp" target="_blank" rel="noopener">http://127.0.0.1:8080/helloworld/index.jsp</a></li></ul><div><div class="fold_hider"><div class="close hider_title">点击显/隐内容</div></div><div class="fold"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">download</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    InputStream is = <span class="keyword">null</span>;</span><br><span class="line">    InputStream is2 = <span class="keyword">null</span>;</span><br><span class="line">    FileOutputStream fos = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        URL url = <span class="keyword">new</span> URL(<span class="string">"https://papertome.com/hello.txt"</span>);</span><br><span class="line">        <span class="comment">//读取服务器上的资源法一:</span></span><br><span class="line">        is = url.openStream();</span><br><span class="line">        <span class="keyword">byte</span>[] b = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">16</span>];</span><br><span class="line">        <span class="keyword">int</span> len = -<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span>((len = is.read(b))!=-<span class="number">1</span>) &#123;</span><br><span class="line">            String str = <span class="keyword">new</span> String(b,<span class="number">0</span>,len,<span class="string">"utf-8"</span>);</span><br><span class="line">            System.out.print(str);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//读取服务器上的资源法二:</span></span><br><span class="line">        URLConnection urlConn = url.openConnection();</span><br><span class="line">        is2 = urlConn.getInputStream();</span><br><span class="line">        fos = <span class="keyword">new</span> FileOutputStream(<span class="keyword">new</span> File(<span class="string">"hello.txt"</span>));</span><br><span class="line">        <span class="keyword">while</span>((len = is2.read(b))!=-<span class="number">1</span>) &#123;</span><br><span class="line">            fos.write(b, <span class="number">0</span>, len);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">        <span class="keyword">if</span>(is != <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                is.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(is2 != <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                is2.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(fos != <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                fos.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></div>]]></content>
      
      
      <categories>
          
          <category> JavaSE </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaSE </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JavaReflection</title>
      <link href="/test/JavaReflection.html"/>
      <url>/test/JavaReflection.html</url>
      
        <content type="html"><![CDATA[<font style="color:black;font-size:1.2em;">Java的反射机制</font><a id="more"></a><h1 id="一-Java-Reflection"><a href="#一-Java-Reflection" class="headerlink" title="一.Java Reflection"></a>一.Java Reflection</h1><p>Reflection(反射)是被视为<font style="color:red;">动态语言</font>的关键, 反射机制允许程序在执行期借助于Reflection API取得任何类的内部信息, 并能直接操作任意对象的内部属性及方法</p><h2 id="1-Java反射机制提供的功能"><a href="#1-Java反射机制提供的功能" class="headerlink" title="1.Java反射机制提供的功能"></a>1.Java反射机制提供的功能</h2><ul><li>在运行时判断任意一个对象所属的类</li><li>在运行时构造任意一个类的对象</li><li>在运行时判断任意一个类所具有的成员变量和方法</li><li>在运行时调用任意一个对象的成员变量和方法</li><li>生成动态代理(前边讲interface时有静态代理)</li></ul><h2 id="2-反射相关的主要API"><a href="#2-反射相关的主要API" class="headerlink" title="2.反射相关的主要API:"></a>2.反射相关的主要API:</h2><ul><li>java.lang.Class:代表一个类</li><li>java.lang.reflect.Method:代表类的方法</li><li>java.lang.reflect.Field:代表类的成员变量</li><li>java.lang.reflect.Constructor:代表类的构造方法</li></ul><h2 id="3-初识反射"><a href="#3-初识反射" class="headerlink" title="3.初识反射"></a>3.初识反射</h2><p>通过反射在运行时构造一个类的对象, 调用方法和成员变量<br><div><div class="fold_hider"><div class="close hider_title">点击显/隐内容</div></div><div class="fold"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestReflection</span> </span>&#123;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception</span>&#123;</span><br><span class="line"><span class="comment">//class文件中运行时Person类即为Class类的实例(clazz)</span></span><br><span class="line">Class&lt;Person&gt; clazz = Person.class;</span><br><span class="line"><span class="comment">//1.创建clazz对应的运行时类(Person类)的对象</span></span><br><span class="line">Person p = clazz.newInstance();</span><br><span class="line">System.out.println(p);</span><br><span class="line"><span class="comment">//2.通过反射调用运行时类指定的成员变量</span></span><br><span class="line">Field f1 = clazz.getField(<span class="string">"name"</span>);<span class="comment">//调用public变量</span></span><br><span class="line">f1.set(p, <span class="string">"LiuDehua"</span>);</span><br><span class="line">Field f2 = clazz.getDeclaredField(<span class="string">"age"</span>);<span class="comment">//调用private变量</span></span><br><span class="line">f2.setAccessible(<span class="keyword">true</span>);</span><br><span class="line">f2.set(p, <span class="number">21</span>);</span><br><span class="line">System.out.println(p);</span><br><span class="line"><span class="comment">//3.反射调用运行时类指定的方法</span></span><br><span class="line">Method m1 = clazz.getMethod(<span class="string">"show"</span>);<span class="comment">//无参方法</span></span><br><span class="line">m1.invoke(p);</span><br><span class="line">Method m2 = clazz.getMethod(<span class="string">"display"</span>, String.class);<span class="comment">//带参方法</span></span><br><span class="line">m2.invoke(p, <span class="string">"CHINA"</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span></span>&#123;</span><br><span class="line"><span class="keyword">public</span> String name;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">int</span> age;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">Person</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">super</span>();</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">Person</span><span class="params">(String name, <span class="keyword">int</span> age)</span> </span>&#123;</span><br><span class="line"><span class="keyword">super</span>();</span><br><span class="line"><span class="keyword">this</span>.name = name;</span><br><span class="line"><span class="keyword">this</span>.age = age;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">show</span><span class="params">()</span> </span>&#123;</span><br><span class="line">System.out.println(<span class="string">"我是一个人"</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">display</span><span class="params">(String nation)</span> </span>&#123;</span><br><span class="line">System.out.println(<span class="string">"我的国籍是:"</span>+nation);</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="string">"Person [name="</span> + name + <span class="string">", age="</span> + age + <span class="string">"]"</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></div></p><h1 id="二-反射的源头Class类"><a href="#二-反射的源头Class类" class="headerlink" title="二.反射的源头Class类"></a>二.反射的源头Class类</h1><ul><li>源文件经过编译(javac.exe)以后, 得到一个或多个.class文件, .class文件经过运行(java.exe)这步, 就需要进行类的加载(通过JVM的类加载器), 加载到内存的缓存中. 每一个放入缓存中的.class文件就是一个Class的实例!</li><li>Class的一个对象, 对应着一个运行时类(每一个运行时类只加载一次). 相当于一个运行时类本身充当了Class的一个实例.</li><li>每一个对象, 都能通过它的getClass()方法, 得到它对应的运行时类</li><li>通过Class的实例得到一个运行时类中的完整结构(属性, 方法, 构造器, 内部类, 父类, 所在包, 异常, 注解, … )</li></ul><h2 id="1-创建Class类的对象"><a href="#1-创建Class类的对象" class="headerlink" title="1.创建Class类的对象"></a>1.创建Class类的对象</h2><ol><li>通过运行时类本身的.class属性获取</li><li>通过运行时类对象的getClass()方法获取</li><li>通过Class类的静态方法Class.forName(String path)方法</li><li>(了解)通过类加载器(ClassLoader)的对象的loadClass(String path)方法</li></ol><p>ClassLoader的应用:</p><div><div class="fold_hider"><div class="close hider_title">点击显/隐内容</div></div><div class="fold"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line">    <span class="comment">//法一:</span></span><br><span class="line">    ClassLoader loader = <span class="keyword">this</span>.getClass().getClassLoader();</span><br><span class="line">    InputStream is = loader.getResourceAsStream(<span class="string">"com\\crd\\reflection\\jdbc.properties"</span>);</span><br><span class="line">    <span class="comment">//法二:</span></span><br><span class="line"><span class="comment">//    FileInputStream is = new FileInputStream(new File("jdbc1.properties"));</span></span><br><span class="line">    Properties pros = <span class="keyword">new</span> Properties();</span><br><span class="line">    pros.load(is);</span><br><span class="line">    String name = pros.getProperty(<span class="string">"user"</span>);</span><br><span class="line">    System.out.println(name);</span><br><span class="line">    String password = pros.getProperty(<span class="string">"password"</span>);</span><br><span class="line">    System.out.println(password);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></div><h3 id="有了Class的实例后-可以做什么"><a href="#有了Class的实例后-可以做什么" class="headerlink" title="有了Class的实例后, 可以做什么?"></a>有了Class的实例后, 可以做什么?</h3><ol><li>创建对应的运行时类的对象(重点)</li><li>获取对应运行时类完整的类的结构: 属性、方法、构造器、包、父类、接口、泛型、注解、异常、内部类…</li><li>调用对应的运行时类中指定的结构(某个指定的属性、方法、构造器)(重点)</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//获取到对应的运行时类中声明的权限为public的方法(包含其父类中的声明的public)</span></span><br><span class="line">Method[] m1 = clazz.getMethods();</span><br><span class="line"><span class="comment">//获取到对应的运行时类中声明的所有的方法(①任何权限修饰符修饰的都能获取②不含父类中的)</span></span><br><span class="line">Method[] m2 = clazz.getDeclaredMethods();</span><br><span class="line"><span class="comment">//获取其他结构调用类似方法即可</span></span><br><span class="line"><span class="comment">//获取父类的泛型(以后会用到)</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test1</span><span class="params">()</span></span>&#123;</span><br><span class="line">    Class clazz = Person.class;</span><br><span class="line">    Type type = clazz.getGenericSuperclass();</span><br><span class="line">    ParameterizedType param = (ParameterizedType)type;</span><br><span class="line">    Type[] arr = param.getActualTypeArguments();</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i &lt; arr.length;i ++)&#123;</span><br><span class="line">        System.out.println((Class)arr[i]);<span class="comment">//父类的泛型</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><font style="color:red;font-size:1.2em;font-weight:bold;">注意: 调用getDeclaredXxx()方法后, 建议要调用一下, setAccessible(true);</font><h2 id="2-创建运行时类的对象"><a href="#2-创建运行时类的对象" class="headerlink" title="2.创建运行时类的对象"></a>2.创建运行时类的对象</h2><ul><li>使用Class实例的newInstance()方法创建, 该方法默认调用运行时类的空参构造器(该构造器需要足够的权限)</li><li>故, 创建类时建议创建一个空参的构造器</li><li>也能用指定的构造器创建运行时类的对象</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span> <span class="keyword">throws</span> Exception</span>&#123;</span><br><span class="line">    Class clazz = Person.class;</span><br><span class="line">    Constructor cons = clazz.getDeclaredConstructor(String.class,<span class="keyword">int</span>.class);<span class="comment">//指定构造器</span></span><br><span class="line">    cons.setAccessible(<span class="keyword">true</span>);</span><br><span class="line">    Person p = (Person)cons.newInstance(<span class="string">"Tom"</span>,<span class="number">10</span>);</span><br><span class="line">    System.out.println(p);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="三-动态代理"><a href="#三-动态代理" class="headerlink" title="三.动态代理"></a>三.动态代理</h1><ul><li>代理设计模式的原理: 使用一个代理将对象包装起来, 然后用该代理对象取代原始对象. 任何对原始对象的调用都要通过代理. 代理对象决定是否以及何时将方法调用转到原始对象上</li><li>之前提到过静态代理, 特征是代理类和被代理类都是在编译期间确定下来, 不利于程序的扩展. 同时, 每一个代理类只能为一个接口服务, 这样一来程序开发中必然产生过多的代理.</li><li>最好可以通过一个代理类完成全部的代理功能</li></ul><p>静态代理: 要求被代理类和代理类同时实现相应的一套接口; 通过代理类的对象调用重写接口的方法时, 实际上执行的是被代理类的同样的方法的调用.</p><div><div class="fold_hider"><div class="close hider_title">点击显/隐内容</div></div><div class="fold"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//创建接口</span></span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">ClothFactory</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">productCloth</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//创建被代理类</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">NikeClothFactory</span> <span class="keyword">implements</span> <span class="title">ClothFactory</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">productCloth</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"Nike工厂生产衣服"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//创建代理类</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ProxyFactory</span> <span class="keyword">implements</span> <span class="title">ClothFactory</span></span>&#123;</span><br><span class="line">    ClothFactory cf;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">ProxyFactory</span><span class="params">(ClothFactory cf)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.cf = cf;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">productCloth</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"代理类开始代理"</span>);</span><br><span class="line">        cf.productCloth();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestFactory</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String [] args)</span></span>&#123;</span><br><span class="line">        NikeClothFactory nike = <span class="keyword">new</span> NikeClothFactory();<span class="comment">//创建被代理类</span></span><br><span class="line">        ProxyFactory proxy = <span class="keyword">new</span> ProxyFactory(nike);<span class="comment">//创建代理类</span></span><br><span class="line">        proxy.productCloth();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></div><p>动态代理: 在程序运行时, 根据被代理类及其实现的接口, 动态的创建一个代理类. 当调用代理类的实现的抽象方法时, 就发起对被代理类同样方法的调用.</p><div><div class="fold_hider"><div class="close hider_title">点击显/隐内容</div></div><div class="fold"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//动态代理的使用, 反射是动态语言的关键</span></span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">Subject</span> </span>&#123;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">action</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//被代理类</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">RealSubject</span> <span class="keyword">implements</span> <span class="title">Subject</span> </span>&#123;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">action</span><span class="params">()</span> </span>&#123;</span><br><span class="line">System.out.println(<span class="string">"我是被代理类, 记得要执行我哦!么么~~"</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyInvocationHandler</span> <span class="keyword">implements</span> <span class="title">InvocationHandler</span> </span>&#123;</span><br><span class="line">Object obj;<span class="comment">//实现了接口的被代理类的对象的声明</span></span><br><span class="line"><span class="comment">//①给被代理的对象实例化②返回一个代理类的对象</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> Object <span class="title">blind</span><span class="params">(Object obj)</span> </span>&#123;</span><br><span class="line"><span class="keyword">this</span>.obj = obj;</span><br><span class="line"><span class="keyword">return</span> Proxy.newProxyInstance(obj.getClass().getClassLoader(), obj</span><br><span class="line">.getClass().getInterfaces(), <span class="keyword">this</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//当通过代理类的对象发起对被重写的方法的调用时, 都会转换为对如下的invoke方法的调用</span></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> Object <span class="title">invoke</span><span class="params">(Object proxy, Method method, Object[] args)</span></span></span><br><span class="line"><span class="function"><span class="keyword">throws</span> Throwable </span>&#123;</span><br><span class="line"><span class="comment">//method方法的返回值时returnVal</span></span><br><span class="line">Object returnVal = method.invoke(obj, args);</span><br><span class="line"><span class="keyword">return</span> returnVal;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestProxy</span> </span>&#123;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"><span class="comment">//1.被代理类的对象</span></span><br><span class="line">RealSubject real = <span class="keyword">new</span> RealSubject();</span><br><span class="line"><span class="comment">//2.创建一个实现了InvacationHandler接口的类的对象</span></span><br><span class="line">MyInvocationHandler handler = <span class="keyword">new</span> MyInvocationHandler();</span><br><span class="line"><span class="comment">//3.调用blind()方法，动态的返回一个同样实现了real所在类实现的接口Subject的代理类的对象。</span></span><br><span class="line">Object obj = handler.blind(real);</span><br><span class="line">Subject sub = (Subject)obj;<span class="comment">//此时sub就是代理类的对象</span></span><br><span class="line">sub.action();<span class="comment">//转到对InvacationHandler接口的实现类的invoke()方法的调用</span></span><br><span class="line"><span class="comment">//再举一例</span></span><br><span class="line">NikeClothFactory nike = <span class="keyword">new</span> NikeClothFactory();</span><br><span class="line">ClothFactory proxyCloth = (ClothFactory)handler.blind(nike);<span class="comment">//proxyCloth即为代理类的对象</span></span><br><span class="line">proxyCloth.productCloth();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></div><h2 id="1-动态代理与AOP"><a href="#1-动态代理与AOP" class="headerlink" title="1.动态代理与AOP"></a>1.动态代理与AOP</h2><div><div class="fold_hider"><div class="close hider_title">点击显/隐内容</div></div><div class="fold"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">Human</span> </span>&#123;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">info</span><span class="params">()</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">fly</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 被代理类</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SuperMan</span> <span class="keyword">implements</span> <span class="title">Human</span> </span>&#123;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">info</span><span class="params">()</span> </span>&#123;</span><br><span class="line">System.out.println(<span class="string">"我是超人！我怕谁！"</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">fly</span><span class="params">()</span> </span>&#123;</span><br><span class="line">System.out.println(<span class="string">"I believe I can fly!"</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">HumanUtil</span> </span>&#123;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">method1</span><span class="params">()</span> </span>&#123;</span><br><span class="line">System.out.println(<span class="string">"=======方法一======="</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">method2</span><span class="params">()</span> </span>&#123;</span><br><span class="line">System.out.println(<span class="string">"=======方法二======="</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyInvocationHandler</span> <span class="keyword">implements</span> <span class="title">InvocationHandler</span> </span>&#123;</span><br><span class="line">Object obj;<span class="comment">// 被代理类对象的声明</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setObject</span><span class="params">(Object obj)</span> </span>&#123;</span><br><span class="line"><span class="keyword">this</span>.obj = obj;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> Object <span class="title">invoke</span><span class="params">(Object proxy, Method method, Object[] args)</span></span></span><br><span class="line"><span class="function"><span class="keyword">throws</span> Throwable </span>&#123;</span><br><span class="line">HumanUtil h = <span class="keyword">new</span> HumanUtil();</span><br><span class="line">h.method1();</span><br><span class="line">Object returnVal = method.invoke(obj, args);</span><br><span class="line">h.method2();</span><br><span class="line"><span class="keyword">return</span> returnVal;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyProxy</span> </span>&#123;</span><br><span class="line"><span class="comment">// 动态的创建一个代理类的对象</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Object <span class="title">getProxyInstance</span><span class="params">(Object obj)</span> </span>&#123;</span><br><span class="line">MyInvocationHandler handler = <span class="keyword">new</span> MyInvocationHandler();</span><br><span class="line">handler.setObject(obj);</span><br><span class="line"><span class="keyword">return</span> Proxy.newProxyInstance(obj.getClass().getClassLoader(), obj</span><br><span class="line">.getClass().getInterfaces(), handler);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestAOP</span> </span>&#123;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">SuperMan man = <span class="keyword">new</span> SuperMan();<span class="comment">//创建一个被代理类的对象</span></span><br><span class="line">Object obj = MyProxy.getProxyInstance(man);<span class="comment">//返回一个代理类的对象</span></span><br><span class="line">Human hu = (Human)obj;</span><br><span class="line">hu.info();<span class="comment">//通过代理类的对象调用重写的抽象方法</span></span><br><span class="line">System.out.println();</span><br><span class="line">hu.fly();</span><br><span class="line"><span class="comment">//*********</span></span><br><span class="line">NikeClothFactory nike = <span class="keyword">new</span> NikeClothFactory();</span><br><span class="line">Object obj1 = MyProxy.getProxyInstance(nike);</span><br><span class="line">ClothFactory cloth = (ClothFactory)obj1;</span><br><span class="line">cloth.productCloth();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></div>]]></content>
      
      
      <categories>
          
          <category> JavaSE </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaSE </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JavaClass</title>
      <link href="/test/JavaClass.html"/>
      <url>/test/JavaClass.html</url>
      
        <content type="html"><![CDATA[<font style="font-size:1.2em;font-weight:bold;">Java常用类</font><a id="more"></a><ul><li>String StringBuffer StringBuilder</li><li>System Date SimpleDateFormate Calendar</li><li>Math BigInteger BigDecimal </li></ul><h1 id="一-字符串"><a href="#一-字符串" class="headerlink" title="一.字符串"></a>一.字符串</h1><p>String: 代表不可变的字符序列. 底层使用char[]存放. String 是final的.</p><p>StringBuffer: 代表可变序列的字符序列, 可以对字符串内容修改. 底层也是char[]存放</p><h2 id="1-String内存解析"><a href="#1-String内存解析" class="headerlink" title="1.String内存解析"></a>1.String内存解析</h2><div><div class="fold_hider"><div class="close hider_title">点击显/隐内容</div></div><div class="fold"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line">    String str1 = <span class="string">"JavaEE"</span>;</span><br><span class="line">    String str2 = <span class="string">"JavaEE"</span>;</span><br><span class="line">    String str3 = <span class="keyword">new</span> String(<span class="string">"JavaEE"</span>);</span><br><span class="line">    String str4 = <span class="string">"JavaEE"</span> + <span class="string">"Android"</span>;</span><br><span class="line">    String str5 = <span class="string">"Android"</span>;</span><br><span class="line">    String str6 = str1 + str5;</span><br><span class="line">    str5 = str5 + <span class="string">"Handoop"</span>;</span><br><span class="line">    String str7 = str6.intern();</span><br><span class="line">    String str8 = <span class="string">"JavaEEAndroid"</span>;</span><br><span class="line">    System.out.println(str1 == str2);<span class="comment">//true</span></span><br><span class="line">    System.out.println(str1 == str3);<span class="comment">//false</span></span><br><span class="line">    System.out.println(str1.equals(str3));<span class="comment">//true</span></span><br><span class="line"></span><br><span class="line">    System.out.println(str4 == str6);<span class="comment">//false</span></span><br><span class="line">    System.out.println(str4.equals(str6));<span class="comment">//true</span></span><br><span class="line">    System.out.println(str7 == str4);<span class="comment">//true</span></span><br><span class="line">    System.out.println(str4 == str8);<span class="comment">//true</span></span><br><span class="line"></span><br><span class="line">    Person p1 = <span class="keyword">new</span> Person(<span class="string">"AA"</span>);</span><br><span class="line">    Person p2 = <span class="keyword">new</span> Person(<span class="string">"AA"</span>);</span><br><span class="line">    System.out.println(<span class="string">"^_^"</span>+ (p1.name == p2.name));<span class="comment">//true</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></div><p><img src="imgs\Java\String内存.png" alt="String内存"></p><h2 id="2-String常用方法"><a href="#2-String常用方法" class="headerlink" title="2.String常用方法"></a>2.String常用方法</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">length</span><span class="params">()</span></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">char</span> <span class="title">charAt</span><span class="params">(<span class="keyword">int</span> index)</span></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">equals</span><span class="params">(Object anObject)</span></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compareTo</span><span class="params">(String anotherString)</span></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">indexOf</span><span class="params">(String s)</span></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">indexOf</span><span class="params">(String s ,<span class="keyword">int</span> startpoint)</span></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">lastIndexOf</span><span class="params">(String s)</span></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">lastIndexOf</span><span class="params">(String s ,<span class="keyword">int</span> startpoint)</span></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">startsWith</span><span class="params">(String prefix)</span></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">endsWith</span><span class="params">(String suffix)</span></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">regionMatches</span><span class="params">(<span class="keyword">int</span> firstStart,String other,<span class="keyword">int</span> otherStart ,<span class="keyword">int</span> length)</span></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">substring</span><span class="params">(<span class="keyword">int</span> startpoint)</span></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">substring</span><span class="params">(<span class="keyword">int</span> start,<span class="keyword">int</span> end)</span></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">replace</span><span class="params">(<span class="keyword">char</span> oldChar,<span class="keyword">char</span> newChar)</span></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">replaceAll</span><span class="params">(String oldStr,String newStr)</span></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">trim</span><span class="params">()</span></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">concat</span><span class="params">(String str)</span></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String[] <span class="title">split</span><span class="params">(String regex)</span></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">char</span>[] <span class="title">toCharArray</span><span class="params">()</span></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">contains</span><span class="params">(String str)</span></span></span><br></pre></td></tr></table></figure><h2 id="3-String与其他类型间的转换"><a href="#3-String与其他类型间的转换" class="headerlink" title="3.String与其他类型间的转换"></a>3.String与其他类型间的转换</h2><ol><li>String、基本数据类型、包装类之间的转换</li></ol><ul><li>①String —&gt; 基本数据类型、包装类: 调用相应包装类的parseXxx(String str)方法</li><li>②基本数据类型、包装类 —&gt; String: 调用字符串重载的valueOf()方法</li></ul><ol start="2"><li>String与byte[]之间的转换</li></ol><ul><li>①String —&gt; byte[]: 调用字符串的getBytes()方法</li><li>②byte[] —&gt; String: 调用字符串的构造器</li></ul><ol start="3"><li>String与char[]之间的转换</li></ol><ul><li>①String —&gt; char[]: 调用字符串的toCharArray()方法</li><li>②char[] —&gt; String: 调用字符串的构造器</li></ul><div><div class="fold_hider"><div class="close hider_title">点击显/隐内容</div></div><div class="fold"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line">    <span class="comment">//1.String、基本数据类型、包装类</span></span><br><span class="line">    String str1 = <span class="string">"123"</span>;</span><br><span class="line">    <span class="keyword">int</span> i = Integer.parseInt(str1);</span><br><span class="line">    System.out.println(i);</span><br><span class="line">    </span><br><span class="line">    String str2 = i + <span class="string">""</span>;</span><br><span class="line">    str2 = String.valueOf(i);</span><br><span class="line">    System.out.println(str2);</span><br><span class="line">    <span class="comment">//2.String与byte[]之间的转换</span></span><br><span class="line">    String str3 = <span class="string">"abcdefg"</span>;</span><br><span class="line">    <span class="keyword">byte</span>[] b = str.getBytes();</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>;j &lt; b.length; j++)&#123;</span><br><span class="line">        System.out.println((<span class="keyword">char</span>)b[j]);<span class="comment">//不能正确打印出汉字</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    String str4 = <span class="keyword">new</span> String(b);</span><br><span class="line">    System.out.println(str4);</span><br><span class="line">    <span class="comment">//3.String与char[]之间的转换</span></span><br><span class="line">    String str5 = <span class="string">"love中国"</span>;</span><br><span class="line">    <span class="keyword">char</span>[] c = str5.toCharArray();</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>;j &lt; c.length; c++)&#123;</span><br><span class="line">        System.out.println(c[j]);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    String str6 = <span class="keyword">new</span> String(c);</span><br><span class="line">    System.out.println(str6);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></div><h2 id="4-StringBuffer类"><a href="#4-StringBuffer类" class="headerlink" title="4.StringBuffer类"></a><font style="color:black;">4.StringBuffer类</font></h2><p>StringBuffer(相当于一个容器)类有三个构造方法:</p><ol><li>StringBuffer()初始容量为16的字符串缓冲区</li><li>StringBuffer(int size)构造指定容量的字符串缓冲区</li><li>StringBuffer(String str)将内容初始化为指定字符串内容    </li></ol><h2 id="5-StringBuffer常用方法"><a href="#5-StringBuffer常用方法" class="headerlink" title="5.StringBuffer常用方法"></a>5.StringBuffer常用方法</h2><p>StringBuffer很多方法与String相同</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">StringBuffer <span class="title">append</span><span class="params">(String s)</span><span class="comment">//参数可以为:int n、Object o、char n、long n、boolean n</span></span></span><br><span class="line"><span class="function">StringBuffer <span class="title">insert</span><span class="params">(<span class="keyword">int</span> index, String str)</span></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> StringBuffer <span class="title">reverse</span><span class="params">()</span><span class="comment">//调用此方法的StringBuffer也会反转</span></span></span><br><span class="line"><span class="function">StringBuffer <span class="title">delete</span><span class="params">(<span class="keyword">int</span> startIndex, <span class="keyword">int</span> endIndex)</span></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">char</span> <span class="title">charAt</span><span class="params">(<span class="keyword">int</span> n)</span></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setCharAt</span><span class="params">(<span class="keyword">int</span> n ,<span class="keyword">char</span> ch)</span></span></span><br><span class="line"><span class="function">StringBuffer <span class="title">replace</span><span class="params">( <span class="keyword">int</span> startIndex ,<span class="keyword">int</span> endIndex, String str)</span></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">indexOf</span><span class="params">(String str)</span></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">substring</span><span class="params">(<span class="keyword">int</span> start,<span class="keyword">int</span> end)</span></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">length</span><span class="params">()</span></span></span><br></pre></td></tr></table></figure><h2 id="6-StringBuilder类"><a href="#6-StringBuilder类" class="headerlink" title="6.StringBuilder类"></a>6.StringBuilder类</h2><p>也是可变的字符序列,而且方法也一样,  JDK5.0后加的, 线程不安全, 但效率高于StringBuffer</p><font style="color:red;font-size:1.5em;font-weight:bold;">使用String的一个弊端</font><blockquote><p> string s=”a”; //创建了一个字符串<br> s=s+”b”; //实际上原来的”a”字符串对象已经丢弃了, 现在又产生了一个字符串s+”b”(也就是”ab”).如果多次执行这些改变串内容的操作, 会导致大量副本字符串对象存留在内存中, 降低效率. 如果这样的操作放到循环中, 会极大影响程序的性能.</p></blockquote><h2 id="7-String、StringBuffer、StringBuilder性能比较"><a href="#7-String、StringBuffer、StringBuilder性能比较" class="headerlink" title="7.String、StringBuffer、StringBuilder性能比较"></a>7.String、StringBuffer、StringBuilder性能比较</h2><div><div class="fold_hider"><div class="close hider_title">点击显/隐内容</div></div><div class="fold"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line">String text = <span class="string">""</span>;</span><br><span class="line">    <span class="keyword">long</span> startTime = <span class="number">0L</span>;</span><br><span class="line">    <span class="keyword">long</span> endTime = <span class="number">0L</span>;</span><br><span class="line">    StringBuffer buffer = <span class="keyword">new</span> StringBuffer(<span class="string">""</span>);</span><br><span class="line">    StringBuilder builder = <span class="keyword">new</span> StringBuilder(<span class="string">""</span>);</span><br><span class="line">    startTime = System.currentTimeMillis();</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i&lt;<span class="number">20000</span>;i++)&#123;</span><br><span class="line">    buffer.append(String.valueOf(i));</span><br><span class="line">    &#125;</span><br><span class="line">    endTime = System.currentTimeMillis();</span><br><span class="line">    System.out.println(<span class="string">"StringBuffer的执行时间："</span>+(endTime-startTime));</span><br><span class="line">    </span><br><span class="line">    startTime = System.currentTimeMillis();</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i&lt;<span class="number">20000</span>;i++)&#123;</span><br><span class="line">    builder.append(String.valueOf(i));</span><br><span class="line">    &#125;</span><br><span class="line">    endTime = System.currentTimeMillis();</span><br><span class="line">    System.out.println(<span class="string">"StringBuilder的执行时间："</span>+(endTime-startTime));</span><br><span class="line">    </span><br><span class="line">    startTime = System.currentTimeMillis();</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i&lt;<span class="number">20000</span>;i++)&#123;</span><br><span class="line">    text = text + i;</span><br><span class="line">    &#125;</span><br><span class="line">    endTime = System.currentTimeMillis();</span><br><span class="line">    System.out.println(<span class="string">"String的执行时间："</span>+(endTime-startTime));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></div><h1 id="二-时间相关类"><a href="#二-时间相关类" class="headerlink" title="二.时间相关类"></a>二.时间相关类</h1><h2 id="1-System类"><a href="#1-System类" class="headerlink" title="1.System类"></a>1.System类</h2><p>currentTimeMillis(): 返回当前时间的long型值. 此long值是从1970年1月1日0点0分00秒开始到当前的毫秒数.此方法常用来计算时间差</p><p>计算世界时间的主要标准:</p><ul><li>UTC(Universal Time Coordinated)</li><li>GMT(Greenwich Mean Time)—格林威治时间</li><li>CST(Central Standard Time)—标准时间(四个国家)</li></ul><h2 id="2-Date类"><a href="#2-Date类" class="headerlink" title="2.Date类"></a>2.Date类</h2><p>有两个: java.util.Date类及它的子类 java.sql.Date<br>表示特定的瞬间, 精确到毫秒</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Date;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testDate</span><span class="params">()</span></span>&#123;</span><br><span class="line">Date date = <span class="keyword">new</span> Date();<span class="comment">//两个构造方法, 无参和long型参数</span></span><br><span class="line">System.out.println(date);</span><br><span class="line">System.out.println(System.currentTimeMillis());</span><br><span class="line">System.out.println(date.getTime());</span><br><span class="line">System.out.println(date.toString());</span><br><span class="line">    </span><br><span class="line">    java.sql.Date d = <span class="keyword">new</span> java.sql.Date(date.getTime());</span><br><span class="line">    System.out.println(d);<span class="comment">//格式:year-month-day</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Date类的API不易于国际化, 大部分方法被废弃了, java.text.SimpleDateFormat类是一个不与语言环境有关的方式来格式化和解析日期的具体类.</p><h2 id="3-SimpleDateFormat类"><a href="#3-SimpleDateFormat类" class="headerlink" title="3.SimpleDateFormat类"></a>3.SimpleDateFormat类</h2><ul><li>格式化: 日期 —&gt; 文本 使用SimpleDateFormat 的format()方法    </li><li>解析: 文本 —&gt; 日期 使用SimpleDateFormat的parse()方法</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line">    <span class="comment">//1.默认模式格式化</span></span><br><span class="line">    SimpleDateFormat sdf = <span class="keyword">new</span> SimpleDateFormat();</span><br><span class="line">    String date = sdf.format(<span class="keyword">new</span> Date());</span><br><span class="line">    System.out.println(date);<span class="comment">//19-3-26 下午4:50</span></span><br><span class="line">    <span class="comment">//2.自定义模式格式化</span></span><br><span class="line">    SimpleDateFormat sdf1 = <span class="keyword">new</span> SimpleDateFormat(<span class="string">"EEE, d MMM yyyy HH:mm:ss Z"</span>);</span><br><span class="line">    date = sdf1.format(<span class="keyword">new</span> Date());</span><br><span class="line">    System.out.println(date);<span class="comment">//星期二, 26 三月 2019 16:55:16 +0800</span></span><br><span class="line">    <span class="comment">//3.解析:</span></span><br><span class="line">    Date date1 = sdf.parse(<span class="string">"19-3-26 下午4:50"</span>);<span class="comment">//要和构造器的格式字符串对应</span></span><br><span class="line">    System.out.println(date1);</span><br><span class="line">    date1 = sdf1.parse(<span class="string">"星期二, 26 三月 2019 16:55:16 +0800"</span>);</span><br><span class="line"><span class="comment">//    date1 = sdf1.parse("19-3-26 下午4:50");//出异常</span></span><br><span class="line">    System.out.println(date1);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="4-Calendar类"><a href="#4-Calendar类" class="headerlink" title="4.Calendar类"></a>4.Calendar类</h2><p>Calendar是一个抽象基类, 主用用于完成日期字段之间相互操作的功能.</p><p>使用Calendar.getInstance()方法得到一个Calendar的实例, 一个Calendar的实例是系统时间的抽象表示</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//常用方法</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">get</span><span class="params">(<span class="keyword">int</span> field)</span></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">set</span><span class="params">(<span class="keyword">int</span> field,<span class="keyword">int</span> value)</span></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> field,<span class="keyword">int</span> amount)</span></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">final</span> Date <span class="title">getTime</span><span class="params">()</span></span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">void</span> <span class="title">setTime</span><span class="params">(Date date)</span></span></span><br></pre></td></tr></table></figure><h1 id="三-计算相关类"><a href="#三-计算相关类" class="headerlink" title="三.计算相关类"></a>三.计算相关类</h1><h2 id="1-Math类"><a href="#1-Math类" class="headerlink" title="1.Math类"></a>1.Math类</h2><p>java.lang.Math提供了一系列静态方法用于科学计算; 其方法的参数和返回值类型一般为double型.</p><blockquote><p>abs     绝对值<br>acos,asin,atan,cos,sin,tan  三角函数<br>sqrt     平方根<br>pow(double a,doble b)     a的b次幂<br>log    自然对数<br>exp    e为底指数<br>max(double a,double b)<br>min(double a,double b)<br>random()      返回0.0到1.0的随机数<br>long round(double a)     double型数据a转换为long型（四舍五入）<br>toDegrees(double angrad)     弧度—&gt;角度<br>toRadians(double angdeg)     角度—&gt;弧度</p></blockquote><h2 id="2-BigInteger类"><a href="#2-BigInteger类" class="headerlink" title="2.BigInteger类"></a>2.BigInteger类</h2><p>Integer类作为int的包装类. 能存储的最大整型值为2^31−1, BigInteger类的数字范围较Integer类的数字范围要大得多, 可以支持任意精度的整数.</p><blockquote><p>构造器<br>BigInteger(String val)<br>常用方法<br>public BigInteger abs()<br>public BigInteger add(BigInteger val)<br>public BigInteger subtract(BigInteger val)<br>public BigInteger multiply(BigInteger val)<br>public BigInteger divide(BigInteger val)<br>public BigInteger remainder(BigInteger val)<br>public BigInteger pow(int exponent)<br>public BigInteger[] divideAndRemainder(BigInteger val)</p></blockquote><h2 id="3-BigDecimal类"><a href="#3-BigDecimal类" class="headerlink" title="3.BigDecimal类"></a>3.BigDecimal类</h2><p>一般的Float类和Double类可以用来做科学计算或工程计算, 但在商业计算中, 要求数字精度比较高, 故用到java.math.BigDecimal类. BigDecimal类支持任何精度的定点数.</p><blockquote><p>构造器<br>public BigDecimal(double val)<br>public BigDecimal(String val)<br>常用方法<br>public BigDecimal add(BigDecimal augend)<br>public BigDecimal subtract(BigDecimal subtrahend)<br>public BigDecimal multiply(BigDecimal multiplicand)<br>public BigDecimal divide(BigDecimal divisor, int scale, int roundingMode)</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> JavaSE </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaSE </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Thread</title>
      <link href="/test/JaveSE-Thread.html"/>
      <url>/test/JaveSE-Thread.html</url>
      
        <content type="html"><![CDATA[<p><strong>Java多线程</strong></p><a id="more"></a><h1 id="一-基本概念"><a href="#一-基本概念" class="headerlink" title="一.基本概念"></a>一.基本概念</h1><ol><li>程序、进程、线程</li></ol><ul><li>程序(program)可以理解为静态的代码</li><li>进程(process)可以理解为执行中的程序</li><li>线程(thread)可以理解为进程的进一步细分, 程序的一条执行路径</li></ul><ol start="2"><li>何时需要多线程</li></ol><ul><li>程序需要同时执行两个或多个任务</li><li>程序需要实现一些等待的任务时, 如: 用户输入、文件读写、网络操作顿、搜索等</li><li>需要一些后台运行的任务时</li></ul><h1 id="二-创建多线程"><a href="#二-创建多线程" class="headerlink" title="二.创建多线程"></a>二.创建多线程</h1><p>通过java.lang.Thread类实现</p><h2 id="方式一-继承Thread类"><a href="#方式一-继承Thread类" class="headerlink" title="方式一:继承Thread类"></a>方式一:继承Thread类</h2><ol><li>继承Thread类,并重写run()方法,run()方法内实现此子线程想要实现的功能</li><li>在主线程内, 创建一个子线程的对象.</li><li>调用子线程的start()方法, 启动此线程; 调用相应线程的run()方法</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">PrintNum</span> <span class="keyword">extends</span> <span class="title">Thread</span></span>&#123;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="comment">//子线程要执行的代码</span></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>;i &lt;= <span class="number">100</span>;i++)&#123;</span><br><span class="line"><span class="keyword">if</span>(i % <span class="number">2</span> == <span class="number">0</span>)&#123;</span><br><span class="line">System.out.println(Thread.currentThread().getName() + <span class="string">":"</span> + i);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">PrintNum</span><span class="params">(String name)</span></span>&#123;</span><br><span class="line"><span class="keyword">super</span>(name);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestThread</span> </span>&#123;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">PrintNum p1 = <span class="keyword">new</span> PrintNum(<span class="string">"线程1"</span>);</span><br><span class="line">PrintNum p2 = <span class="keyword">new</span> PrintNum(<span class="string">"线程2"</span>);</span><br><span class="line">p1.setPriority(Thread.MAX_PRIORITY);<span class="comment">//10</span></span><br><span class="line">p2.setPriority(Thread.MIN_PRIORITY);<span class="comment">//1</span></span><br><span class="line">p1.start();<span class="comment">//start()会调用run()方法</span></span><br><span class="line">p2.start();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>注意: ①一个线程只能start()一次; ②不能用run()启动线程</p><p>Thread类的常用方法:</p><div><div class="fold_hider"><div class="close hider_title">点击显/隐内容</div></div><div class="fold"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* Thread类的常用方法:</span></span><br><span class="line"><span class="comment"> * 1.start():启动线程并调用相应的run()方法</span></span><br><span class="line"><span class="comment"> * 2.run():子线程要执行的代码</span></span><br><span class="line"><span class="comment"> * 3.currentThread():静态方法, 调取当前线程</span></span><br><span class="line"><span class="comment"> * 4.getName():获取此线程的名字</span></span><br><span class="line"><span class="comment"> * 5.setName():设置此线程的名字</span></span><br><span class="line"><span class="comment"> * 6.yield():调用此方法的线程强制释放当前CPU的执行权</span></span><br><span class="line"><span class="comment"> * 7.join():在A线程中调用B线程的join()方法.表示当A线程执行到此方法时,停止</span></span><br><span class="line"><span class="comment"> * 执行A线程,直到B线程执行完毕,A线程再接着B.join()之后的代码执行</span></span><br><span class="line"><span class="comment"> * 8.isAlive()判断此线程是否存活</span></span><br><span class="line"><span class="comment"> * 9.sleep(long time)显示的让当前线程睡眠time毫秒</span></span><br><span class="line"><span class="comment"> * 10.线程通信有关的: wait() notify() notifyAll()//在Object类中</span></span><br><span class="line"><span class="comment"> * 设置线程的优先级MAX_PRIORITY=10;NORM_PRIORITY=5;MIN_PRIORITY=1</span></span><br><span class="line"><span class="comment"> * 改变抢占CPU资源的概率</span></span><br><span class="line"><span class="comment"> * setPriority(int newPriority)</span></span><br><span class="line"><span class="comment"> * getPriority()</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure></div></div><font style="color:blue;font-size:1.5em;">例子: 三个售票窗口售卖100张票(一共100张)</font><p>继承Thread类的方式实现:</p><font style="color:red;font-weight:bold">注意: 此程序存在隐患(线程安全问题)</font><div><div class="fold_hider"><div class="close hider_title">点击显/隐内容</div></div><div class="fold"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//继承Thread类的方式实现</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Window</span> <span class="keyword">extends</span> <span class="title">Thread</span></span>&#123;</span><br><span class="line"><span class="keyword">static</span> <span class="keyword">int</span> ticket = <span class="number">100</span>;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">while</span>(<span class="keyword">true</span>) &#123;</span><br><span class="line"><span class="keyword">if</span>(ticket&gt;<span class="number">0</span>) &#123;<span class="comment">//开启注释放大错误</span></span><br><span class="line"><span class="comment">//try &#123;</span></span><br><span class="line"><span class="comment">//Thread.currentThread().sleep(10);//阻塞10ms</span></span><br><span class="line"><span class="comment">//&#125; catch (InterruptedException e) &#123;</span></span><br><span class="line"><span class="comment">//// TODO 自动生成的 catch 块</span></span><br><span class="line"><span class="comment">//e.printStackTrace();</span></span><br><span class="line"><span class="comment">//&#125;</span></span><br><span class="line">System.out.println(Thread.currentThread().getName() + <span class="string">"售票, 票号为:"</span>+ticket--);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestWindow</span> </span>&#123;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">Window w1 = <span class="keyword">new</span> Window();</span><br><span class="line">Window w2 = <span class="keyword">new</span> Window();</span><br><span class="line">Window w3 = <span class="keyword">new</span> Window();</span><br><span class="line">w1.setName(<span class="string">"窗口一:"</span>);</span><br><span class="line">w2.setName(<span class="string">"窗口二:"</span>);</span><br><span class="line">w3.setName(<span class="string">"窗口三:"</span>);</span><br><span class="line">w1.start();</span><br><span class="line">w2.start();</span><br><span class="line">w3.start();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></div><h2 id="方式二-实现Runnable接口"><a href="#方式二-实现Runnable接口" class="headerlink" title="方式二:实现Runnable接口"></a>方式二:实现Runnable接口</h2><ol><li>创建一个实现Runnable接口的类</li><li>实现接口的抽象run()方法</li><li>创建一个实现Runnable接口实现类的对象</li><li>将此对象作为形参传给Thread类的构造器, 创建Thread类的对象, 此对象即为一个线程</li><li>调用start()启动线程</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//1.创建一个实现Runnable接口的类</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SubThread</span> <span class="keyword">implements</span> <span class="title">Runnable</span></span>&#123;</span><br><span class="line">    <span class="comment">//2.实现接口的抽象run()方法</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="comment">//子线程执行的代码</span></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>;i &lt;= <span class="number">100</span>;i++)&#123;</span><br><span class="line"><span class="keyword">if</span>(i % <span class="number">2</span> == <span class="number">0</span>)&#123;</span><br><span class="line">System.out.println(Thread.currentThread().getName() + <span class="string">":"</span> + i);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestThread</span></span>&#123;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line">        <span class="comment">//3.创建一个实现Runnable接口实现类的对象</span></span><br><span class="line">SubThread s = <span class="keyword">new</span> SubThread();</span><br><span class="line">        <span class="comment">//想要启动一个线程必须调用start()方法</span></span><br><span class="line">        <span class="comment">//4.将此对象作为形参传给Thread类的构造器, 创建Thread类的对象, 此对象即为一个线程</span></span><br><span class="line">Thread t1 = <span class="keyword">new</span> Thread(s);</span><br><span class="line">Thread t2 = <span class="keyword">new</span> Thread(s);</span><br><span class="line">        <span class="comment">//5.调用start()启动线程</span></span><br><span class="line">t1.setName(<span class="string">"线程1"</span>);</span><br><span class="line">t2.setName(<span class="string">"线程2"</span>);</span><br><span class="line">t1.start();<span class="comment">//启动线程: 执行Thread对象生成时构造器形参的run()方法.</span></span><br><span class="line">t2.start();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>两种方式的对比: 联系：class Thread implements Runnable, 两种方式实际上都与Runnable接口发生了关系</p><h3 id="哪个比较好"><a href="#哪个比较好" class="headerlink" title="哪个比较好?"></a>哪个比较好?</h3><ul><li>实现的方式(方式二)较好: </li><li>①解决了单继承的局限性</li><li><font style="color:red;font-weight:bold;">②如果多个线程有共享数据的话, 建议使用实现方式, 同时, 共享数据所在的类可以作为Runnable接口的实现类.</font></li></ul><p>实现Runnable接口的方式实现(上述售票例题):</p><font style="color:red;font-weight:bold">注意: 此程序存在隐患(线程安全问题)</font><div><div class="fold_hider"><div class="close hider_title">点击显/隐内容</div></div><div class="fold"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//有共享数据的问题(一共100张票)</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Window1</span> <span class="keyword">implements</span> <span class="title">Runnable</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> ticket = <span class="number">100</span>;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="keyword">while</span>(<span class="keyword">true</span>) &#123;</span><br><span class="line"><span class="keyword">if</span>(ticket&gt;<span class="number">0</span>) &#123;<span class="comment">//开启注释放大错误</span></span><br><span class="line"><span class="comment">//try &#123;</span></span><br><span class="line"><span class="comment">//Thread.currentThread().sleep(10);//阻塞10ms</span></span><br><span class="line"><span class="comment">//&#125; catch (InterruptedException e) &#123;</span></span><br><span class="line"><span class="comment">//// TODO 自动生成的 catch 块</span></span><br><span class="line"><span class="comment">//e.printStackTrace();</span></span><br><span class="line"><span class="comment">//&#125;</span></span><br><span class="line">System.out.println(Thread.currentThread().getName() + <span class="string">"售票, 票号为:"</span>+ticket--);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestThread</span></span>&#123;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line">Window1 w = <span class="keyword">new</span> Window1();</span><br><span class="line">Thread t1 = <span class="keyword">new</span> Thread(w);</span><br><span class="line">Thread t2 = <span class="keyword">new</span> Thread(w);</span><br><span class="line">        Thread t3 = <span class="keyword">new</span> Thread(w);</span><br><span class="line">        </span><br><span class="line">t1.setName(<span class="string">"窗口1"</span>);</span><br><span class="line">t2.setName(<span class="string">"窗口2"</span>);</span><br><span class="line">        t3.setName(<span class="string">"窗口3"</span>);</span><br><span class="line">t1.start();</span><br><span class="line">t2.start();</span><br><span class="line">        t3.start();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></div><h1 id="三-Java的多线程"><a href="#三-Java的多线程" class="headerlink" title="三.Java的多线程"></a>三.Java的多线程</h1><h2 id="1-多线程的优点"><a href="#1-多线程的优点" class="headerlink" title="1.多线程的优点"></a>1.多线程的优点</h2><ul><li>提高应用程序的响应</li><li>提高计算机系统的CPU利用率</li><li>改善程序接口</li></ul><h2 id="2-Java线程的分类"><a href="#2-Java线程的分类" class="headerlink" title="2.Java线程的分类"></a>2.Java线程的分类</h2><ul><li>守护线程VS用户线程</li><li>若JVM中都是守护线程, 当前JVM将退出</li></ul><h2 id="3-线程的生命周期"><a href="#3-线程的生命周期" class="headerlink" title="3.线程的生命周期"></a>3.线程的生命周期</h2><p>新建、就绪、运行、阻塞、死亡</p><p><img src="imgs\Java\线程的生命周期.png" alt="线程的生命周期"></p><h1 id="四-线程同步"><a href="#四-线程同步" class="headerlink" title="四.线程同步"></a>四.线程同步</h1><p>上述售票的例子:</p><p>程序存在线程安全问题: 打印车票时, 会出现重票、错票</p><ol><li>线程安全问题存在的原因?</li></ol><p>由于一个线程在操作共享数据的过程中, 未执行完的情况下, 另外一个线程参与进来, 导致共享数据存在了安全问题.</p><ol start="2"><li>如何解决该问题?</li></ol><p>必须让一个线程操作共享数据完毕以后, 其他线程才有机会进入参与共享数据的操作.</p><ol start="3"><li>Java如何实现线程的安全: 线程的同步机制</li></ol><h2 id="方式一-同步代码块"><a href="#方式一-同步代码块" class="headerlink" title="方式一: 同步代码块:"></a>方式一: 同步代码块:</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">synchronized</span>(同步监视器)&#123;</span><br><span class="line"><span class="comment">//操作共享数据的代码</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>①同步监视器: 俗称锁, 任何一个类的对象都可以才充当锁. 要想保证线程的安全, 必须要求所有的线程共用同一把锁!<br>②共享数据: 多个线程需要共同操作的变量. 明确哪部分是操作共享数据的代码.</p><p>③使用实现Runnable接口的方式创建多线程的话, 同步代码块中的锁, 可以考虑是this. 如果使用继承Thread类的方式, <strong>慎用this!</strong></p><p>修改原来的售票代码:</p><div><div class="fold_hider"><div class="close hider_title">点击显/隐内容</div></div><div class="fold"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//有共享数据的问题(一共100张票)</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Window1</span> <span class="keyword">implements</span> <span class="title">Runnable</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> ticket = <span class="number">100</span>;</span><br><span class="line">Object obj = <span class="keyword">new</span> Object();</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">while</span>(<span class="keyword">true</span>) &#123;</span><br><span class="line"><span class="keyword">synchronized</span> (<span class="keyword">this</span>) &#123;<span class="comment">//同步锁可以由任何对象充当, 但是同步的线程要共用一把锁</span></span><br><span class="line">                <span class="comment">//this表示当前对象, 本程序中为w对象, this可以改为obj</span></span><br><span class="line">                <span class="comment">//具体问题具体分析, 有时候不能用this ,用继承Thread方式实现的多线程不能用this</span></span><br><span class="line"><span class="keyword">if</span>(ticket&gt;<span class="number">0</span>) &#123;</span><br><span class="line">System.out.println(Thread.currentThread().getName() + <span class="string">"售票, 票号为:"</span>+ticket--);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestThread</span></span>&#123;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line">Window1 w = <span class="keyword">new</span> Window1();</span><br><span class="line">Thread t1 = <span class="keyword">new</span> Thread(w);</span><br><span class="line">Thread t2 = <span class="keyword">new</span> Thread(w);</span><br><span class="line">        Thread t3 = <span class="keyword">new</span> Thread(w);</span><br><span class="line">t1.setName(<span class="string">"窗口1"</span>);</span><br><span class="line">t2.setName(<span class="string">"窗口2"</span>);</span><br><span class="line">        t3.setName(<span class="string">"窗口3"</span>);</span><br><span class="line">t1.start();</span><br><span class="line">t2.start();</span><br><span class="line">        t3.start();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></div><h2 id="方式二-同步方法"><a href="#方式二-同步方法" class="headerlink" title="方式二: 同步方法:"></a>方式二: 同步方法:</h2><ul><li>将需要共享的数据的操作放到一个方法里, 并给该方法添加 synchronized 修饰</li><li>同步方法也有锁, 即为当前对象 this</li><li><font style="color:red;font-weight:bold;">如果使用在继承的方式实现多线程的话, 慎用同步方法!因为它们的this锁不一样</font></li></ul><div><div class="fold_hider"><div class="close hider_title">点击显/隐内容</div></div><div class="fold"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//这个类是用实现Runnable接口实现的多线程</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Window</span> <span class="keyword">implements</span> <span class="title">Runnable</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> ticket = <span class="number">100</span>;</span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">while</span>(<span class="keyword">true</span>) &#123;</span><br><span class="line"><span class="keyword">this</span>.show();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title">show</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">if</span>(ticket&gt;<span class="number">0</span>) &#123;</span><br><span class="line">System.out.println(Thread.currentThread().getName() + <span class="string">"售票, 票号为:"</span>+ticket--);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></div><h2 id="懒汉式单例模式的线程安全"><a href="#懒汉式单例模式的线程安全" class="headerlink" title="懒汉式单例模式的线程安全"></a>懒汉式单例模式的线程安全</h2><ul><li>使用线程同步机制解决问题</li><li>对于一般的方法内, 使用同步代码块的方式, 可以考虑用this当锁</li><li>对于静态方法而言, 使用当前类本身充当锁</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//懒汉式</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Singleton</span></span>&#123;</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="title">Singleton</span><span class="params">()</span></span>&#123;&#125;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> Singleton instance = <span class="keyword">null</span>;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Singleton <span class="title">getInstance</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(instance == <span class="keyword">null</span>)&#123;<span class="comment">//提高效率</span></span><br><span class="line">            <span class="keyword">synchronized</span>(Singleton.class)&#123;<span class="comment">//后面会说, Singleton.class对象</span></span><br><span class="line">            <span class="keyword">if</span>(instance == <span class="keyword">null</span>)&#123;</span><br><span class="line">instance = <span class="keyword">new</span> Singleton();</span><br><span class="line">        &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        &#125;</span><br><span class="line"><span class="keyword">return</span> instance;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><font style="color:red;font-size:1.5em;">线程同步的弊端: 由于同一时间只能有一个线程访问共享数据, 效率变低了</font><h2 id="何时释放锁"><a href="#何时释放锁" class="headerlink" title="何时释放锁?"></a>何时释放锁?</h2><ol><li>当前线程的同步方法、同步代码块执行结束时</li><li>当前线程的同步方法、同步代码块中出现了未处理的Error或Exception, 导致异常结束</li><li>当前线程的同步方法、同步代码块中执行了线程对象的wait()方法, 当前线程暂停并释放锁</li></ol><h2 id="线程的死锁"><a href="#线程的死锁" class="headerlink" title="线程的死锁:"></a>线程的死锁:</h2><p>不同的线程分别占用对方需要的同步资源不放弃, 都在等待对方放弃自己需要的同步资源, 就形成了线程的死锁.<br>死锁是我们在使用同步时, 需要避免的问题!</p><h1 id="线程的通信"><a href="#线程的通信" class="headerlink" title="线程的通信"></a>线程的通信</h1><p>涉及到三个方法 wait() notify() notifyAll() 在java.lang.Object类中</p><ul><li>wait(): 令当前线程挂起, 放弃CPU、同步资源……</li><li>notify(): 唤醒正在排队等待同步资源的线程中优先级最高的线程</li><li>notifyAll(): 唤醒正在排队等待同步资源的所有线程</li></ul><p>注意: <font style="color:red;font-weight:bold;">这三个方法只能在同步方法或同步代码块中使用, 否则会报异常</font></p><p>例, 用两个线程交替打印1-100:</p><div><div class="fold_hider"><div class="close hider_title">点击显/隐内容</div></div><div class="fold"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">PrintNum</span> <span class="keyword">implements</span> <span class="title">Runnable</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> num = <span class="number">1</span>;</span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">while</span>(<span class="keyword">true</span>) &#123;</span><br><span class="line"><span class="keyword">synchronized</span>(<span class="keyword">this</span>) &#123;</span><br><span class="line">notify();</span><br><span class="line"><span class="keyword">if</span>(num&lt;<span class="number">100</span>) &#123;</span><br><span class="line">System.out.println(Thread.currentThread().getName() + <span class="string">":"</span> + num);</span><br><span class="line">num++;</span><br><span class="line">&#125;<span class="keyword">else</span> <span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">wait();</span><br><span class="line">&#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line"><span class="comment">// TODO 自动生成的 catch 块</span></span><br><span class="line">e.printStackTrace();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestCommunication</span> </span>&#123;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">PrintNum p = <span class="keyword">new</span> PrintNum();</span><br><span class="line">Thread t1 = <span class="keyword">new</span> Thread(p);</span><br><span class="line">Thread t2 = <span class="keyword">new</span> Thread(p);</span><br><span class="line">t1.setName(<span class="string">"甲"</span>);</span><br><span class="line">t2.setName(<span class="string">"乙"</span>);</span><br><span class="line">t1.start();</span><br><span class="line">t2.start();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></div><h2 id="经典例题-生产者-消费者问题"><a href="#经典例题-生产者-消费者问题" class="headerlink" title="经典例题: 生产者/消费者问题"></a>经典例题: 生产者/消费者问题</h2><div><div class="fold_hider"><div class="close hider_title">点击显/隐内容</div></div><div class="fold"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * 生产者(Productor)将产品交给店员(Clerk)，而消费者(Customer)从店员处取走产品，</span></span><br><span class="line"><span class="comment"> * 店员一次只能持有固定数量的产品(比如:20），如果生产者试图生产更多的产品，店员会叫</span></span><br><span class="line"><span class="comment"> * 生产者停一下，如果店中有空位放产品了再通知生产者继续生产；如果店中没有产品了，店员</span></span><br><span class="line"><span class="comment"> * 会告诉消费者等一下，如果店中有产品了再通知消费者来取走产品。</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Producer</span> <span class="keyword">implements</span> <span class="title">Runnable</span> </span>&#123;</span><br><span class="line">Clerk clerk;</span><br><span class="line">Producer(Clerk clerk) &#123;</span><br><span class="line"><span class="keyword">this</span>.clerk = clerk;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">System.out.println(<span class="string">"生产者开始生产产品"</span>);</span><br><span class="line"><span class="keyword">while</span> (<span class="keyword">true</span>) &#123;</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">Thread.currentThread().sleep(<span class="number">100</span>);</span><br><span class="line">&#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line"><span class="comment">// TODO 自动生成的 catch 块</span></span><br><span class="line">e.printStackTrace();</span><br><span class="line">&#125;</span><br><span class="line">clerk.addProduct();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Consumer</span> <span class="keyword">implements</span> <span class="title">Runnable</span> </span>&#123;</span><br><span class="line">Clerk clerk;</span><br><span class="line">Consumer(Clerk clerk) &#123;</span><br><span class="line"><span class="keyword">this</span>.clerk = clerk;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">System.out.println(<span class="string">"消费者开始消费产品"</span>);</span><br><span class="line"><span class="keyword">while</span> (<span class="keyword">true</span>) &#123;</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">Thread.currentThread().sleep(<span class="number">100</span>);</span><br><span class="line">&#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line"><span class="comment">// TODO 自动生成的 catch 块</span></span><br><span class="line">e.printStackTrace();</span><br><span class="line">&#125;</span><br><span class="line">clerk.subProduct();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Clerk</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> product;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title">addProduct</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">if</span> (product &gt;= <span class="number">20</span>) &#123;</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">wait();</span><br><span class="line">&#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line"><span class="comment">// TODO 自动生成的 catch 块</span></span><br><span class="line">e.printStackTrace();</span><br><span class="line">&#125;</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">product++;</span><br><span class="line">notifyAll();</span><br><span class="line">System.out.println(Thread.currentThread().getName() + <span class="string">"生产了第"</span> + <span class="keyword">this</span>.product + <span class="string">"个产品"</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title">subProduct</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">if</span> (product &gt; <span class="number">0</span>) &#123;</span><br><span class="line">System.out.println(Thread.currentThread().getName() + <span class="string">"消费了第"</span> + <span class="keyword">this</span>.product + <span class="string">"个产品"</span>);</span><br><span class="line">product--;</span><br><span class="line">notifyAll();</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">wait();</span><br><span class="line">&#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line"><span class="comment">// TODO 自动生成的 catch 块</span></span><br><span class="line">e.printStackTrace();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">Clerk clerk = <span class="keyword">new</span> Clerk();</span><br><span class="line">Producer p1 = <span class="keyword">new</span> Producer(clerk);</span><br><span class="line">Consumer c1 = <span class="keyword">new</span> Consumer(clerk);</span><br><span class="line">Thread t1 = <span class="keyword">new</span> Thread(c1);</span><br><span class="line">Thread t2 = <span class="keyword">new</span> Thread(p1);</span><br><span class="line">Thread t3 = <span class="keyword">new</span> Thread(p1);</span><br><span class="line">t1.setName(<span class="string">"消费者1"</span>);</span><br><span class="line">t2.setName(<span class="string">"生产者1"</span>);</span><br><span class="line">t3.setName(<span class="string">"生产者2"</span>);</span><br><span class="line">t2.start();</span><br><span class="line">t1.start();</span><br><span class="line">t3.start();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></div>]]></content>
      
      
      <categories>
          
          <category> JavaSE </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaSE </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>面向对象总结</title>
      <link href="/test/JavaSEOOP.html"/>
      <url>/test/JavaSEOOP.html</url>
      
        <content type="html"><![CDATA[<p>面向对象的三条主线:<br>1.类及类的成分<br>2.面向对象的三大特性<br>3.其他的关键字: this super import package abstract static final interface等</p><a id="more"></a><h1 id="一-专注类的设计"><a href="#一-专注类的设计" class="headerlink" title="一.专注类的设计"></a>一.专注类的设计</h1><p>类从代码的角度: 并列关系! 从执行、设计的角度: 关联关系、继承关系、聚合关系</p><h2 id="1-类的成分"><a href="#1-类的成分" class="headerlink" title="1.类的成分"></a>1.类的成分</h2><p>属性 方法 构造器 代码块 内部类</p><ol><li><h3 id="属性"><a href="#属性" class="headerlink" title="属性:"></a>属性:</h3><ul><li>①变量的分类: 成员变量(属性 Field) vs 局部变量(方法的形参、方法内部、代码块内部)<br>基本数据类型(8种, 不同的数据类型对应不同的默认初始化值) vs 引用数据类型(数组、类、接口默认初始化值为null)</li><li>②属性的声明格式: 修饰符  数据类型  变量名 = 初始化值; //java是强数据类型的语言</li><li>③对属性的赋值的操作: A.默认初始化 B.显式的初始化 C.代码块的初始化 D.构造器的初始化 E.调用方法、属性进行赋值</li></ul></li><li><h3 id="方法"><a href="#方法" class="headerlink" title="方法:"></a>方法:</h3><ul><li>①格式: 修饰符 (其它的关键字: static/final/abstract)返回值类型 方法名 (形参列表){//方法体 }</li><li>②方法的重载(overload) vs 方法的重写(override overwrite)</li><li>③方法的参数传递机制: 值传递</li></ul></li><li><h3 id="构造器"><a href="#构造器" class="headerlink" title="构造器:"></a>构造器:</h3><ul><li>①构造器的作用: A.创建类的对象 B.初始化对象的成员变量</li><li>②构造器也是可以重载的.</li></ul></li><li><h3 id="代码块"><a href="#代码块" class="headerlink" title="代码块:"></a>代码块:</h3><ul><li>主要作用: 用来初始化类的成员变量</li><li>分类: 静态的代码块 vs 非静态的代码块</li></ul></li><li><h3 id="内部类"><a href="#内部类" class="headerlink" title="内部类:"></a>内部类:</h3><ul><li>①分类: 成员内部类(static的成员 vs 非static的成员) vs 局部内部类(方法内部声明的类)</li><li>②掌握: A.如何创建成员内部类的对象 B.如何区分调用外部类、内部类的变量(尤其是变量重名时) C.局部内部类的使用</li></ul></li></ol><h2 id="2-类的初始化"><a href="#2-类的初始化" class="headerlink" title="2.类的初始化"></a>2.类的初始化</h2><ol><li>如何创建类的对象. 如: Person p = new Person(); Date d = new Date();</li><li>内存解析:<ul><li>栈: 局部变量、对象的引用名、数组的引用名</li><li>堆: new 出来的“东西”</li><li>方法区: (字符串常量池)</li><li>静态域: 存放类中静态的变量</li><li>理解创建的对象在内存中加载的过程</li></ul></li></ol><h1 id="二-面向对象的三大特性"><a href="#二-面向对象的三大特性" class="headerlink" title="二.面向对象的三大特性"></a>二.面向对象的三大特性</h1><h2 id="1-封装性"><a href="#1-封装性" class="headerlink" title="1.封装性"></a>1.封装性</h2><ul><li>① 通过私有化类的成员变量, 通过公共的getter和setter方法来调用和修改</li><li>② 还可以对类的其他结构进行“封装”</li><li>③ 权限修饰符: public protected 缺省 private</li></ul><h2 id="2-继承性"><a href="#2-继承性" class="headerlink" title="2.继承性"></a>2.继承性</h2><p>通过让一个类A继承另一个类B, 就可以获取类B中的结构(主要的: 属性、方法、构造器). 子类: 类A; 父类: 类B</p><p>java中的类的继承性: 单继承的</p><h2 id="3-多态性"><a href="#3-多态性" class="headerlink" title="3.多态性"></a>3.多态性</h2><ul><li>①体现: 方法的重载与重写; 子类对象的多态性 Person p = new Student();</li><li>②子类对象多态性的使用: 虚拟方法调用.</li><li>③向上转型 向下转型 Student s = (Student)p; //建议在向下转型之前: if(p instanceof Student)避免出现ClassCastException的异常</li></ul><h1 id="三-其他关键字"><a href="#三-其他关键字" class="headerlink" title="三.其他关键字"></a>三.其他关键字</h1><ol><li>this: 修饰属性、方法、构造器. 表示: 当前对象或当前正在创建的对象</li><li>super: 修饰属性、方法、构造器. 显式的调用父类的相应的结构, 尤其是子父类有重名的方法、属性</li><li>static: 修饰属性、方法、代码块、内部类. 随着类的加载而加载!</li><li>final: 修饰类、属性、方法. 表示“最终的”</li><li>abstract: 修饰类、方法</li><li>interface: 表示是一个接口, (接口是与类并列的一个结构). 类与接口之间同时“implements”发生关系.</li><li>package import ……</li></ol><font style="color:red;font-weight:bold;">abstract不能修饰属性、构造器、不能与final static private共用.</font>]]></content>
      
      
      <categories>
          
          <category> JavaSE </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaSE </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>面向对象3.2</title>
      <link href="/test/JavaSE5-2.html"/>
      <url>/test/JavaSE5-2.html</url>
      
        <content type="html"><![CDATA[<p>abstract<br>interface<br>内部类<br><a id="more"></a></p><h1 id="一-abstract"><a href="#一-abstract" class="headerlink" title="一.abstract"></a>一.abstract</h1><p>abstract: 抽象的, 可以用来修饰类、方法</p><ol><li>abstract修饰类: 抽象类<ul><li>不可被实例化</li><li>抽象类有构造器 (凡是类都有构造器)</li><li>抽象方法所在的类, 一定是抽象类.</li><li>抽象类中可以没有抽象方法.</li></ul></li><li>abstract修饰方法: 抽象方法<ul><li>格式: 没有方法体和{}.如: public abstract void eat();</li><li>抽象方法只保留方法的功能, 而具体的执行, 交给继承抽象类的子类, 由子类重写此抽象方法.</li><li>若子类继承抽象类, 并重写了所有的抽象方法, 则此类是一个”实体类”, 即可以实例化</li><li>若子类继承抽象类, 没有重写所有的抽象方法, 意味着此类中仍有抽象方法, 则此类必须声明为抽象的!</li></ul></li></ol><font style="color:red;font-weight:bold;">abstract不能用来修饰属性、构造器、private、final、static</font><h3 id="A-模板方法设计模式"><a href="#A-模板方法设计模式" class="headerlink" title="A.模板方法设计模式"></a>A.模板方法设计模式</h3><p>功能的内部一部分实现是确定的, 一部分实现是不确定的, 可以将不确定的暴露出去让子类去实现它</p><div><div class="fold_hider"><div class="close hider_title">点击显/隐内容</div></div><div class="fold"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//模板方法设计模式</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestTemplate</span> </span>&#123;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"><span class="keyword">new</span> SubTemplate().spendTime();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">Template</span> </span>&#123;</span><br><span class="line">    <span class="comment">//此部分功能不确定: 具体要执行什么代码</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">code</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="comment">//此部分功能确定: 计算执行code()方法的时间</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">spendTime</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">long</span> start = System.currentTimeMillis();</span><br><span class="line"><span class="keyword">this</span>.code();</span><br><span class="line"><span class="keyword">long</span> end = System.currentTimeMillis();</span><br><span class="line">System.out.println(<span class="string">"花费的时间为："</span> + (end - start));</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SubTemplate</span> <span class="keyword">extends</span> <span class="title">Template</span> </span>&#123;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">code</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">boolean</span> flag = <span class="keyword">false</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">2</span>;i &lt;= <span class="number">10000</span>;i++)&#123;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">2</span>;j &lt;= Math.sqrt(i);j++)&#123;</span><br><span class="line"><span class="keyword">if</span>(i % j == <span class="number">0</span>)&#123;</span><br><span class="line">flag = <span class="keyword">true</span>;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(!flag)&#123;</span><br><span class="line">System.out.println(i);</span><br><span class="line">&#125;</span><br><span class="line">flag = <span class="keyword">false</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></div><h1 id="二-interface"><a href="#二-interface" class="headerlink" title="二.interface"></a>二.interface</h1><p>接口(interface)是与类并行的一个概念</p><ol><li>接口可以看做是一个特殊的抽象类, 是<font style="color:red;font-weight:bold;">常量与抽象方法的一个集合</font>, 不能包含变量、一般的方法.<ul><li><font style="color:red;font-weight:bold;">常量默认有 public static final修饰, 方法默认有 public abstract修饰</font></li></ul></li><li>接口是没有构造器的.</li><li>接口定义的就是一种功能. 此功能可以被类所实现(implements).<ul><li>比如: class CC extends DD implements AA</li></ul></li><li>实现接口的类, 必须要重写其中的所有的抽象方法, 方可实例化. 若没有重写所有的抽象方法, 则此类仍为一个抽象类</li><li>一个类可以实现多个接口.—-java 中的类的继承是单继承的</li><li>接口与接口之间也是继承的关系, 而且可以实现多继承</li><li>接口与具体的实现类之间也存在多态性</li><li>面向接口编程的思想:</li></ol><h3 id="A-工厂方法的设计模式"><a href="#A-工厂方法的设计模式" class="headerlink" title="A.工厂方法的设计模式"></a>A.工厂方法的设计模式</h3><p>定义一个用户创建对象的接口, 让子类决定实例化哪一个类. 工厂方法使一个类的实例化延迟到其子类.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//接口的应用: 工厂方法的设计模式</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestFactoryMethod</span> </span>&#123;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">IWorkFactory i = <span class="keyword">new</span> StudentWorkFactory();</span><br><span class="line">i.getWork().doWork();</span><br><span class="line">IWorkFactory i1 = <span class="keyword">new</span> TeacherWorkFactory();</span><br><span class="line">i1.getWork().doWork();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//工厂接口</span></span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">IWorkFactory</span></span>&#123;</span><br><span class="line"><span class="function">Work <span class="title">getWork</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//创建学生工作的工厂</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">StudentWorkFactory</span> <span class="keyword">implements</span> <span class="title">IWorkFactory</span></span>&#123;</span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> Work <span class="title">getWork</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">new</span> StudentWork();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//创建老师工作的工厂</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TeacherWorkFactory</span> <span class="keyword">implements</span> <span class="title">IWorkFactory</span></span>&#123;</span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> Work <span class="title">getWork</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">new</span> TeacherWork();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">Work</span></span>&#123;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">doWork</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">StudentWork</span> <span class="keyword">implements</span> <span class="title">Work</span></span>&#123;</span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">doWork</span><span class="params">()</span> </span>&#123;</span><br><span class="line">System.out.println(<span class="string">"学生写作业"</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TeacherWork</span> <span class="keyword">implements</span> <span class="title">Work</span></span>&#123;</span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">doWork</span><span class="params">()</span> </span>&#123;</span><br><span class="line">System.out.println(<span class="string">"老师批改作业"</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="B-代理模式"><a href="#B-代理模式" class="headerlink" title="B.代理模式"></a>B.代理模式</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//接口的应用: 代理模式(静态代理), 后面会有动态代理</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestProxy</span> </span>&#123;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">Object obj = <span class="keyword">new</span> ProxyObject();</span><br><span class="line">obj.action();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">Object</span></span>&#123;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">action</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//代理类</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ProxyObject</span> <span class="keyword">implements</span> <span class="title">Object</span></span>&#123;</span><br><span class="line">Object obj;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">ProxyObject</span><span class="params">()</span></span>&#123;</span><br><span class="line">System.out.println(<span class="string">"代理类创建成功"</span>);</span><br><span class="line">obj = <span class="keyword">new</span> ObjctImpl();</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">action</span><span class="params">()</span></span>&#123;</span><br><span class="line">System.out.println(<span class="string">"代理类开始执行"</span>);</span><br><span class="line">obj.action();</span><br><span class="line">System.out.println(<span class="string">"代理类执行结束"</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//被代理类</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ObjctImpl</span> <span class="keyword">implements</span> <span class="title">Object</span></span>&#123;</span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">action</span><span class="params">()</span> </span>&#123;</span><br><span class="line">System.out.println(<span class="string">"=====被代理类开始执行======"</span>);</span><br><span class="line">System.out.println(<span class="string">"=====具体的操作======"</span>);</span><br><span class="line">System.out.println(<span class="string">"=====被代理类执行完毕======"</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><font style="color:red;font-weight:bold;">了解就好, 你可以将这两种设计模式当成算法记下来</font><h1 id="三-内部类"><a href="#三-内部类" class="headerlink" title="三.内部类"></a>三.内部类</h1><p>类的第5个成员: 内部类(inner class) 例: Thread类内的State枚举类</p><ol><li>相当于说, 我们可以在类的内部再定义类. 外面的类: 外部类. 定义在类内的类: 内部类</li><li>内部类的分类: <strong>成员内部类</strong>(声明在类内部且方法外的) vs <strong>局部内部类</strong>(声明在类的方法里)</li><li>成员内部类:<ul><li>是外部类的一个成员: ①可以有修饰符(4个) ②static final ③可以调用外部类的属性、方法</li><li>具体类的特点: ①abstract ②还可以在其内部定义属性、方法、构造器</li></ul></li><li>局部内部类(知道有就好)</li><li>关于内部类, 掌握三点:<ul><li>①如何创建成员内部类的对象(如: 创建Bird类和Dog类的对象)</li><li>②如何区分调用外部类、内部类的变量(尤其是变量重名时)</li><li>③局部内部类的使用</li></ul></li></ol><h3 id="A-成员内部类"><a href="#A-成员内部类" class="headerlink" title="A.成员内部类:"></a>A.成员内部类:</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestInnerClass</span> </span>&#123;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"><span class="comment">//创建静态内部类的对象: 可以直接通过外部类调用静态内部类的构造器</span></span><br><span class="line">Person.Dog d = <span class="keyword">new</span> Person.Dog();<span class="comment">//区别Person.new Dog();</span></span><br><span class="line"><span class="comment">//Person.Bird b = new Person.Bird();</span></span><br><span class="line"><span class="comment">//创建非静态的内部类的对象: 必须先创建外部类的对象, 通过外部类的对象调用内部类的构造器</span></span><br><span class="line">Person p = <span class="keyword">new</span> Person();</span><br><span class="line">Person.Bird b = p.new Bird();</span><br><span class="line">b.info();</span><br><span class="line">b.setName(<span class="string">"杜鹃"</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span></span>&#123;</span><br><span class="line">String name = <span class="string">"小明"</span>;</span><br><span class="line"><span class="keyword">int</span> age;</span><br><span class="line"><span class="comment">//成员内部类(非static的)</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Bird</span></span>&#123;</span><br><span class="line">String name = <span class="string">"黄鹂"</span>;</span><br><span class="line"><span class="keyword">int</span> id;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">Bird</span><span class="params">()</span></span>&#123;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span></span>&#123;<span class="comment">//假设传过来的参数为"杜鹃"</span></span><br><span class="line">System.out.println(name);<span class="comment">//杜鹃</span></span><br><span class="line">System.out.println(<span class="keyword">this</span>.name);<span class="comment">//黄鹂</span></span><br><span class="line">System.out.println(Person.<span class="keyword">this</span>.name);<span class="comment">//小明</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">info</span><span class="params">()</span></span>&#123;</span><br><span class="line">show();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//成员内部类(静态内部类)</span></span><br><span class="line"><span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">Dog</span></span>&#123;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">show</span><span class="params">()</span></span>&#123;</span><br><span class="line">System.out.println(<span class="string">"show()"</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">method1</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span></span>&#123;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="B-局部内部类"><a href="#B-局部内部类" class="headerlink" title="B.局部内部类:"></a>B.局部内部类:</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">OuterClass</span></span>&#123;</span><br><span class="line"><span class="comment">//局部内部类</span></span><br><span class="line"><span class="comment">//如下的使用方式较少</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">method1</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">InnnerClass</span></span>&#123;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//常常使用一个方法, 使其返回值为某个类或接口的对象. 而这个类或接口在方法内部创建</span></span><br><span class="line"><span class="comment">//使用方式一</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> Comparable <span class="title">getComparable</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="comment">//1.创建一个实现Comparable接口的类:局部内部类</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyComparable</span> <span class="keyword">implements</span> <span class="title">Comparable</span></span>&#123;</span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compareTo</span><span class="params">(java.lang.Object o)</span> </span>&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//2.返回一个实现类的对象</span></span><br><span class="line"><span class="keyword">return</span> <span class="keyword">new</span> MyComparable();</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//使用方式二</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> Comparable <span class="title">getComparable1</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="comment">//返回一个实现Comparable接口的匿名内部类的对象</span></span><br><span class="line"><span class="keyword">return</span> <span class="keyword">new</span> Comparable()&#123;</span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compareTo</span><span class="params">(java.lang.Object o)</span> </span>&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> JavaSE </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaSE </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>面向对象3.1</title>
      <link href="/test/JavaSE5-1.html"/>
      <url>/test/JavaSE5-1.html</url>
      
        <content type="html"><![CDATA[<p>static关键字<br>main()方法<br>代码块<br>final</p><a id="more"></a><h1 id="一-static"><a href="#一-static" class="headerlink" title="一.static"></a>一.static</h1><p>static: 静态的, 可以用来修饰<font style="color:red;font-weight:bold;">属性、方法、*代码块(或初始化块)、*内部类</font></p><h2 id="A-static修饰属性-类变量"><a href="#A-static修饰属性-类变量" class="headerlink" title="A.static修饰属性(类变量):"></a>A.static修饰属性(类变量):</h2><ol><li>由类创建的所有的对象，都共用这一个属性</li><li>当其中一个对象对此属性进行修改, 会导致其他对象对此属性调用时也会更改. vs 实例变量(非static修饰的属性, 各个对象各自拥有一套副本)</li><li>类变量随着类的加载而加载的, 而且独一份</li><li>静态的变量可以直接通过“类.类变量”的形式来调用</li><li>类变量的加载是要早于对象. 所以当有对象以后, 可以“对象.类变量”使用. 但是”类.实例变量”是不行的.</li><li>类变量存在于内存的静态域中.</li></ol><h2 id="B-static修饰方法-类方法"><a href="#B-static修饰方法-类方法" class="headerlink" title="B.static修饰方法(类方法):"></a>B.static修饰方法(类方法):</h2><ol><li>随着类的加载而加载, 在内存中也是独一份</li><li>可以直接通过“类.类方法”的方式调用</li><li><strong>方法内部可以调用静态的属性或静态的方法, 而不能调用非静态的属性或方法</strong>. 反之, 非静态的方法是可以调用静态的属性或静态的方法. <font style="color:red;font-weight:bold;">静态的方法内是不可以有this或super关键字的!</font></li></ol><font style="color:red;font-weight:bold;">注意: 静态的结构(static的属性、方法、代码块、内部类)的生命周期要早于非静态的结构，同时被回收也要晚于非静态的结构</font><p>示例, 静态属性及内存状态:</p><div><div class="fold_hider"><div class="close hider_title">点击显/隐内容</div></div><div class="fold"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> Test&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String []args)</span></span>&#123;</span><br><span class="line">        SportsMan s1 = <span class="keyword">new</span> SportsMan(<span class="string">"金龙"</span>,<span class="number">23</span>);</span><br><span class="line">        SportsMan s2 = <span class="keyword">new</span> SportsMan(<span class="string">"银龙"</span>,<span class="number">20</span>);</span><br><span class="line">        s1.setName(<span class="string">"花龙"</span>);</span><br><span class="line">        s1.nation = <span class="string">"China"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SportsMan</span></span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> age;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> String nation;</span><br><span class="line">    SportsMan()&#123;</span><br><span class="line">    &#125;</span><br><span class="line">    SportsMan(String name,<span class="keyword">int</span> age)&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">        <span class="keyword">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></div><p><img src="imgs\Java\static.png" alt="static"></p><h2 id="C-单例模式"><a href="#C-单例模式" class="headerlink" title="C.单例模式"></a>C.单例模式</h2><p>23种设计模式</p><ul><li>单例模式(Singleton): 即<font style="color:red;font-weight:bold;">类只能创建一个对象</font>, Runtime类就是一个单例模式的应用</li><li>解决的问题: 如何只让设计的类只能创建一个对象</li><li>如何实现: 饿汉式  &amp;  懒汉式</li></ul><ol><li>私有化构造器</li><li>在类内部创建类的对象, 同时设置为private的, 通过公共的方法来调用, 体现封装性</li><li>一个public static的方法, 获得该(单例)对象</li><li>要求该对象也为static的</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//饿汉式1</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Bank</span></span>&#123;</span><br><span class="line"><span class="comment">//1.私有化构造器</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="title">Bank</span><span class="params">()</span></span>&#123;&#125;</span><br><span class="line"><span class="comment">//2.创建类的对象，同时设置为private的，通过公共的来调用，体现封装性</span></span><br><span class="line"><span class="comment">//4.要求此对象也为static的</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> Bank instance = <span class="keyword">new</span> Bank();</span><br><span class="line"><span class="comment">//3.此公共的方法，必须为static </span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Bank <span class="title">getInstance</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="keyword">return</span> instance;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//饿汉式2</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Bank</span></span>&#123;</span><br><span class="line"><span class="comment">//1.私有化构造器</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="title">Bank</span><span class="params">()</span></span>&#123;&#125;</span><br><span class="line"><span class="comment">//2.创建类的对象，同时设置为private的，通过公共的来调用，体现封装性</span></span><br><span class="line"><span class="comment">//4.要求此对象也为static的</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> Bank instance = <span class="keyword">null</span>;</span><br><span class="line"><span class="keyword">static</span>&#123;</span><br><span class="line">instance  = <span class="keyword">new</span> Bank();</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//3.此公共的方法，必须为static </span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Bank <span class="title">getInstance</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="keyword">return</span> instance;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//懒汉式</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Bank</span></span>&#123;</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="title">Bank</span><span class="params">()</span></span>&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> Bank instance = <span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Bank <span class="title">getInstance</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="keyword">if</span>(instance == <span class="keyword">null</span>)&#123;<span class="comment">//可能存在线程安全问题的!</span></span><br><span class="line">instance = <span class="keyword">new</span> Bank();</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> instance;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="二-main"><a href="#二-main" class="headerlink" title="二.main()"></a>二.main()</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception</span>&#123;</span><br><span class="line">     <span class="comment">//方法体     </span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol><li>main()是一个方法, 是主方法, 为程序的入口</li><li>权限修饰符: public protected 缺省 private —面向对象的封装性</li><li>对于方法来讲: static final abstract 可修饰</li><li>方法的返回值: void / 具体的返回值类型(基本的数据类型 &amp; 引用数据类型), 方法内部一定要有return</li><li>方法名: 命名的规则: xxxYyyZzz. 给方法命名时, 要见名知意</li><li>形参列表: 同一个方法名不同的形参列表的诸多个方法间构成重载. 形参 &amp; 实参—方法的参数传递机制: 值传递</li><li>抛出异常列表</li><li>方法体: 方法定义的是一种功能, 具体的实现由方法体操作.</li></ol><h1 id="三-代码块"><a href="#三-代码块" class="headerlink" title="三.代码块"></a>三.代码块</h1><ul><li>代码块: 是类的第4个成员, 由一对大括号括起来</li><li>作用: 用来初始化类的属性</li><li>分类: 只能用static来修饰.</li></ul><h2 id="A-静态代码块"><a href="#A-静态代码块" class="headerlink" title="A.静态代码块"></a>A.静态代码块</h2><ol><li>里面可以有输出语句</li><li>随着类的加载而加载，而且只被加载一次</li><li>多个静态代码块之间按照顺序结构执行</li><li>静态代码块的执行要早于非静态代码块的执行.</li><li>静态的代码块中只能执行静态的结构(类属性, 类方法)</li></ol><h2 id="B-非静态代码块"><a href="#B-非静态代码块" class="headerlink" title="B.非静态代码块"></a>B.非静态代码块</h2><ol><li>可以对类的属性(静态的 &amp; 非静态的)进行初始化操作, 同时也可以调用本类声明的方法(静态的 &amp; 非静态的)</li><li>里面可以有输出语句</li><li>一个类中可以有多个非静态的代码块, 多个代码块之间按照顺序结构执行</li><li>每创建一个类的对象, 非静态代码块就加载一次.</li><li>非静态代码块的执行要早于构造器</li></ol><font style="color:red;font-weight:bold;">关于属性赋值的操作:</font><p>①默认的初始化<br>②显式的初始化或代码块初始化(此处两个结构按照顺序执行)<br>③构造器中;<br>—————————以上是对象的属性初始化的过程—————————————<br>④通过方法对对象的相应属性进行修改</p><h1 id="四-final"><a href="#四-final" class="headerlink" title="四.final"></a>四.final</h1><p>final:最终的, 可以用来修饰类、属性、方法</p><ol><li>final修饰类: 这个类就<font style="color:red;font-weight:bold;">不能被继承.</font> 如: String类、StringBuffer类、System类</li><li>final修饰方法: <font style="color:red;font-weight:bold;">不能被重写</font>. 如: Object类的getClass()</li><li>final修饰属性: 此属性就是一个常量, 一旦初始化后, <font style="color:red;font-weight:bold;">不可再被赋值</font>. 习惯上, 常量用大写字符表示.<br>此常量在哪里赋值: ①此常量不能使用默认初始化 ②可以显式的赋值、代码块、构造器.<br>变量用static final修饰时: 全局常量. 比如: Math 类的PI</li></ol>]]></content>
      
      
      
        <tags>
            
            <tag> JavaSE </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>多态性</title>
      <link href="/test/JavaSE4-2.html"/>
      <url>/test/JavaSE4-2.html</url>
      
        <content type="html"><![CDATA[<p>面向对象的特征三: 多态性<br>Object类<br>包装类</p><a id="more"></a><h1 id="一-多态性"><a href="#一-多态性" class="headerlink" title="一.多态性"></a>一.多态性</h1><ol><li>多态性的表现: ①方法的重载与重写 ②子类对象的多态性</li><li>使用的前提: ①要有继承关系 ②要有方法的重写</li><li>格式: </li></ol><div><div class="fold_hider"><div class="close hider_title">点击显/隐内容</div></div><div class="fold"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">eat</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"人吃饭"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">walk</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"人走路"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Man</span> <span class="keyword">extends</span> <span class="title">Person</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">entertainment</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"男人娱乐"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Woman</span> <span class="keyword">extends</span> <span class="title">Person</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">shopping</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"女人购物"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></div><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Person p = <span class="keyword">new</span> Man();<span class="comment">//向上转型</span></span><br><span class="line"><span class="comment">//虚拟方法调用：通过父类的引用指向子类的对象实体，当调用方法时，实际执行的是子类重写父类的方法</span></span><br><span class="line">p1.eat();</span><br><span class="line">p1.walk();</span><br><span class="line"><span class="comment">//p1.entertainment();//不能调用, Man类里没有这个函数</span></span><br></pre></td></tr></table></figure><ol start="4"><li>编译时, 认为p是Person类型的, 故只能执行Person里才有的结构, 即Man里特有的结构不能够调用<br> 子类对象的多态性, 并不使用于属性.</li><li>关于向下转型:<br>①向下转型,使用强转符: ()<br>②为了保证不报ClassCastException, 最好在向下转型前, 进行判断: instanceof</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 若a是A类的实例, 那么a也一定是A类的父类的实例。</span></span><br><span class="line"><span class="keyword">if</span> (p1 <span class="keyword">instanceof</span> Woman) &#123;</span><br><span class="line">    System.out.println(<span class="string">"hello!"</span>);</span><br><span class="line">    Woman w1 = (Woman) p1;</span><br><span class="line">    w1.shopping();</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (p1 <span class="keyword">instanceof</span> Man) &#123;</span><br><span class="line">    Man m1 = (Man) p1;</span><br><span class="line">    m1.entertainment();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="二-Object类"><a href="#二-Object类" class="headerlink" title="二.Object类"></a>二.Object类</h1><ol><li>java.lang.Object 类, 是所有类的根父类!</li><li><h2 id="Object类仅有一个空参的构造器-public-Object"><a href="#Object类仅有一个空参的构造器-public-Object" class="headerlink" title="Object类仅有一个空参的构造器  public Object(){  }"></a>Object类仅有一个空参的构造器  public Object(){  }</h2><p>  关于方法:</p></li></ol><h2 id="①-equals-Object-obj"><a href="#①-equals-Object-obj" class="headerlink" title="① equals(Object obj)"></a>① equals(Object obj)</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">equals</span><span class="params">(Object obj)</span> </span>&#123;</span><br><span class="line"><span class="keyword">return</span> (<span class="keyword">this</span> == obj);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>A.基本数据类型: 根据基本数据类型的值判断是否相等. 相等返回true, 反之返回false<br>&emsp;&emsp;注意: 两端数据类型可以不同, 在不同的情况下, 也可以返回true.<br>B.引用数据类型: 比较引用类型变量的地址值是否相等.<br>&emsp;&emsp;而我们希望比较的两个对象的属性值都相同的情况下返回true的话, 要<font style="color:red;font-weight:bold;">重写Object类的equals(Object obj)方法</font><br>&emsp;&emsp;像String类 File类 Date类…重写了Object类的equals()方法, 比较是两个对象的”实体内容”是否完全相同</p><h2 id="②-toString"><a href="#②-toString" class="headerlink" title="② toString()"></a>② toString()</h2><ol><li>当我们输出一个对象的引用时, 会默认调用toString()方法.</li><li>当我们没有重写Object类的toString()方法时, 打印的就是对象所在的类, 以及对象实体在堆空间的位置</li><li>而我们一般需要重写Object类的toString()方法, 将此对象的各个属性值返回.</li><li>像String类、Date、File类、包装类都重写了toString()方法.</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Object类的toString()</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> getClass().getName() + <span class="string">"@"</span> + Integer.toHexString(hashCode());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="String的内存结构"><a href="#String的内存结构" class="headerlink" title="String的内存结构:"></a>String的内存结构:</h2><p><img src="imgs\Java\String.png" alt="String"></p><h1 id="三-包装类"><a href="#三-包装类" class="headerlink" title="三.包装类"></a>三.包装类</h1><p>Wrapper Class, 包装类均位于java.lang包下</p><p>基本数据类型由于不是类, 不能够使用Java类库里提供的大量的方法. 所以在设计上, 我们让每一个基本数据类型都对应一个类, 同时数据存储的范围还不变. 此时, 相当于基本数据类型就具有了类的特点. 这些类即为包装(wrapper 或封装类)</p><ul><li>boolean ==&gt; Boolean</li><li>byte&emsp;&emsp;==&gt; Byte</li><li>short &emsp; ==&gt; Short</li><li>int &emsp; &emsp; ==&gt; Integer</li><li>long&emsp;&emsp;==&gt; Long</li><li>char&emsp;&emsp;==&gt; Character</li><li>float&emsp;&emsp;==&gt; Float</li><li>double&emsp;==&gt; Double</li></ul><p>需要掌握的:</p><font style="color:red;font-weight:bold;">基本数据类型、包装类、String类之间的转换!</font><p><img src="imgs\Java\包装类转换.png" alt="包装类转换"></p><p>简易理解:</p><ol><li>基本数据类型与对应的包装类有自动装箱、自动拆箱 (JDK5.0之后)</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//如下:</span></span><br><span class="line"><span class="keyword">int</span> i = <span class="number">10</span>;</span><br><span class="line">Integer i1 = i;<span class="comment">//自动装箱</span></span><br><span class="line"><span class="keyword">int</span> j = i1;<span class="comment">//自动拆箱</span></span><br></pre></td></tr></table></figure><ol start="2"><li>基本数据类型、包装类—-&gt;String类: 调用String类的重载的<font style="color:red;font-weight:bold;">valueOf(Xxx xx);</font></li><li>String类—-&gt;基本数据类型、包装类: 调用相应的包装的<font style="color:red;font-weight:bold;">parseXxx(String str);</font></li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//注意:</span></span><br><span class="line">String str = <span class="string">"123"</span>;</span><br><span class="line"><span class="keyword">int</span> i = (<span class="keyword">int</span>)str;<span class="comment">//是错误的转换法.</span></span><br></pre></td></tr></table></figure><ol start="4"><li>特别的: <font style="color:red;font-weight:bold;">Boolean的默认初始化值为null, 而boolean的默认初始化值为false;</font></li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Boolean b = <span class="keyword">new</span> Boolean(<span class="string">"true"</span>);<span class="comment">//除了这样传参之外, 其他传参均为false</span></span><br><span class="line"><span class="comment">//不会报java.lang.NumberFormatException</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> JavaSE </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaSE </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>继承性</title>
      <link href="/test/JavaSE4-1.html"/>
      <url>/test/JavaSE4-1.html</url>
      
        <content type="html"><![CDATA[<p>面向对象特征二:继承性<br>方法的<font style="color:red;font-weight:bold;">重写</font><br>super关键字<br>子类对象的实例化过程</p><a id="more"></a><h1 id="一-继承性"><a href="#一-继承性" class="headerlink" title="一.继承性"></a>一.继承性</h1><p>1.为什么要有继承性:<br>&emsp;&emsp;有一些东西拥有某些公共的特性, 将他们相同的部分抽取出来放在一起, <font style="color:red;font-weight:bold;">方便代码的复用与修改</font><br>2.通过”<font style="color:red;font-weight:bold;">class A extends B</font>“类实现类的继承:<br>&emsp;&emsp;子类: A; 父类(或基类SuperClass): B<br>3.子类继承父类以后, 父类中声明的属性、方法, 子类就可以获取到.<br>&emsp;&emsp;明确: 当父类中有私有的属性或方法时, 子类同样可以获取得到, 只是由于封装性的设计, 使得<font style="color:red;font-weight:bold;">子类不可以直接<br>调用</font>罢了.<br>&emsp;&emsp;子类除了通过继承, 获取父类的结构之外, 还可以定义自己的特有的成分.<br>extends:子类是对父类功能的“扩展”, 明确子类不是父类的子集.<br>4.Java中类的继承性<font style="color:red;font-weight:bold;">只支持单继承</font>: 一个类只能继承一个父类. 反之, 一个父类可以有多个子类.<br>5.子父类是相对的概念.</p><h1 id="二-orverwrite-or-override"><a href="#二-orverwrite-or-override" class="headerlink" title="二.orverwrite or override"></a>二.orverwrite or override</h1><h2 id="方法的重载与重写的区别"><a href="#方法的重载与重写的区别" class="headerlink" title="方法的重载与重写的区别?"></a><font style="color:red;font-weight:bold;">方法的重载与重写的区别?</font></h2><p><strong>重载</strong>: “两同一不同”: 同一个类, 同一个方法名, 不同的参数列表. 注: 方法的重载与方法的返回值无关!<br>构造器也是可以重载的<br><strong>重写</strong>: (前提: 在继承的基础之上, 子类在获取了父类的结构以后, 可以对父类中同名的方法进行“重构”)</p><ul><li>方法的返回值, 方法名, 形参列表形同;</li><li><font style="color:red;font-weight:bold;">权限修饰符不小于父类的同名方法;</font></li><li><font style="color:red;font-weight:bold;">子类方法的异常类型不大于父类的;</font></li><li>两个方法要同为static或同为非static.</li></ul><h1 id="三-super"><a href="#三-super" class="headerlink" title="三.super"></a>三.super</h1><p>1.super: 相较于关键字this, 可以修饰属性、方法、构造器<br>2.super修饰属性、方法: 在子类的方法、构造器中, 通过<font style="color:red;font-weight:bold;">“super.属性”或者”super.方法”</font>的形式, 显式的调用父类的指定属性或方法. 尤其是, 当子类与父类有同名的属性、或方法时, 调用父类中的结构的话, 一定要用“super.”<br>3.通过“super(形参列表)”, 显式的在子类的构造器中, 调用父类指定的构造器!<br>&emsp;&emsp;<strong>任何一个类(除Object类)的构造器的首行, 要么显式的调用本类中重载的其它的构造器“this(形参列表)”或显式的调用父类中指定的构造器“super(形参列表)”, 要么默认的调用父类空参的构造器”super()”</strong></p><font style="color:red;font-weight:bold;">“super(形参列表)”或”this(形参列表)”只能出现一个</font><br>&emsp;&emsp;建议在设计类时, <font style="color:red;font-weight:bold;">提供一个空参的构造器!</font><h1 id="四-子类对象的实例化"><a href="#四-子类对象的实例化" class="headerlink" title="四.子类对象的实例化"></a>四.子类对象的实例化</h1><font style="color:red;font-weight:bold;">先构建(调用父类的构造器构建)父类的内容, 再构建子类的内容</font><p>为了直观的理解, 可以运行一下代码, 看输出的结果:</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//子类对象实例化的全过程</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestDog</span> </span>&#123;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">Dog d = <span class="keyword">new</span> Dog();</span><br><span class="line">d.setAge(<span class="number">10</span>);</span><br><span class="line">d.setName(<span class="string">"小明"</span>);</span><br><span class="line">d.setHostName(<span class="string">"花花"</span>);</span><br><span class="line">System.out.println(<span class="string">"name:"</span> + d.getName() + <span class="string">" age:"</span> + d.getAge()</span><br><span class="line">+ <span class="string">" hostName:"</span> + d.getHostName());</span><br><span class="line">System.out.println(d.toString());</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 生物</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Creator</span> </span>&#123;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">int</span> age;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getAge</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">return</span> age;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setAge</span><span class="params">(<span class="keyword">int</span> age)</span> </span>&#123;</span><br><span class="line"><span class="keyword">this</span>.age = age;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">Creator</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">super</span>();</span><br><span class="line">System.out.println(<span class="string">"this is Creator's constructor"</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 动物类</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Animal</span> <span class="keyword">extends</span> <span class="title">Creator</span> </span>&#123;</span><br><span class="line"><span class="keyword">private</span> String name;</span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">return</span> name;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line"><span class="keyword">this</span>.name = name;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">Animal</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">super</span>();</span><br><span class="line">System.out.println(<span class="string">"this is Animal's constructor"</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 狗</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dog</span> <span class="keyword">extends</span> <span class="title">Animal</span> </span>&#123;</span><br><span class="line"><span class="keyword">private</span> String hostName;</span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">getHostName</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">return</span> hostName;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setHostName</span><span class="params">(String hostName)</span> </span>&#123;</span><br><span class="line"><span class="keyword">this</span>.hostName = hostName;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">Dog</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">super</span>();</span><br><span class="line">System.out.println(<span class="string">"this is Dog's constructor"</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>输出结果为:</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">this</span> is Creator<span class="string">'s constructor</span></span><br><span class="line"><span class="string">this is Animal'</span>s constructor</span><br><span class="line"><span class="keyword">this</span> is Dog<span class="string">'s constructor</span></span><br><span class="line"><span class="string">name:小明 age:10 hostName:花花</span></span><br><span class="line"><span class="string">Dog类的对象dd在堆空间内的信息</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> JavaSE </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaSE </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>封装性</title>
      <link href="/test/JavaSE3-3.html"/>
      <url>/test/JavaSE3-3.html</url>
      
        <content type="html"><![CDATA[<p>面向对象之封装性<br>构造器<br>this关键字<br>package与import</p><a id="more"></a><h1 id="一-封装性"><a href="#一-封装性" class="headerlink" title="一.封装性"></a>一.封装性</h1><p>面向对象的特征一: 封装与隐藏</p><p>问题: 当创建了类的对象以后, 如果直接通过”对象.属性”的方式对相应的对象属性赋值的话, 可能会出现不满足实际<br>情况的意外, 我们考虑不让对象来直接作用属性, 而是通过”对象.方法”的形式, 来控制对象对属性的访问. 实际<br>情况中, 对属性的要求就可以通过方法来体现.</p><font style="color:red;font-weight:bold;">封装性的思想: ①将类的属性私有化; ②提供公共的方法(setter&amp;getter)来实现调用.</font><h2 id="A-四种权限修饰符"><a href="#A-四种权限修饰符" class="headerlink" title="A.四种权限修饰符"></a>A.四种权限修饰符</h2><p><strong>1.权限从大到小为：public   protected   缺省   private</strong><br><strong>2.四种权限都可以用来修饰属性、方法、构造器</strong><br><strong>3.修饰类的话：public 缺省(default)类只能被同一个包中的类访问</strong></p><p><img src="imgs\Java\修饰符.png" alt="修饰符"></p><h1 id="二-构造器"><a href="#二-构造器" class="headerlink" title="二.构造器"></a>二.构造器</h1><p>类的第三个成员: 构造器(constructor 构造方法)</p><h2 id="A-构造器的作用"><a href="#A-构造器的作用" class="headerlink" title="A.构造器的作用"></a>A.构造器的作用</h2><p>①创建对象 ②给创建的对象的属性赋值</p><h2 id="B-构造器的特征"><a href="#B-构造器的特征" class="headerlink" title="B.构造器的特征"></a>B.构造器的特征</h2><p>①与类名一致②没有返回值类型③无return与语句</p><p>④不能被static|final|abstract|native本地的|synchronized同步的</p><ul><li>1.设计类时, <font style="color:red;font-weight:bold;">若不显式声明类的构造器的话, 程序会默认提供一个空参的构造器.</font>.</li><li>2.<font style="color:red;font-weight:bold;">一旦显式的定义类的构造器, 那么默认的构造器就不再提供.</font></li><li>3.如何声明类的构造器. 格式: 权限修饰符  类名(形参){ }</li><li>4.类的多个构造器之间<font style="color:red;font-weight:bold;">构成重载</font></li></ul><p>类对象的属性赋值的先后顺序: ①属性的默认初始化 ②属性的显式初始化 ③通过构造器给属性初始化</p><p>④通过”对象.方法”的方式给属性赋值</p><h1 id="三-this"><a href="#三-this" class="headerlink" title="三.this"></a>三.this</h1><p>this:</p><p>1.使用在类中, 可以用来修饰属性、方法、构造器<br>2.表示当前对象或者是当前正在创建的对象<br>3.当形参与成员变量重名时, 如果在方法内部需要使用成员变量, 必须添加this来表明该变量时类成员<br>4.在任意方法内, 如果使用当前类的成员变量或成员方法可以在其前面添加this, 增强程序的阅读性<br>5.在构造器中使用<font style="color:red;font-weight:bold;">“this(形参列表)”</font>显式的调用本类中重载的其它的构造器<br>&emsp;&emsp;①要求“this(形参列表)”要声明在构造器的首行!<br>&emsp;&emsp;②类中若存在n个构造器, 那么最多有n-1构造器中使用了this.<br>6.静态方法中不能使用this和super关键字</p><font style="color:red;font-weight:bold;">例子:</font><div><div class="fold_hider"><div class="close hider_title">点击显/隐内容</div></div><div class="fold"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestPerson</span></span>&#123;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">Person p1 = <span class="keyword">new</span> Person();</span><br><span class="line">System.out.println(p1.getName() + <span class="string">":"</span> + p1.getAge());</span><br><span class="line">Person p2 = <span class="keyword">new</span> Person(<span class="string">"BB"</span>,<span class="number">23</span>);</span><br><span class="line"><span class="keyword">int</span> temp = p2.compare(p1);</span><br><span class="line">System.out.println(temp);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span></span>&#123;</span><br><span class="line"><span class="keyword">private</span> String name;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">int</span> age;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">Person</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="keyword">this</span>.name = <span class="string">"AA"</span>;</span><br><span class="line"><span class="keyword">this</span>.age = <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">Person</span><span class="params">(String name)</span></span>&#123;</span><br><span class="line"><span class="keyword">this</span>();</span><br><span class="line"><span class="keyword">this</span>.name = name;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">Person</span><span class="params">(String name,<span class="keyword">int</span> age)</span></span>&#123;</span><br><span class="line"><span class="keyword">this</span>(name);</span><br><span class="line"><span class="keyword">this</span>.age = age;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">return</span> name;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line"><span class="keyword">this</span>.name = name;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getAge</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">return</span> age;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setAge</span><span class="params">(<span class="keyword">int</span> age)</span> </span>&#123;</span><br><span class="line"><span class="keyword">this</span>.age = age;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">eat</span><span class="params">()</span></span>&#123;</span><br><span class="line">System.out.println(<span class="string">"eating"</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">sleep</span><span class="params">()</span></span>&#123;</span><br><span class="line">System.out.println(<span class="string">"sleeping"</span>);</span><br><span class="line"><span class="keyword">this</span>.eat();</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//比较当前对象与形参的对象的age谁大。</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compare</span><span class="params">(Person p)</span></span>&#123;</span><br><span class="line"><span class="keyword">if</span>(<span class="keyword">this</span>.age &gt; p.age)</span><br><span class="line"><span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span>(<span class="keyword">this</span>.age &lt; p.age)</span><br><span class="line"><span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></div><h1 id="四-package与import"><a href="#四-package与import" class="headerlink" title="四.package与import"></a>四.package与import</h1><p>package: <font style="color:red;font-weight:bold;">声明源文件(即当前文件)所在的包(即文件夹), 必须写在程序的第一行.</font></p><p>每“.”一次, 表示一层文件目录; 包名都要小写.</p><p>import:</p><p>1)显式导入指定包下的类或接口<br>2)写在包的声明和源文件之间<br>3)如果需要引入多个类或接口, 那么并列写出<br>4)如果导入的类是java.lang包下的, 如: System String Math等, 就不需要显式的声明.<br>5)理解.*的概念.比如java.util.*;<br>6)如何处理同名类的导入. 如: 在util包和sql包下同时存在Date类.<br>7)import static 表示导入指定类的static的属性或方法<br>8)导入java.lang.*只能导入lang包下的所有类或接口, 不能导入lang的子包下的类或接口</p>]]></content>
      
      
      <categories>
          
          <category> JavaSE </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaSE </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>面向对象1.2</title>
      <link href="/test/JavaSE3-2.html"/>
      <url>/test/JavaSE3-2.html</url>
      
        <content type="html"><![CDATA[<p>方法的重载<br>可变个数的形参的方法<br>Java的值传递机制</p><a id="more"></a><h1 id="一-overload-重载"><a href="#一-overload-重载" class="headerlink" title="一.overload(重载)"></a>一.overload(重载)</h1><h2 id="1-重载要求"><a href="#1-重载要求" class="headerlink" title="1.重载要求:"></a>1.重载要求:</h2><ol><li><strong>同一个类中</strong></li><li><strong>方法名必须相同</strong></li><li><strong>方法的参数列表不同(①参数的个数不同②参数类型不同)</strong><br><strong>注意: 方法的重载与<font style="color:red">方法的返回值类型</font>没有关系!</strong></li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//如下的四个方法构成重载</span></span><br><span class="line"><span class="comment">//定义两个int型变量的和</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getSum</span><span class="params">(<span class="keyword">int</span> i,<span class="keyword">int</span> j)</span></span>&#123;</span><br><span class="line"><span class="keyword">return</span> i + j;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//定义三个int型变量的和</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getSum</span><span class="params">(<span class="keyword">int</span> i,<span class="keyword">int</span> j,<span class="keyword">int</span> k)</span></span>&#123;</span><br><span class="line"><span class="keyword">return</span> i + j + k;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//定义两个double型数据的和</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">double</span> <span class="title">getSum</span><span class="params">(<span class="keyword">double</span> d1,<span class="keyword">double</span> d2)</span></span>&#123;</span><br><span class="line"><span class="keyword">return</span> d1 + d2;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//定义三个double型数组的和</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">getSum</span><span class="params">(<span class="keyword">double</span> d1,<span class="keyword">double</span> d2,<span class="keyword">double</span> d3)</span></span>&#123;</span><br><span class="line">System.out.println(d1 + d2 + d3);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//如下两个方法不能与如上的几个方法构成重载</span></span><br><span class="line"><span class="comment">//public int getSum1(int i,int j,int k)&#123;//方法名必须相同</span></span><br><span class="line"><span class="comment">//return i + j + k;</span></span><br><span class="line"><span class="comment">//&#125;</span></span><br><span class="line"><span class="comment">//public void getSum(int i,int j,int k)&#123;//与方法的返回值类型</span></span><br><span class="line"><span class="comment">//System.out.println(i + j + k);</span></span><br><span class="line"><span class="comment">//&#125;</span></span><br></pre></td></tr></table></figure><h1 id="二-可变个数的形参的方法"><a href="#二-可变个数的形参的方法" class="headerlink" title="二.可变个数的形参的方法"></a>二.可变个数的形参的方法</h1><p>可变个数的形参的方法(JDK5.0之后的特性):</p><ul><li>1.格式: 对于方法的形参: 数据类型 … 形参名</li><li>2.可变个数的形参的方法与同名的方法之间构成重载</li><li>3.可变个数的形参在调用时, 个数从0开始, 到无穷多个都可以</li><li>4.使用可变多个形参的方法与方法的形参使用数组是一致的</li><li>5.若方法中存在可变个数的形参, 那么一定要声明在方法形参的最后</li><li>6.在一个方法中, 最多声明一个可变个数的形参</li></ul><div><div class="fold_hider"><div class="close hider_title">点击显/隐内容</div></div><div class="fold"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//如下四个方法构成重载</span></span><br><span class="line"><span class="comment">//在类中一旦定义了重载的可变个数的形参的方法以后, 下面的前两个方法可以省略</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">sayHello</span><span class="params">()</span></span>&#123;</span><br><span class="line">System.out.println(<span class="string">"hello world!"</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">sayHello</span><span class="params">(String str1)</span></span>&#123;</span><br><span class="line">System.out.println(<span class="string">"hello "</span> + str1);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//可变个数的形参的方法</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">sayHello</span><span class="params">(String ... args)</span></span>&#123;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i &lt; args.length;i++)&#123;</span><br><span class="line">System.out.println(args[i] + <span class="string">"$"</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">sayHello</span><span class="params">(<span class="keyword">int</span> i,String ... args)</span></span>&#123;</span><br><span class="line"><span class="comment">//public void sayHello(String ... args,int i)&#123;//这样不对</span></span><br><span class="line">System.out.println(i);</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>;j &lt; args.length;j++)&#123;</span><br><span class="line">System.out.println(args[j] + <span class="string">"$"</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">sayHello1</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i &lt; args.length;i++)&#123;</span><br><span class="line">System.out.println(args[i]);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></div><h1 id="三-Java的值传递机制"><a href="#三-Java的值传递机制" class="headerlink" title="三.Java的值传递机制"></a>三.Java的值传递机制</h1><h2 id="1-方法的参数传递"><a href="#1-方法的参数传递" class="headerlink" title="1.方法的参数传递"></a>1.方法的参数传递</h2><ol><li><strong>形参</strong>: 方法声明时, 方法小括号内的参数;<strong>实参</strong>: 调用方法时, 实际传入的参数的值</li><li>规则: Java中的参数传递机制: <font style="color:red;font-weight:bold;">值传递机制</font></li></ol><p>①形参是基本数据类型的: 将实参的值传递给形参的基本数据类型的变量<br>②形参是引用数据类型的: 将实参的引用类型变量的值(对应的堆空间的对象实体的首地址值)传递给形参的引用类型变量.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//例1:</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Test1</span></span>&#123;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">Test1 tt = <span class="keyword">new</span> Test1();</span><br><span class="line"><span class="keyword">int</span> i = <span class="number">10</span>;</span><br><span class="line"><span class="keyword">int</span> j = <span class="number">5</span>;</span><br><span class="line">System.out.println(<span class="string">"i:"</span> + i + <span class="string">" j:"</span> + j);<span class="comment">//i : 10  j : 5</span></span><br><span class="line"><span class="comment">/*//直接交换变量i与j的值</span></span><br><span class="line"><span class="comment">int temp = i;</span></span><br><span class="line"><span class="comment">i = j;</span></span><br><span class="line"><span class="comment">j = temp;</span></span><br><span class="line"><span class="comment">*/</span>tt.swap(i, j);<span class="comment">//通过方法交换, 将i的值传递给m，j的值传递给n, 实际上i与j的值根本没有交换</span></span><br><span class="line">System.out.println(<span class="string">"i:"</span> + i + <span class="string">" j:"</span> + j);<span class="comment">//i : 10  j : 5</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//定义一个方法，交换两个变量的值</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">swap</span><span class="params">(<span class="keyword">int</span> m,<span class="keyword">int</span> n)</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> temp = m;</span><br><span class="line">m = n;</span><br><span class="line">n = temp;</span><br><span class="line">System.out.println(<span class="string">"m:"</span> + m + <span class="string">" n:"</span> + n);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>若直接用注释部分的代码交换i与j可以交换, 使用swap方法以后: 实际上i与j本身的值根本没有交换</p><p><img src="imgs\Java\值传递.png" alt="值传递"></p><p><img src="imgs\Java\swap.png" alt="swap"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//例2:</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test1</span> </span>&#123;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">Test1 tt = <span class="keyword">new</span> Test1();</span><br><span class="line">DataSwap ds = <span class="keyword">new</span> DataSwap();</span><br><span class="line">System.out.println(<span class="string">"ds.i:"</span> + ds.i + <span class="string">" ds.j:"</span> + ds.j);</span><br><span class="line">tt.swap(ds);</span><br><span class="line">System.out.println(ds);</span><br><span class="line">System.out.println(<span class="string">"ds.i:"</span> + ds.i + <span class="string">" ds.j:"</span> + ds.j);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//交换元素的值</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">swap</span><span class="params">(DataSwap d)</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> temp = d.i;</span><br><span class="line">d.i = d.j;</span><br><span class="line">d.j = temp;</span><br><span class="line">System.out.println(d);<span class="comment">//打印引用变量d的值</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">DataSwap</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> i = <span class="number">10</span>;</span><br><span class="line"><span class="keyword">int</span> j = <span class="number">5</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> JavaSE </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaSE </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>面向对象1.1</title>
      <link href="/test/JavaSE3-1.html"/>
      <url>/test/JavaSE3-1.html</url>
      
        <content type="html"><![CDATA[<h1 id="一-面向对象的初步认识"><a href="#一-面向对象的初步认识" class="headerlink" title="一.面向对象的初步认识"></a>一.面向对象的初步认识</h1><a id="more"></a><h3 id="1-了解-面向对象vs面向过程"><a href="#1-了解-面向对象vs面向过程" class="headerlink" title="1.(了解)面向对象vs面向过程"></a>1.(了解)面向对象vs面向过程</h3><p>例:实现人把大象装进冰箱</p><p>面向对象:</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> 人</span>&#123;<span class="comment">//可以这么理解</span></span><br><span class="line">    open()&#123;<span class="comment">//打开冰箱</span></span><br><span class="line">    &#125;</span><br><span class="line">    put()&#123;<span class="comment">//将大象放进冰箱</span></span><br><span class="line">    &#125;</span><br><span class="line">    close()&#123;<span class="comment">//关闭冰箱</span></span><br><span class="line">    &#125;</span><br><span class="line">    main()&#123;</span><br><span class="line">        人 = <span class="keyword">new</span> 人();</span><br><span class="line">        人.open();</span><br><span class="line">        人.put();</span><br><span class="line">        人.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>面向过程:①人打开冰箱;②将大象放进冰箱;③关闭冰箱</p><h3 id="2-面向对象的编程关注于类的设计"><a href="#2-面向对象的编程关注于类的设计" class="headerlink" title="2.面向对象的编程关注于类的设计!"></a>2.面向对象的编程关注于类的设计!</h3><p>1）一个项目或工程, 不管多庞大, 一定是有一个一个类构成的.<br>2）类是抽象的, 好比是制造汽车的图纸.而具体的一辆一辆的车, 是根据图纸制造的, 实际上就是类的实例化</p><h3 id="3-完成一个项目-或功能-的思路"><a href="#3-完成一个项目-或功能-的思路" class="headerlink" title="3.完成一个项目(或功能)的思路"></a>3.完成一个项目(或功能)的思路</h3><p>1）所要完成的功能对应的类的对象是否存在.<br>2）若存在, 则通过对象直接调用对应的类中的属性或方法即可.<br>3）若不存在, 需要创建类的对象.甚至说, 类都不存在, 就需要设计类.</p><h3 id="4-面向对象编程的三条主线"><a href="#4-面向对象编程的三条主线" class="headerlink" title="4.面向对象编程的三条主线:"></a>4.面向对象编程的三条主线:</h3><p>1）类及类的构成成分:<font style="color:red;font-weight:bold;">属性  方法 构造器  代码块 内部类</font><br>2）面向对象编程的特征:<font style="color:red;font-weight:bold;">封装性  继承性 多态性(抽象性)</font><br>3）其它的关键字:<font style="color:red;font-weight:bold;">this super package import static final abstract interface …</font></p><h1 id="二-类及对象"><a href="#二-类及对象" class="headerlink" title="二.类及对象"></a>二.类及对象</h1><p>1.关于类的设计</p><h2 id="2-类的组成成分"><a href="#2-类的组成成分" class="headerlink" title="2.类的组成成分:"></a>2.类的组成成分:</h2><p>   1)属性(成员变量, Field)<br>   2)方法(成员方法, 函数, Method)</p><h3 id="2-1属性"><a href="#2-1属性" class="headerlink" title="2.1属性:"></a>2.1属性:</h3><h2 id="成员变量-vs-局部变量"><a href="#成员变量-vs-局部变量" class="headerlink" title="成员变量 vs 局部变量"></a><font color="black">成员变量 vs 局部变量</font></h2><p>相同点: 1.遵循变量声明的格式: 数据类型 变量名 = 初始化值 2.都有作用域</p><p>不同点: 1.声明的位置的不同: 成员变量: 声明在类里, 方法外; 局部变量: 声明在方法内, 方法的形参部分, 代码块内</p><p>&emsp;&emsp;&emsp;&emsp;2.成员变量的修饰符有四个:public private protected 缺省, 局部变量没有修饰符, 与所在的方法修饰符相同</p><p>&emsp;&emsp;&emsp;&emsp;3.初始化值: 一定会有初始化值, 成员变量:如果在声明的时候, 不显式的赋值, 那么不同数据类型会有不同的默认初始化值.局部变量: 一定要显式的赋值.(局部变量没有默认初始化值)</p><ul><li><strong>byte short int long ==&gt;0</strong></li><li><strong>float double ==&gt;0.0</strong></li><li><strong>char ==&gt;空格</strong></li><li><strong>boolean ==&gt;false</strong> </li><li><strong>引用类型变量==&gt;null</strong></li></ul><p>&emsp;&emsp;&emsp;&emsp;4.二者在内存中存放的位置不同:成员变量存在于堆空间中; 局部变量: 栈空间中</p><p>总结: 关于变量的分类: </p><ul><li>1)按照数据类型的不同: 基本数据类型(8种)&amp;引用数据类型</li><li>2)按照声明的位置的不同: 成员变量 &amp; 局部变量</li></ul><h3 id="2-2-方法-提供某种功能的实现"><a href="#2-2-方法-提供某种功能的实现" class="headerlink" title="2.2 方法: 提供某种功能的实现"></a>2.2 方法: 提供某种功能的实现</h3><p>1)实例:</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">eat</span><span class="params">()</span></span>&#123;<span class="comment">//方法体&#125;</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span></span>&#123;&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String n)</span></span>&#123;&#125;</span><br></pre></td></tr></table></figure><font style="color:red;font-weight:bold;">格式: 权限修饰符 返回值类型(void:无返回值/具体的返回值) 方法名(形参){}</font><p>2)关于返回值类型: void: 表明此方法不需要返回值</p><p>有返回值的方法: 在方法的最后一定有return + 返回值类型对应的变量</p><p>记忆: void 与return不可以同时出现一个方法内. 像一对“冤家”.</p><p>3)方法内可以调用本类的其他方法或属性, 但是不能在方法内再定义方法!</p><p>3.面向对象编程的思想的落地法则一:<br>1)设计并创建类及类的成分<br>2)实例化类的对象<br>3)通过“对象.属性”或”对象.方法”的形式完成某项功能</p><p>4.类的初始化的内存解析</p><h3 id="4-1-内存划分的结构"><a href="#4-1-内存划分的结构" class="headerlink" title="4.1 内存划分的结构:"></a>4.1 内存划分的结构:</h3><ul><li><strong>栈(stack):局部变量、对象的引用名、数组的引用名</strong></li><li><strong>堆(heap):new 出来的“东西”(如: 对象的实体, 数组的实体), 含成员变量</strong></li><li><strong>方法区: 含字符串常量</strong></li><li><strong>静态域: 声明为static的变量</strong></li></ul><p>4.2 理解的基础上, 学会基本的创建的类的对象在内存中的运行.</p>]]></content>
      
      
      <categories>
          
          <category> JavaSE </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaSE </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Java数组</title>
      <link href="/test/JavaSE2-3.html"/>
      <url>/test/JavaSE2-3.html</url>
      
        <content type="html"><![CDATA[<h1 id="Java数组"><a href="#Java数组" class="headerlink" title="Java数组"></a>Java数组</h1><a id="more"></a><h2 id="一-一维数组"><a href="#一-一维数组" class="headerlink" title="一.一维数组"></a><font color="black">一.一维数组</font></h2><p>数组: 相同数据类型的数据的组合.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//如: 多个int</span></span><br><span class="line"><span class="keyword">int</span> score1 = <span class="number">72</span>;</span><br><span class="line"><span class="keyword">int</span> score2 = <span class="number">90</span>;</span><br><span class="line"><span class="keyword">int</span> score3 = <span class="number">59</span>;</span><br><span class="line"><span class="comment">//使用数组存储</span></span><br><span class="line"><span class="keyword">int</span>[] scores1 = <span class="keyword">new</span> <span class="keyword">int</span>[]&#123;<span class="number">72</span>,<span class="number">90</span>,<span class="number">59</span>&#125;;</span><br><span class="line"><span class="comment">//静态初始化:声明并初始化数组与给数组相应的元素赋值操作同时进行</span></span><br><span class="line"><span class="keyword">int</span> scores2[] = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">3</span>];<span class="comment">//动态初始化:声明并初始化数组与数组相应的元素赋值操作分开进行</span></span><br><span class="line">scores2[<span class="number">0</span>] = <span class="number">72</span>;</span><br><span class="line">scores2[<span class="number">1</span>] = <span class="number">90</span>;</span><br><span class="line">scores2[<span class="number">2</span>] = <span class="number">59</span>;</span><br><span class="line"><span class="keyword">int</span>[] arr = &#123;<span class="number">72</span>,<span class="number">90</span>,<span class="number">59</span>&#125;;<span class="comment">//这样可以</span></span><br><span class="line"><span class="comment">//声明数组的错误写法:</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">String[] names = new String[5]&#123;"AA","BB","CC"&#125;;//这样用时不能指定大小</span></span><br><span class="line"><span class="comment">int i[10];</span></span><br><span class="line"><span class="comment">int i = new int[];//i是int型</span></span><br><span class="line"><span class="comment">int[] arr;arr = &#123;10,11,12&#125;;//两句分开不行, 合并为一句可以</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line">System.out.println(scores2.length);<span class="comment">//求数组长度</span></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i &lt; scores1.length;i++)&#123;<span class="comment">//遍历数组</span></span><br><span class="line">System.out.println(scores1[i]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>注意1.不管是动态还是静态初始化数组, 一定在<strong>创建的时候, 就指明了数组的长度</strong><br>&emsp;&emsp;2.如何引用数组元素: 通过数组的下角标的方式. 下角标从0开始, 到n-1结束.其中n为数组的长度</p><p>&emsp;&emsp;3.关于数组元素的默认初始化值</p><ul><li>byte short int long 而言:0</li><li>float double 而言:0.0</li><li>char而言:空格</li><li>boolean而言:false</li><li>引用类型变量而言:null</li></ul><h3 id="4-数组的内存结构"><a href="#4-数组的内存结构" class="headerlink" title="4.数组的内存结构"></a>4.数组的内存结构</h3><p>内存结构图:</p><p><img src="imgs\Java\内存结构图.png" alt="内存结构图"></p><font style="color:red;font-weight:bold">在JAVA中, 凡是new出来的东西, 都会被默认初始化并赋值</font><p>对于数组来讲:</p><p><img src="imgs\Java\数组.png" alt="数组"></p><p>字符串: 面向对象之后再看</p><p><img src="imgs\Java\String.png" alt="String"></p><h2 id="二-二维数组"><a href="#二-二维数组" class="headerlink" title="二.二维数组"></a><font color="black">二.二维数组</font></h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//1.声明并初始化</span></span><br><span class="line"><span class="comment">//一维:类型后一个[]</span></span><br><span class="line"><span class="keyword">int</span>[] i = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">12</span>];</span><br><span class="line">i[<span class="number">0</span>] = <span class="number">12</span>;</span><br><span class="line"><span class="keyword">int</span>[] j = <span class="keyword">new</span> <span class="keyword">int</span>[]&#123;<span class="number">12</span>,<span class="number">3</span>&#125;;</span><br><span class="line"><span class="comment">//二维:类型后两个[]</span></span><br><span class="line">String[][] str = <span class="keyword">new</span> String[<span class="number">4</span>][<span class="number">3</span>];<span class="comment">//4行3列</span></span><br><span class="line">String[][] str1 = <span class="keyword">new</span> String[<span class="number">4</span>][];<span class="comment">//4行, 每行的列可能不一样</span></span><br><span class="line">str1[<span class="number">0</span>] = <span class="keyword">new</span> String[<span class="number">3</span>];</span><br><span class="line"><span class="comment">//...</span></span><br><span class="line">str1[<span class="number">3</span>] = <span class="keyword">new</span> String[<span class="number">5</span>];</span><br><span class="line"><span class="keyword">int</span>[][] arr = <span class="keyword">new</span> <span class="keyword">int</span>[][]&#123;&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>&#125;,&#123;<span class="number">4</span>,<span class="number">5</span>&#125;,&#123;<span class="number">6</span>&#125;&#125;;</span><br><span class="line"><span class="comment">//2.如何引用二维数组的元素</span></span><br><span class="line">arr[<span class="number">1</span>][<span class="number">0</span>] = <span class="number">12</span>;</span><br><span class="line"><span class="comment">//3.二维数组的长度:</span></span><br><span class="line">arr.length;<span class="comment">//3</span></span><br><span class="line">arr[<span class="number">1</span>].length;<span class="comment">//2</span></span><br><span class="line"><span class="comment">//4.遍历二维数组</span></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i &lt; arr.length;i++)&#123;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>;j &lt; arr[i].length;j++)&#123;</span><br><span class="line">System.out.print(arr[i][j] + <span class="string">"\t"</span>);</span><br><span class="line">&#125;</span><br><span class="line">System.out.println();</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure><h3 id="5-二维数组的结构"><a href="#5-二维数组的结构" class="headerlink" title="5.二维数组的结构:"></a>5.二维数组的结构:</h3><p><img src="imgs\Java\String[][].png" alt="String[][]"></p><p><img src="imgs\Java\二维数组.png" alt="二维数组"></p><h2 id="三-数组中常见的异常"><a href="#三-数组中常见的异常" class="headerlink" title="三.数组中常见的异常"></a><font color="black">三.数组中常见的异常</font></h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//1.数组下标越界的异常:java.lang.ArrayIndexOutOfBoundsException</span></span><br><span class="line"><span class="keyword">int</span>[] i = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">10</span>];</span><br><span class="line"><span class="comment">//i[0] = 90;</span></span><br><span class="line"><span class="comment">//i[10] = 99;//最大i[9]</span></span><br><span class="line"><span class="comment">//for(int m = 0;m &lt;= i.length;m++)&#123;</span></span><br><span class="line"><span class="comment">//    System.out.println(i[m]);//最大i[i.length-1]</span></span><br><span class="line"><span class="comment">//&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//2.空指针的异常:NullPointerException</span></span><br><span class="line"><span class="comment">//第一种:</span></span><br><span class="line"><span class="comment">//boolean[] b = new boolean[3];</span></span><br><span class="line"><span class="comment">//b = null;</span></span><br><span class="line"><span class="comment">//System.out.println(b[0]);//b已经为空</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//第二种:</span></span><br><span class="line"><span class="comment">//String[] str = new String[4];</span></span><br><span class="line"><span class="comment">//System.out.println(str[3].toString());//没有初始化str[3]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//第三种:</span></span><br><span class="line"><span class="keyword">int</span>[][] j = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">3</span>][];</span><br><span class="line"><span class="comment">//j[2][0] = 12;//j的第二维还未初始化</span></span><br></pre></td></tr></table></figure><h2 id="四-数组中常用的算法"><a href="#四-数组中常用的算法" class="headerlink" title="四.数组中常用的算法"></a><font color="black">四.数组中常用的算法</font></h2><h3 id="求数组元素的最大值-amp-最小值-amp-和-amp-平均数"><a href="#求数组元素的最大值-amp-最小值-amp-和-amp-平均数" class="headerlink" title="求数组元素的最大值&amp;最小值&amp;和&amp;平均数"></a>求数组元素的最大值&amp;最小值&amp;和&amp;平均数</h3><h3 id="数组的复制和反转"><a href="#数组的复制和反转" class="headerlink" title="数组的复制和反转"></a>数组的复制和反转</h3><p>情况1: 浅复制, 两个数组的引用指向同一片内存空间, 改变一个的内容另一个也会改变</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span>[] arr1 = <span class="keyword">new</span> <span class="keyword">int</span>[]&#123;<span class="number">10</span>,<span class="number">11</span>,<span class="number">12</span>&#125;;</span><br><span class="line"><span class="keyword">int</span>[] arr2 = arr1;</span><br></pre></td></tr></table></figure><p>情况2: 深复制, 将一片内存里的内容, 复制到另一片内存里(如何实现复制)</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span>[] arr1 = <span class="keyword">new</span> <span class="keyword">int</span>[]&#123;<span class="number">10</span>,<span class="number">11</span>,<span class="number">12</span>&#125;;</span><br><span class="line"><span class="keyword">int</span>[] arr2 = <span class="keyword">new</span> <span class="keyword">int</span>[arr1.length];</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i &lt; arr1.length;i ++)&#123;</span><br><span class="line">arr2[i] = arr1[i];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>数组的反转：<br>数组元素的反转</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//①</span></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i &lt; arr.length/<span class="number">2</span>;i++)&#123;</span><br><span class="line"><span class="keyword">int</span> temp = arr[i];</span><br><span class="line">arr[i] = arr[arr.length-<span class="number">1</span> - i];</span><br><span class="line">arr[arr.length - <span class="number">1</span> - i] = temp;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//②</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> x = <span class="number">0</span>, y = arr.length - <span class="number">1</span>; x &lt; y; x++, y--) &#123;</span><br><span class="line"><span class="keyword">int</span> temp = arr[x];</span><br><span class="line">arr[x] = arr[y];</span><br><span class="line">arr[y] = temp;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>拓展:String str = “abcdefg”;</p><h3 id="数组的排序"><a href="#数组的排序" class="headerlink" title="数组的排序"></a>数组的排序</h3><ul><li>插入排序: 直接插入排序、折半插入排序、Shell排序</li><li><p>交换排序: 冒泡排序、快速排序(或分区交换排序)</p></li><li><p>选择排序: 简单选择排序、堆排序</p></li><li><p>归并排序</p></li><li><p>基数排序</p></li></ul><p>使用冒泡排序使数组元素从小到大排列</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; arr.length - <span class="number">1</span>; i++) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; arr.length - <span class="number">1</span> - i; j++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (arr[j] &gt; arr[j + <span class="number">1</span>]) &#123;</span><br><span class="line">            <span class="keyword">int</span> temp = arr[j];</span><br><span class="line">            arr[j] = arr[j + <span class="number">1</span>];</span><br><span class="line">            arr[j + <span class="number">1</span>] = temp;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>使用直接选择排序使数组元素从小到大排列</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; arr.length - <span class="number">1</span>; i++)&#123;</span><br><span class="line"><span class="keyword">int</span> t = i;<span class="comment">//默认i处是最小的</span></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> j = i;j &lt; arr.length;j++)&#123;</span><br><span class="line"><span class="comment">//一旦在i后发现存在比其小的元素，就记录那个元素的下角标</span></span><br><span class="line"><span class="keyword">if</span>(arr[t] &gt; arr[j])&#123;</span><br><span class="line">t = j;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(t != i)&#123;</span><br><span class="line"><span class="keyword">int</span> temp = arr[t];</span><br><span class="line">arr[t] = arr[i];</span><br><span class="line">arr[i] = temp;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>还可以调用: Arrays工具类: <font style="color:red;font-weight:bold">Arrays.sort(arr);</font></p>]]></content>
      
      
      <categories>
          
          <category> JavaSE </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaSE </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Java基本语法2</title>
      <link href="/test/JavaSE2-2.html"/>
      <url>/test/JavaSE2-2.html</url>
      
        <content type="html"><![CDATA[<h1 id="Java的一些基本语法"><a href="#Java的一些基本语法" class="headerlink" title="Java的一些基本语法"></a>Java的一些基本语法</h1><a id="more"></a><h2 id="4-流程控制"><a href="#4-流程控制" class="headerlink" title="4.流程控制"></a><font color="black">4.流程控制</font></h2><h3 id="A-顺序结构"><a href="#A-顺序结构" class="headerlink" title="A.顺序结构"></a>A.顺序结构</h3><p>程序从上往下的顺序执行</p><h3 id="B-分支结构"><a href="#B-分支结构" class="headerlink" title="B.分支结构"></a>B.分支结构</h3><p>if-else &amp; switch-case</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">①<span class="keyword">if</span>(条件表达式)&#123;   &#125;</span><br><span class="line">②<span class="keyword">if</span>(条件表达式)&#123;</span><br><span class="line"><span class="comment">//执行的语句1;</span></span><br><span class="line">   &#125;<span class="keyword">else</span>&#123;</span><br><span class="line"><span class="comment">//执行的语句2;</span></span><br><span class="line">   &#125;</span><br><span class="line">③<span class="keyword">if</span>(条件表达式<span class="number">1</span>)&#123;</span><br><span class="line"><span class="comment">//执行的语句1;</span></span><br><span class="line">   &#125;<span class="keyword">else</span> <span class="keyword">if</span>(条件表达式<span class="number">2</span>)&#123;</span><br><span class="line"><span class="comment">//执行的语句2;</span></span><br><span class="line">   &#125;<span class="keyword">else</span> <span class="keyword">if</span>( 条件表达式<span class="number">3</span>)&#123;</span><br><span class="line"><span class="comment">//执行的语句3;</span></span><br><span class="line">   &#125;...</span><br><span class="line">   &#125;<span class="keyword">else</span>&#123;</span><br><span class="line"><span class="comment">//执行的语句;</span></span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure><p>[注意]<br>&emsp;&emsp;1.一旦满足某个条件表达式, 则进入其执行语句块执行, 执行完毕, 跳出当前的条件判断结构, 不会执行剩下的条件结构语句.</p><p>&emsp;&emsp;2.如果多个条件表达式之间为“互斥”关系, 多个结构可以上下调换顺序<br>如果多个条件表达式之间为“包含”关系, 要求条件表达式范围小的写在范围大的上面.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">switch</span>(变量)&#123;</span><br><span class="line"><span class="keyword">case</span> 值<span class="number">1</span>:</span><br><span class="line"><span class="comment">//break;</span></span><br><span class="line"><span class="keyword">case</span> 值<span class="number">2</span>:</span><br><span class="line"><span class="comment">//break;</span></span><br><span class="line">...</span><br><span class="line"><span class="keyword">default</span>:</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>[注意]<br>1.变量可以为如下的数据类型:byte  short int char 枚举 String(jdk1.7)<br>2.case后只能填写变量的值, 不能写范围.<br>3.default是可以省略的, 并且其位置也是灵活的, 但通常将其放在case语句之后.<br>4.一旦满足某个case语句, 则进入执行其操作, 直至遇到break或者程序终止.<br>5.若要判断的语句的条件满足switch变量的数据类型, 且值不多的情况下, 建议选择switch-case .<br>除此之外, 选择if-else.</p><p><strong>[例题]从键盘输入三个int类型的数存入三个int变量, 利用if-else实现对三个数的排序, 并输出.</strong><br><strong>[例题]输入一个年月日, 像: 2019/7/20, 输出该天是这一年中的哪一天.</strong></p><h3 id="C-循环结构"><a href="#C-循环结构" class="headerlink" title="C.循环结构"></a>C.循环结构</h3><p>格式:</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(①;②;③)&#123;</span><br><span class="line">④</span><br><span class="line">&#125;</span><br><span class="line">①</span><br><span class="line"><span class="keyword">while</span>(②)&#123;</span><br><span class="line">④</span><br><span class="line">③</span><br><span class="line">&#125;</span><br><span class="line">①</span><br><span class="line"><span class="keyword">do</span>&#123;</span><br><span class="line">④</span><br><span class="line">③</span><br><span class="line">&#125;<span class="keyword">while</span>(②);</span><br></pre></td></tr></table></figure><p>①初始化条件<br>②循环条件<br>③迭代部分<br>④循环体</p><p>注意 1.不同的循环结构之间可以相互转换<br>&emsp;&emsp; 2.while和do-while的区别; do-while程序至少会执行一次</p><p>嵌套循环: 上述循环体嵌套循环体<br>若外层循环执行m次, 内层循环执行n次, 整个程序执行m*n次 .</p><p><strong>[例题]输出九九乘法表</strong></p><p><strong>[例题]输出100内的质数.(两种)</strong></p><p>无限循环结构:</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(;;)&#123;</span><br><span class="line">   ...</span><br><span class="line">   <span class="keyword">if</span>(  )&#123;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">   &#125;</span><br><span class="line">   ...</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//或者</span></span><br><span class="line"><span class="keyword">while</span>(<span class="keyword">true</span>)&#123;</span><br><span class="line">   ...</span><br><span class="line">   <span class="keyword">if</span>(  )&#123;</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">   &#125;</span><br><span class="line">   ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>我们往往会在无限循环结构内部提供循环的终止条件, 使用break关键字跳出循环.避免死循环.</p><h3 id="D-break-amp-continue"><a href="#D-break-amp-continue" class="headerlink" title="D.break&amp;continue"></a>D.break&amp;continue</h3><h4 id="break"><a href="#break" class="headerlink" title="break:"></a>break:</h4><p>使用switch-case结构或者循环结构中<br>在循环结构中, 一旦执行到break, 就跳出当前循环 .</p><h4 id="continue"><a href="#continue" class="headerlink" title="continue:"></a>continue:</h4><p>使用在循环结构中, 一旦执行到continue, 就跳出当次循环, 继续执行下一次循环.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>;i &lt;= <span class="number">10</span>;i++)&#123;</span><br><span class="line"><span class="keyword">if</span>(i % <span class="number">4</span> == <span class="number">0</span>)&#123;</span><br><span class="line"><span class="comment">//break; //程序执行结果:123</span></span><br><span class="line"><span class="keyword">continue</span>;  <span class="comment">//程序执行结果:123567910</span></span><br><span class="line">&#125;</span><br><span class="line">System.out.print(i);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>在嵌套循环中, 使用带标签的break和continue.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">label:<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>;i &lt; <span class="number">5</span>;i++)&#123;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">1</span>;j &lt;= <span class="number">10</span>;j++)&#123;</span><br><span class="line"><span class="keyword">if</span>(j % <span class="number">4</span> == <span class="number">0</span>)&#123;</span><br><span class="line"><span class="comment">//break;</span></span><br><span class="line"><span class="comment">//continue;</span></span><br><span class="line"><span class="comment">//break label;</span></span><br><span class="line"><span class="keyword">continue</span> label;</span><br><span class="line">&#125;</span><br><span class="line">System.out.print(j);</span><br><span class="line">&#125;</span><br><span class="line">System.out.println();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> JavaSE </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaSE </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Java基本语法1</title>
      <link href="/test/JavaSE2-1.html"/>
      <url>/test/JavaSE2-1.html</url>
      
        <content type="html"><![CDATA[<h1 id="一-Java的一些基本语法"><a href="#一-Java的一些基本语法" class="headerlink" title="一.Java的一些基本语法"></a>一.Java的一些基本语法</h1><a id="more"></a><h2 id="1-关键字＆标识符"><a href="#1-关键字＆标识符" class="headerlink" title="1.关键字＆标识符"></a><font color="black">1.关键字＆标识符</font></h2><p>关键字: 被Java语言赋予了特殊含义, 用做专门用途的字符串(单词), <font color="red">关键字全是小写的</font></p><p>保留字: 以后可能用来作为关键字</p><p>标识符: 凡是自己可以起名字的地方都叫标识符</p><h3 id="命名规则"><a href="#命名规则" class="headerlink" title="命名规则:"></a>命名规则:</h3><p>&emsp;&emsp;一定要遵守, 不遵守就会报编译的错误</p><p>由26个<font style="color:red;font-weight:bold;">英文字母大小写,0-9, _或 $ </font>组成  数字不可以开头.<br>不可以使用关键字和保留字, 但能包含关键字和保留字.<br>Java中严格区分大小写, 长度无限制.<br>标识符不能包含空格.</p><h3 id="命名规范"><a href="#命名规范" class="headerlink" title="命名规范:"></a>命名规范:</h3><p>&emsp;&emsp;不遵守, 也不会出现编译的错误</p><p>包名: 多单词组成时所有字母都小写: xxxyyyzzz<br>类名、接口名: 多单词组成时, 所有单词的首字母大写: XxxYyyZzz<br>变量名、方法名: 多单词组成时, 第一个单词首字母小写, 第二个单词开始每个单词首字母大写: xxxYyyZzz<br>常量名: 所有字母都大写, 多单词时每个单词用下划线连接: XXX_YYY_ZZZ</p><h2 id="2-变量"><a href="#2-变量" class="headerlink" title="2.变量"></a><font color="black">2.变量</font></h2><ol><li>Java中变量按照数据类型来分类: <strong>基本数据类型</strong> vs  <strong>引用数据类型</strong>(数组 类 接口)</li></ol><h3 id="基本数据类型"><a href="#基本数据类型" class="headerlink" title="基本数据类型:"></a>基本数据类型:</h3><p>​     整型: byte(8 bit,-128~127)  short(-32768~32767)   int(默认类型,-2^31~2^31-1)   long<br>​     浮点型: float double (默认类型)<br>​     <strong>字符型: char（‘ ’）16 bit</strong>    是以十六进制保存的字符,例:char ch = ‘\u0041’;为’A’<br>​     布尔类型:  boolean (只能取值为true 或false, 不能取null)<br>​     String类型(引用数据类型): 值可以为null<br>数据类型    变量名 = 初始化值;<br>​     补充: 按照在类中存在的位置的不同: 成员变量 vs 局部变量<br>​     成员变量在声明时会被默认初始化, 因此可以在声明后直接使用, 而局部变量在使用之前必须先初始化<br>​     声明: long型常量需后缀”l”或”L”,long lo = 123L;<br>​     float类型变量要后缀”f”或”F”,float f = 12.3F;</p><p>2.进制(了解)<br>    十进制  二进制  八进制 十六进制</p><p>二进制: 计算机底层都是用二进制来存储、运算.</p><blockquote><p>二进制 与十进制之间的转换.<br>二进制在底层存储: 正数、负数都是以补码的形式存储的.(原码、反码、补码)<br>四种进制间的转换</p></blockquote><p>3.变量的运算:<br>   ①<strong>自动类型转换</strong>: 容量小的数据类型自动转换为容量大的数据类型转换.<br>    short s = 12;<br>    int i = s + 2;<br>    注意: byte  short char之间做运算, 结果为int型!<br>   ②<strong>强制类型转换</strong>: 是①的逆过程.使用“()”实现强转.</p><h2 id="3-运算符"><a href="#3-运算符" class="headerlink" title="3.运算符"></a><font color="black">3.运算符</font></h2><p>运算符是一种特殊的符号, 用以表示数据的运算.</p><h3 id="A-算术运算符"><a href="#A-算术运算符" class="headerlink" title="A.算术运算符:"></a>A.算术运算符:</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">+ - /  % ++ -- +</span><br></pre></td></tr></table></figure><p>注意:</p><p>1) /:  int i = 12; i = i / 5;地板除<br>2) %: 取模, 结果的符号与被模数相同<br>3) 前++: 先+1, 后运算     后++: 先运算, 后+1<br>4) +: String字符串与其他数据类型只能做连接运算, 且结果为String类型.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sysout(<span class="string">"*"</span> + <span class="string">'\t'</span> + <span class="string">'*'</span>); <span class="function">vs <span class="title">sysout</span><span class="params">(<span class="string">'*'</span> + <span class="string">'\t'</span> + <span class="string">'*'</span>)</span></span>;结果为<span class="number">93</span></span><br><span class="line"><span class="comment">//sysout为Java的快捷键用法, 先输入sysout, 再按"Alt + /", 即可打出System.out.println();</span></span><br></pre></td></tr></table></figure><h3 id="B-赋值运算符"><a href="#B-赋值运算符" class="headerlink" title="B.赋值运算符:"></a>B.赋值运算符:</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//=    +=   -=  *=    /=   %=</span></span><br><span class="line"><span class="keyword">int</span> i = <span class="number">12</span>;</span><br><span class="line">i  = i * <span class="number">5</span>;</span><br><span class="line">i *= <span class="number">5</span>;<span class="comment">//与上一行代码同样的意思</span></span><br><span class="line"><span class="comment">//[特别地]</span></span><br><span class="line"><span class="keyword">short</span> s = <span class="number">10</span>;</span><br><span class="line">s = s + <span class="number">5</span>;<span class="comment">//报编译的异常，s+5会被默认转化为int类型，再赋值给short会出错</span></span><br><span class="line">s = (<span class="keyword">short</span>)(s + <span class="number">5</span>);<span class="comment">//强制类型转换便不会异常</span></span><br><span class="line">s += <span class="number">5</span>;<span class="comment">//相当于, s = s + 5, 但两者并不完全等价, 但是结果不会改变s的数据类型.</span></span><br></pre></td></tr></table></figure><h3 id="C-比较运算符-关系运算符"><a href="#C-比较运算符-关系运算符" class="headerlink" title="C.比较运算符(关系运算符)"></a>C.比较运算符(关系运算符)</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">==  &gt;   &lt;  &gt;=   &lt;=    <span class="keyword">instanceof</span></span><br></pre></td></tr></table></figure><p>[注意]  区分 ==  与 =  区别.<br>进行比较运算操作以后,返回一个boolean类型的值(true或false)<br>4&gt;=3  表达的是4 &gt; 3或者 4 = 3.结果是true.</p><p>if(i &gt; 1 &amp;&amp; i &lt; 10){  }   不能写为: if(1 &lt; i &lt; 10){}</p><h3 id="D-逻辑运算符-运算符的两端是boolean值"><a href="#D-逻辑运算符-运算符的两端是boolean值" class="headerlink" title="D.逻辑运算符(运算符的两端是boolean值)"></a>D.逻辑运算符(运算符的两端是boolean值)</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&amp;  &amp;&amp;  |  ||  ^  !</span><br></pre></td></tr></table></figure><p>[注意]区分&amp;与&amp;&amp;的区别, 以及 | 与 || 的区别<br>      我们使用的时候, 选择 &amp;&amp; , ||  <font color="red">短路与、短路或</font></p><h3 id="E-位运算符-两端是数值类型的数据"><a href="#E-位运算符-两端是数值类型的数据" class="headerlink" title="E.位运算符(两端是数值类型的数据)"></a>E.位运算符(两端是数值类型的数据)</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;&lt;   &gt;&gt;    &gt;&gt;&gt;(无符号右移)  &amp;  |   ^(异或)  ~(按位取反)</span><br></pre></td></tr></table></figure><p>[例子] 1.如何交换m = 12和n = 5的值<br>           2.将60转换为十六进制输出.</p><h3 id="F-三元运算符"><a href="#F-三元运算符" class="headerlink" title="F.三元运算符"></a>F.三元运算符</h3><p><font color="red">(条件表达式) ? 表达式1 : 表达式2;</font><br>1) 既然是运算符, 一定会返回一个结果, 并且结果的数据类型与表达式1, 2的类型一致<br>2) <strong>表达式1与表达式2的数据类型一致</strong>.<br>3) 使用三元运算符的, 一定可以转换为if-else. 反之不一定成立.<br>4) ?: 可以嵌套使用<br>例子: 获取两个数的较大值; 获取三个数的最大值.</p><div><div class="fold_hider"><div class="close hider_title">点击显/隐内容</div></div><div class="fold"><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> i = <span class="number">0</span>, j = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">int</span> max = (i &gt; j) ? i : j;</span><br><span class="line"><span class="keyword">int</span> k = <span class="number">2</span>;</span><br><span class="line"><span class="keyword">int</span> max2 = (i &gt; j) ? ((i &gt; k) ? i : k) : (( j &gt; k) ? j : k);</span><br></pre></td></tr></table></figure></div></div>]]></content>
      
      
      <categories>
          
          <category> JavaSE </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaSE </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JavaSE概述</title>
      <link href="/test/JavaSE1-0.html"/>
      <url>/test/JavaSE1-0.html</url>
      
        <content type="html"><![CDATA[<h1 id="走进Java"><a href="#走进Java" class="headerlink" title="走进Java"></a>走进Java</h1><a id="more"></a><h2 id="一-关于Java"><a href="#一-关于Java" class="headerlink" title="一.关于Java"></a><font color="black">一.关于Java</font></h2><p>①关于Java语言, 其实它很简单, 就是我们人类与计算机交流的语言, 就像人类的语言: 英语、汉语……<br>②Java之父: 詹姆斯·高斯林, 他曾说过, C语言是撑起一切的基石, C语言之父: 丹尼斯·里奇<br>③Java语言由类C、C++等衍生出来, 属于完全面向对象的语言<br>④Java的技术体系平台: JavaSE、JavaEE、JavaME</p><p><img src="imgs\Java\JavaSE图解.png" alt="JavaSE图解"></p><h2 id="二-关于计算机"><a href="#二-关于计算机" class="headerlink" title="二.关于计算机"></a><font color="black">二.关于计算机</font></h2><p>1.计算机软件软件:  系统软件  and  应用软件</p><p>2.人与计算机做交互:  使用计算机语言.<br>        图形化界面(GUI)  vs  命令行方式(CLI): dir  md rd  cd  cd..  cd/  del  exit  echo  content  &gt;temp.txt<br>3.语言的分类:  第一代: 机器语言;  第二代: 汇编语言;  第三代: 高级语言(面向过程  — 面向对象)</p><p><font style="color:red;font-weight:bold;">4.java语言的特性: ①面向对象性 ②健壮性 ③跨平台性(write once,run anywhere)—JVM</font><br>    不同的系统有不同的JVM(Java Virtual Machine即Java虚拟机), 所以要想编写Java程序, 就要在自己的系统上安装JVM等部件. 学习Java, 我们首先要做的, 就是安装JDK环境.</p><h3 id="5-安装JDK及配置系统的path环境变量"><a href="#5-安装JDK及配置系统的path环境变量" class="headerlink" title="5.安装JDK及配置系统的path环境变量"></a>5.安装JDK及配置系统的path环境变量</h3><p>​    1)傻瓜式安装<a href="https://pan.baidu.com/s/1tjiG7KHYKSfdcWDW5Rm9Xw" target="_blank" rel="noopener">JDK</a>(提取码: et1y).<br>​    2)path: window操作系统在执行cmd命令时所要搜寻的路径.<br>​    我们需要将jdk中bin目录所在的路径: D:\Program Files\Java\jdk1.8.0_131\bin 保存在path环境变量下.<br>​    3)测试: 在命令行窗口, 任意的文件目录下, 执行javac.exe 或者java.exe都可以调用成功.<br>​    JDK(Java Development Kit, Java语言的软件开发工具包即Java的SDK, Software Development Kit)<br>​    JDK包含JRE(Java Runtime Environment, Java运行时环境), JRE包含JVM和一些常用的Java库类<br>​    &gt;河床好比操作底层, jdk好比是河水, java应用程序好比是船.</p><p><img src="imgs\Java\JDK.png" alt="JDK"></p><h3 id="6-如何编写并运行第一个java程序"><a href="#6-如何编写并运行第一个java程序" class="headerlink" title="6.如何编写并运行第一个java程序"></a>6.如何编写并运行第一个java程序</h3><p>​    [过程]编写—-编译(javac.exe)—-运行(java.exe)<br>1)编写: 每一个java文件都是.java结尾的, 称为源文件[HelloWorld.java], java程序就存在于源文件中</p><p>如下, 第一个Java程序:</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HelloWorld</span></span>&#123;</span><br><span class="line"><span class="comment">//程序的主方法，是程序的入口</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String args[])</span></span>&#123;</span><br><span class="line"><span class="comment">//要执行的代码</span></span><br><span class="line">System.out.println(<span class="string">"HelloWorld"</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;<span class="comment">//假设这是在桌面上的源文件HelloWorld.java中的源代码, 执行过程如下:</span></span><br></pre></td></tr></table></figure><p>①win+R键, 再输入cmd进入命令行模式, 通过cd desktop命令进入桌面<br>②通过javac HelloWorld.java命令编译源文件生成字节码文件<br>③通过java HelloWorld命令解释运行字节码文件, 之后控制台会输出HelloWorld</p><p>注意点：<br>①<strong>Java源文件以“java”为扩展名. 源文件的基本组成部分是类(class),</strong> 如本例中的HelloWorld类.<br>②<strong>一个源文件中最多只能有一个public类</strong>, 其它类的个数不限, 如果源文件包含一个<strong>public类, 则.java文件名必须与该类名一致.</strong><br>③Java应用程序的执行入口是<strong>main()方法</strong>, 它有固定的书写格式: <strong>public static void main(String[] args){}</strong><br>④Java语言严格区分大小写.<br>⑤Java方法由一条条语句构成, 每个语句以“;”结束.<br>⑥大括号都是成对出现的,缺一不可.</p><p>2)编译:  在源文件所在的目录下, 执行javac.exe 源文件名.java;生成一个或多个.class结尾的字节码文件<br>3)运行:  生成的字节码文件通过java.exe解释执行</p><p>7.会调试程序中出现的问题</p><p>8.注释:  ①单行注释 //    ②多行注释  /<em>    </em>/   （多行注释不能够嵌套）<br>              ③文档注释 /*<em>    </em>/        javadoc  -d 文件目录名 -author -version 源文件名.java;</p><p>​    其中文档注释是JAVA特有的<br>9.JDK提供的关于旗下所有的包&amp;类的说明文档: API</p>]]></content>
      
      
      <categories>
          
          <category> JavaSE </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaSE </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>VPS和shadowsocks搭建VPN</title>
      <link href="/test/VPN.html"/>
      <url>/test/VPN.html</url>
      
        <content type="html"><![CDATA[<p>用VPS和shadowsocks搭建VPN, 手机端也能用的VPN</p><a id="more"></a><h1 id="1-前期准备"><a href="#1-前期准备" class="headerlink" title="1.前期准备"></a>1.前期准备</h1><ul><li>购买一个国外的VPS, 建议CentOS7系统</li><li>安装<a href="https://xshell.en.softonic.com/download" target="_blank" rel="noopener">XShell</a>, 用来远程连接你的VPS</li><li>安装<a href="https://www.netsarang.com/zh/xftp/" target="_blank" rel="noopener">XFTP</a>, 用来向你的VPS传输文件</li></ul><h1 id="2-安装-amp-配置shadowsocks"><a href="#2-安装-amp-配置shadowsocks" class="headerlink" title="2.安装&amp;配置shadowsocks"></a>2.安装&amp;配置shadowsocks</h1><p>&emsp;&emsp;启动XShell, 输入主机, 点击用户身份验证, 输入用户名:root, 和你的root密码</p><p><img src="imgs\shell.png" alt="shell"></p><h3 id="A-先用shell命令安装pip"><a href="#A-先用shell命令安装pip" class="headerlink" title="A.先用shell命令安装pip"></a>A.先用shell命令安装pip</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span>有yum可以用yum安装pip</span><br><span class="line">yum install python-setuptools</span><br><span class="line">easy_install pip</span><br><span class="line"><span class="meta">#</span>没有的用下面命令安装pip, 没有python需要先安装python</span><br><span class="line">wget https://bootstrap.pypa.io/get-pip.py</span><br><span class="line">python get-pip.py</span><br><span class="line"><span class="meta">#</span>安装完pip后, 用pip安装shadowsocks</span><br><span class="line">pip install shadowsocks</span><br></pre></td></tr></table></figure><h3 id="B-配置VPS上的shadowsocks"><a href="#B-配置VPS上的shadowsocks" class="headerlink" title="B.配置VPS上的shadowsocks"></a>B.配置VPS上的shadowsocks</h3><p>&emsp;&emsp;启动XFTP, 同XShell连接远程VPS, 将新建的shadowsocks.json文件, 上传到/etc目录下</p><p><strong><a href="https://pan.baidu.com/s/1O2Ay5j35HfugFqrkpjmPdw" target="_blank" rel="noopener">shadowsocks.json</a>(提取码: 4k4l,下载的话请重命名)文件要用UTF-8编码</strong>, 内容如下:</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"server"</span>:<span class="string">"你的VPSIPv4地址"</span>,</span><br><span class="line">  <span class="attr">"local_address"</span>:<span class="string">"127.0.0.1"</span>,</span><br><span class="line">  <span class="attr">"local_port"</span>:<span class="number">1080</span>,</span><br><span class="line">  <span class="attr">"port_password"</span>:&#123;</span><br><span class="line">   <span class="attr">"443"</span>:<span class="string">"自己随便设置一个连接这个VPN的密码"</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">"timeout"</span>:<span class="number">300</span>,</span><br><span class="line">  <span class="attr">"method"</span>:<span class="string">"aes-256-cfb"</span>,</span><br><span class="line">  <span class="attr">"fast_open"</span>:<span class="literal">false</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="C-开启shadowsocks服务"><a href="#C-开启shadowsocks服务" class="headerlink" title="C.开启shadowsocks服务"></a>C.开启shadowsocks服务</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span>用以下命令之一关闭防火墙</span><br><span class="line">service iptables stop</span><br><span class="line">service firewalld stop</span><br><span class="line"><span class="meta">#</span>禁止firewall开机启动</span><br><span class="line">systemctl disable firewalld.service</span><br><span class="line"><span class="meta">#</span>加载shadowsocks配置</span><br><span class="line">ssserver -c /etc/shadowsocks.json</span><br><span class="line"><span class="meta">#</span>开启shadowsocks服务</span><br><span class="line">ssserver -c /etc/shadowsocks.json -d start</span><br><span class="line"><span class="meta">#</span>关闭shadowsocks服务</span><br><span class="line">ssserver -c /etc/shadowsocks.json -d stop</span><br></pre></td></tr></table></figure><h1 id="3-本地配置shadowsocks"><a href="#3-本地配置shadowsocks" class="headerlink" title="3.本地配置shadowsocks"></a>3.本地配置shadowsocks</h1><ul><li><a href="https://github.com/shadowsocks/shadowsocks-android/releases" target="_blank" rel="noopener">Android</a></li><li><a href="https://github.com/shadowsocks/shadowsocks-windows/releases" target="_blank" rel="noopener">Windows</a></li><li>IPhone(<a href="https://pan.baidu.com/s/1-YNaEjIsVk8IKBsJ07YEOQ" target="_blank" rel="noopener">百度网盘</a>提取码: lagp, 链接失效请向博主索取)</li></ul><h3 id="A-Windows配置"><a href="#A-Windows配置" class="headerlink" title="A.Windows配置"></a>A.Windows配置</h3><p>下载解压文件, 运行exe文件, 如图配置:</p><p><img src="imgs\conf1.png" alt="conf1"></p><p>右键点击状态栏中的本软件, 再点击”启用系统代理”即开启VPN</p><p><img src="imgs\conf2.png" alt="conf2"></p><h3 id="B-Android配置-IPhone一样"><a href="#B-Android配置-IPhone一样" class="headerlink" title="B.Android配置(IPhone一样)"></a>B.Android配置(IPhone一样)</h3><p><img src="imgs\conf3.png" alt="conf3"></p>]]></content>
      
      
      
        <tags>
            
            <tag> VPN </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexo代码一键复制</title>
      <link href="/test/copy-code.html"/>
      <url>/test/copy-code.html</url>
      
        <content type="html"><![CDATA[<p>有时候代码块是真的多啊, 添加一个一键复制功能吧</p><a id="more"></a><h1 id="1-需要的JS文件"><a href="#1-需要的JS文件" class="headerlink" title="1.需要的JS文件"></a>1.需要的JS文件</h1><ul><li><a href="https://pan.baidu.com/s/1e9QsLHh2bV1SR-pDjs0lWA" target="_blank" rel="noopener">clipboard.min.js</a>(提取码: p3xj)</li><li><a href="https://pan.baidu.com/s/1SydF42fBbfXg3pk-rhO5Tw" target="_blank" rel="noopener">clipboard-use.js</a>(提取码: sbsk)</li></ul><p>将以上js文件放到主题的js文件目录下.</p><p>clipboard-use.js:</p><div><div class="fold_hider"><div class="close hider_title">点击显/隐内容</div></div><div class="fold"><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line">!<span class="function"><span class="keyword">function</span> (<span class="params">e, t, a</span>) </span>&#123;</span><br><span class="line">    <span class="comment">/* code */</span></span><br><span class="line">    <span class="keyword">var</span> initCopyCode = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">var</span> copyHtml = <span class="string">''</span>;</span><br><span class="line">        copyHtml += <span class="string">'&lt;button class="btn-copy" data-clipboard-snippet=""&gt;'</span>;</span><br><span class="line">        copyHtml += <span class="string">'  &lt;i class="fa fa-copy"&gt;&lt;/i&gt;&lt;span&gt;Copy&lt;/span&gt;'</span>;</span><br><span class="line">        copyHtml += <span class="string">'&lt;/button&gt;'</span>;</span><br><span class="line">        $(<span class="string">".highlight .code pre"</span>).before(copyHtml);</span><br><span class="line">        <span class="keyword">var</span> clipboard = <span class="keyword">new</span> ClipboardJS(<span class="string">'.btn-copy'</span>, &#123;</span><br><span class="line">            target: <span class="function"><span class="keyword">function</span>(<span class="params">trigger</span>) </span>&#123;</span><br><span class="line">                <span class="keyword">return</span> trigger.nextElementSibling;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">        clipboard.on(<span class="string">'success'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">            <span class="comment">//您可以加入成功提示</span></span><br><span class="line">            <span class="built_in">console</span>.info(<span class="string">'Action:'</span>, e.action);</span><br><span class="line">            <span class="built_in">console</span>.info(<span class="string">'Text:'</span>, e.text);</span><br><span class="line">            <span class="built_in">console</span>.info(<span class="string">'Trigger:'</span>, e.trigger);</span><br><span class="line">            success_prompt(COPY_SUCCESS);</span><br><span class="line">            e.clearSelection();</span><br><span class="line">        &#125;);</span><br><span class="line">        clipboard.on(<span class="string">'error'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">            <span class="comment">//您可以加入失败提示</span></span><br><span class="line">            <span class="built_in">console</span>.error(<span class="string">'Action:'</span>, e.action);</span><br><span class="line">            <span class="built_in">console</span>.error(<span class="string">'Trigger:'</span>, e.trigger);</span><br><span class="line">            fail_prompt(COPY_FAILURE);</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">    initCopyCode();</span><br><span class="line">&#125;(<span class="built_in">window</span>, <span class="built_in">document</span>);</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">   * 弹出式提示框，默认1.5秒自动消失</span></span><br><span class="line"><span class="comment">   * @param message 提示信息</span></span><br><span class="line"><span class="comment">   * @param style 提示样式，有alert-success、alert-danger、alert-warning、alert-info</span></span><br><span class="line"><span class="comment">   * @param time 消失时间</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line"><span class="keyword">var</span> prompt = <span class="function"><span class="keyword">function</span> (<span class="params">message, style, time</span>)</span>&#123;</span><br><span class="line">    style = (style === <span class="literal">undefined</span>) ? <span class="string">'alert-success'</span> : style;</span><br><span class="line">    time = (time === <span class="literal">undefined</span>) ? <span class="number">1500</span> : time*<span class="number">1000</span>;</span><br><span class="line">    $(<span class="string">'&lt;div&gt;'</span>)</span><br><span class="line">        .appendTo(<span class="string">'body'</span>)</span><br><span class="line">        .addClass(<span class="string">'alert '</span> + style)</span><br><span class="line">        .html(message)</span><br><span class="line">        .show()</span><br><span class="line">        .delay(time)</span><br><span class="line">        .fadeOut();</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// 成功提示</span></span><br><span class="line"><span class="keyword">var</span> success_prompt = <span class="function"><span class="keyword">function</span>(<span class="params">message, time</span>)</span>&#123;</span><br><span class="line">    prompt(message, <span class="string">'alert-success'</span>, time);</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// 失败提示</span></span><br><span class="line"><span class="keyword">var</span> fail_prompt = <span class="function"><span class="keyword">function</span>(<span class="params">message, time</span>)</span>&#123;</span><br><span class="line">    prompt(message, <span class="string">'alert-danger'</span>, time);</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// 提醒</span></span><br><span class="line"><span class="keyword">var</span> warning_prompt = <span class="function"><span class="keyword">function</span>(<span class="params">message, time</span>)</span>&#123;</span><br><span class="line">    prompt(message, <span class="string">'alert-warning'</span>, time);</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// 信息提示</span></span><br><span class="line"><span class="keyword">var</span> info_prompt = <span class="function"><span class="keyword">function</span>(<span class="params">message, time</span>)</span>&#123;</span><br><span class="line">    prompt(message, <span class="string">'alert-info'</span>, time);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></div></div><h1 id="2-引入JS文件"><a href="#2-引入JS文件" class="headerlink" title="2.引入JS文件"></a>2.引入JS文件</h1><p>将JS文件引入的模板footer里, 一定要输入对你自己的src路径</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"/blog/js/clipboard.min.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span>  </span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"/blog/js/clipboard-use.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h1 id="3-配置样式表"><a href="#3-配置样式表" class="headerlink" title="3.配置样式表"></a>3.配置样式表</h1><p>将下列代码添加到主题的样式表里, 根据自己的div修改</p><div><div class="fold_hider"><div class="close hider_title">点击显/隐内容</div></div><div class="fold"><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line">//代码块复制按钮</span><br><span class="line"><span class="selector-class">.highlight</span>&#123;</span><br><span class="line">    //方便copy代码按钮（btn-copy）的定位</span><br><span class="line">    <span class="selector-tag">position</span>: <span class="selector-tag">relative</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.btn-copy</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: inline-block;</span><br><span class="line">    <span class="attribute">cursor</span>: pointer;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#eee</span>;</span><br><span class="line">    <span class="attribute">background-image</span>: <span class="built_in">linear-gradient</span>(#fcfcfc,#eee);</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#d5d5d5</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">3px</span>;</span><br><span class="line">    <span class="attribute">-webkit-user-select</span>: none;</span><br><span class="line">    <span class="attribute">-moz-user-select</span>: none;</span><br><span class="line">    <span class="attribute">-ms-user-select</span>: none;</span><br><span class="line">    <span class="attribute">user-select</span>: none;</span><br><span class="line">    <span class="attribute">-webkit-appearance</span>: none;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">13px</span>;</span><br><span class="line">    <span class="attribute">font-weight</span>: <span class="number">700</span>;</span><br><span class="line">    <span class="attribute">line-height</span>: <span class="number">20px</span>;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#333</span>;</span><br><span class="line">    <span class="attribute">-webkit-transition</span>: opacity .<span class="number">3s</span> ease-in-out;</span><br><span class="line">    <span class="attribute">-o-transition</span>: opacity .<span class="number">3s</span> ease-in-out;</span><br><span class="line">    <span class="attribute">transition</span>: opacity .<span class="number">3s</span> ease-in-out;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">2px</span> <span class="number">6px</span>;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">right</span>: <span class="number">5px</span>;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">5px</span>;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.btn-copy</span> <span class="selector-tag">span</span> &#123;</span><br><span class="line">    <span class="attribute">margin-left</span>: <span class="number">5px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.highlight</span><span class="selector-pseudo">:hover</span> <span class="selector-class">.btn-copy</span>&#123;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line">//复制提示, 成功or失败</span><br><span class="line"><span class="selector-class">.alert</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: none;</span><br><span class="line">    <span class="attribute">position</span>: fixed;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">50%</span>;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">50%</span>;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">translate</span>(-50%,-50%);</span><br><span class="line">    <span class="attribute">z-index</span>: <span class="number">99999</span>;</span><br><span class="line">    <span class="attribute">text-align</span>: center;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">24px</span> <span class="number">36px</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: @border_radius_code_block;</span><br><span class="line">    <span class="attribute">box-shadow</span>: @boxshadow_card_normal;</span><br><span class="line">    <span class="attribute">font-family</span>: @fontfamily_base;</span><br><span class="line">    <span class="attribute">font-weight</span>: bold;</span><br><span class="line">    <span class="attribute">font-size</span>: @fontsize_base;</span><br><span class="line">    &amp;.alert-success &#123;</span><br><span class="line">        <span class="selector-tag">color</span>: <span class="selector-id">#ffffff</span>;</span><br><span class="line">        <span class="selector-tag">background-color</span>: <span class="selector-id">#1BC3FB</span>;</span><br><span class="line">        <span class="selector-tag">border-color</span>: <span class="selector-id">#d6e9c6</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    &amp;<span class="selector-class">.alert-info</span> &#123;</span><br><span class="line">        <span class="attribute">color</span>: <span class="number">#31708f</span>;</span><br><span class="line">        <span class="attribute">background-color</span>: <span class="number">#d9edf7</span>;</span><br><span class="line">        <span class="attribute">border-color</span>: <span class="number">#bce8f1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    &amp;<span class="selector-class">.alert-warning</span> &#123;</span><br><span class="line">        <span class="attribute">color</span>: <span class="number">#8a6d3b</span>;</span><br><span class="line">        <span class="attribute">background-color</span>: <span class="number">#fcf8e3</span>;</span><br><span class="line">        <span class="attribute">border-color</span>: <span class="number">#faebcc</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    &amp;<span class="selector-class">.alert-danger</span> &#123;</span><br><span class="line">        <span class="attribute">color</span>: <span class="number">#a94442</span>;</span><br><span class="line">        <span class="attribute">background-color</span>: <span class="number">#f2dede</span>;</span><br><span class="line">        <span class="attribute">border-color</span>: <span class="number">#ebccd1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></div>]]></content>
      
      
      <categories>
          
          <category> Hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexo为主题添加代码隐藏功能</title>
      <link href="/test/hide-code.html"/>
      <url>/test/hide-code.html</url>
      
        <content type="html"><![CDATA[<p>写博客有时候需要添加的代码真的很多, 而我们又不想让它显示在网页上.</p><p>添加一个代码隐藏功能吧!</p><a id="more"></a><p>&emsp;&emsp;首先, 你要明白不论添加一些什么功能, 无非是添加一些js插件实现.</p><h1 id="1-自定义内置标签"><a href="#1-自定义内置标签" class="headerlink" title="1.自定义内置标签"></a>1.自定义内置标签</h1><p>&emsp;&emsp;通过查看自定义标签的<a href="https://hexo.io/api/" target="_blank" rel="noopener">API</a>, 发现主题自带标签脚本都会存放在<code>themes/xxx/scripts/tag/xxx.js</code>中</p><p>首先, 我们要注册一个自己的代码隐藏内置标签fold.</p><p>新建<a href="https://pan.baidu.com/s/1MPnkw17z_3uWIsEu0nfWPg" target="_blank" rel="noopener">fold.js</a>(提取码: 0khu)文件, 路径(没有相应目录的自建)如图:</p><p><img src="imgs\fold.png" alt="fold"></p><p>内容:<div><div class="fold_hider"><div class="close hider_title">点击显/隐内容</div></div><div class="fold"><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* global hexo */</span></span><br><span class="line"><span class="comment">// Usage: &#123;% fold ???? %&#125; Something &#123;% endfold %&#125;</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fold</span> (<span class="params">args, content</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> text = args[<span class="number">0</span>];</span><br><span class="line">    <span class="keyword">if</span>(!text) text = <span class="string">"点击显/隐"</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">'&lt;div&gt;&lt;div class="fold_hider"&gt;&lt;div class="close hider_title"&gt;'</span> + text + <span class="string">'&lt;/div&gt;&lt;/div&gt;&lt;div class="fold"&gt;\n'</span> + hexo.render.renderSync(&#123;<span class="attr">text</span>: content, <span class="attr">engine</span>: <span class="string">'markdown'</span>&#125;) + <span class="string">'\n&lt;/div&gt;&lt;/div&gt;'</span>;</span><br><span class="line">&#125;</span><br><span class="line">hexo.extend.tag.register(<span class="string">'fold'</span>, fold, &#123;<span class="attr">ends</span>: <span class="literal">true</span>&#125;);</span><br></pre></td></tr></table></figure></div></div></p><h1 id="2-消除渲染undefined问题"><a href="#2-消除渲染undefined问题" class="headerlink" title="2.消除渲染undefined问题"></a>2.消除渲染undefined问题</h1><p>在scripts目录下添加一个<a href="https://pan.baidu.com/s/1-S1YsOh7B0G-QpQDeZ4iOQ" target="_blank" rel="noopener">tags.js</a>(提取码: giom)文件, 内容:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">修复在 fold 标签里写 ```代码块```，最终会被渲染成 undefined 的问题</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">const</span> rEscapeContent = <span class="regexp">/&lt;escape(?:[^&gt;]*)&gt;([\s\S]*?)&lt;\/escape&gt;/g</span>;</span><br><span class="line"><span class="keyword">const</span> placeholder = <span class="string">'\uFFFD'</span>;</span><br><span class="line"><span class="keyword">const</span> rPlaceholder = <span class="regexp">/(?:&lt;|&amp;lt;)\!--\uFFFD(\d+)--(?:&gt;|&amp;gt;)/g</span>;</span><br><span class="line"><span class="keyword">const</span> cache = [];</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">escapeContent</span>(<span class="params">str</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="string">'&lt;!--'</span> + placeholder + (cache.push(str) - <span class="number">1</span>) + <span class="string">'--&gt;'</span>;</span><br><span class="line">&#125;</span><br><span class="line">hexo.extend.filter.register(<span class="string">'before_post_render'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">data</span>) </span>&#123;</span><br><span class="line">  data.content = data.content.replace(rEscapeContent, <span class="function"><span class="keyword">function</span>(<span class="params">match, content</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> escapeContent(content);</span><br><span class="line">  &#125;);</span><br><span class="line">  <span class="keyword">return</span> data;</span><br><span class="line">&#125;);</span><br><span class="line">hexo.extend.filter.register(<span class="string">'after_post_render'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">data</span>) </span>&#123;</span><br><span class="line">  data.content = data.content.replace(rPlaceholder, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> cache[<span class="built_in">arguments</span>[<span class="number">1</span>]];</span><br><span class="line">  &#125;);</span><br><span class="line">  <span class="keyword">return</span> data;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h1 id="3-设置默认折叠代码"><a href="#3-设置默认折叠代码" class="headerlink" title="3.设置默认折叠代码"></a>3.设置默认折叠代码</h1><p>将下列代码复制到你的主题的JS(每个页面都会加载的JS)文件中</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="built_in">document</span>).ready(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    $(<span class="built_in">document</span>).on(<span class="string">'click'</span>, <span class="string">'.fold_hider'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        $(<span class="string">'&gt;.fold'</span>, <span class="keyword">this</span>.parentNode).slideToggle();</span><br><span class="line">        $(<span class="string">'&gt;:first'</span>, <span class="keyword">this</span>).toggleClass(<span class="string">'open'</span>);</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="comment">//默认情况下折叠</span></span><br><span class="line">$(<span class="string">"div.fold"</span>).css(<span class="string">"display"</span>, <span class="string">"none"</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h1 id="4-配置fold显示样式"><a href="#4-配置fold显示样式" class="headerlink" title="4.配置fold显示样式"></a>4.配置fold显示样式</h1><p>将下述代码复制到你的主题样式文件里:</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.hider_title</span>&#123;</span><br><span class="line">    <span class="attribute">font-family</span>: <span class="string">"Microsoft Yahei"</span>;</span><br><span class="line">    <span class="attribute">cursor</span>: pointer;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.close</span><span class="selector-pseudo">:after</span>&#123;</span><br><span class="line">    <span class="attribute">content</span>: <span class="string">"▼"</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.open</span><span class="selector-pseudo">:after</span>&#123;</span><br><span class="line">    <span class="attribute">content</span>: <span class="string">"▲"</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>利用Hexo和Gitee搭建一个静态博客</title>
      <link href="/test/Hexo.html"/>
      <url>/test/Hexo.html</url>
      
        <content type="html"><![CDATA[<p>没有服务器也可以哦</p><p>用github pages或gitee pages(中国的github)与Hexo搭建免费的个人博客</p><a id="more"></a><p>本文主要讲解gitee, github上搭建同理</p><h1 id="1-前期准备"><a href="#1-前期准备" class="headerlink" title="1.前期准备"></a>1.前期准备</h1><ul><li>有一个<a href="https://gitee.com/" target="_blank" rel="noopener">gitee</a>或github账号, 没有就先去注册一个</li><li>本地安装<a href="https://nodejs.org/en/download/" target="_blank" rel="noopener">node.js &amp; npm</a>,  <a href="https://jingyan.baidu.com/article/48b37f8dd141b41a646488bc.html" target="_blank" rel="noopener">配置教程</a></li><li>本地安装<a href="https://git-scm.com/downloads" target="_blank" rel="noopener">git for windows</a></li></ul><h1 id="2-创建gitee仓库开启pages服务"><a href="#2-创建gitee仓库开启pages服务" class="headerlink" title="2.创建gitee仓库开启pages服务"></a>2.创建gitee仓库开启pages服务</h1><p>&emsp;&emsp;先创建仓库, 点击右上角的加号; 再进入仓库, 开启pages服务, 如图:</p><p><img src="imgs\gitee.png" alt="gitee"></p><p><img src="imgs\pages.png" alt="gitee"></p><font style="color:red;font-weight:bold;font-size:1.5em;">注意: !!!每次用hexo d提交代码后, 都需要更新一下pages服务!!!</font><h1 id="3-Hexo的使用"><a href="#3-Hexo的使用" class="headerlink" title="3.Hexo的使用"></a>3.Hexo的使用</h1><p>&emsp;&emsp;Hexo是一个很常用的博客发布工具, 支持markdown格式(推荐一款<a href="https://www.typora.io/#windows" target="_blank" rel="noopener">md编译器</a>), 有很多插件和主题</p><p>一定要配置好系统的环境变量, 才能用npm和hexo命令</p><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">#全程在博客目录下进行, 先新建一个空文件夹(例:f:/blog), 再<span class="built_in">cd</span>进入</span><br><span class="line">#安装hexo</span><br><span class="line">npm install hexo-cli -g</span><br><span class="line">npm install hexo-server --save</span><br><span class="line">#用hexo新建项目, 生成站点</span><br><span class="line">hexo init</span><br><span class="line">#清理缓存&amp;&amp;生成项目文件&amp;&amp;本地运行项目</span><br><span class="line">hexo clean &amp;&amp; hexo g &amp;&amp; hexo s#需要先安装hexo-server插件</span><br></pre></td></tr></table></figure><p>&emsp;&emsp;执行到这里, 如果前面过程中没有错误, 就会在本地成功启用Hexo博客站点, 通过<a href="http://localhost:4000/blog" target="_blank" rel="noopener">http://localhost:4000/blog</a>访问本地博客站点, 如图:</p><p><img src="imgs\hexo.png" alt="gitee"></p><p>&emsp;&emsp;执行完hexo init命令, 生成的Hexo的目录结构如图:</p><p><img src="imgs\目录.png" alt="gitee"></p><p>&emsp;&emsp;若想要将本地的博客文件push到gitee仓库, 需要先配置_config.yml全局配置文件, 再进行一下步骤4配置git相关信息, 再执行下列命令:</p><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">#发布项目到远程</span><br><span class="line">hexo d#需要hexo-deployer-git插件, 配置完一些git的相关配置才能上传</span><br><span class="line">#生成页面</span><br><span class="line">hexo new page "xxx"</span><br><span class="line">#生成文章</span><br><span class="line">hexo new "xxx"</span><br><span class="line">#安装插件</span><br><span class="line">npm install xxx --save</span><br><span class="line">#卸载插件</span><br><span class="line">npm unstall xxx</span><br></pre></td></tr></table></figure><p>&emsp;&emsp;以上命令既可以用Windows的cmd来完成, 也可以用git bash来完成, 但有的命令cmd执行会有一些问题, 建议全部使用git bash来执行. 之后会提到git bash的使用</p><h2 id="根目录-config-yml全局配置文件"><a href="#根目录-config-yml全局配置文件" class="headerlink" title="根目录_config.yml全局配置文件"></a><font color="black">根目录_config.yml全局配置文件</font></h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">title: CRainyDay&apos;s Blog</span><br><span class="line">author: CRainyDay</span><br><span class="line">language: zh-CN</span><br><span class="line">#url</span><br><span class="line">url: http://crainyday.gitee.io/blog#这里填写gitee pages生成的url</span><br><span class="line">root: /blog#博客根目录</span><br><span class="line">theme: landscape#网站应用的主题名字</span><br><span class="line">#与hexo d相关的配置</span><br><span class="line">deploy:</span><br><span class="line">  type: git</span><br><span class="line">  repo: https://gitee.com/用户名/仓库名.git #你的gitee仓库地址</span><br><span class="line">  branch: master</span><br></pre></td></tr></table></figure><font style="color:red;font-weight:bold;font-size:1.5em;">注意: 配置文件中每个 : 后要有一个英文的空格</font><p>每个主题相应的目录下也有主题的_config.yml配置文件</p><h1 id="4-git的使用"><a href="#4-git的使用" class="headerlink" title="4.git的使用"></a>4.git的使用</h1><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">#需要在你的博客根目录下右键运行Git Bash Here</span><br><span class="line">git config --global user.name "你的gitee用户名"</span><br><span class="line">git config --global user.email "你的gitee绑定的邮箱地址"</span><br><span class="line">git init</span><br><span class="line">git remote add origin &lt;你的仓库地址&gt;</span><br><span class="line">#以下命令这里用不到, 可以了解一下</span><br><span class="line">git clone &lt;想要克隆的项目地址&gt;</span><br><span class="line">git pull origin master#拉取代码</span><br><span class="line">git add .</span><br><span class="line">git commit -m "提交信息"</span><br><span class="line">git push origin master#提交代码</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
            <tag> Gitee </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
